{"version":3,"names":["_object","_interopRequireDefault","require","_shape","_valuesOf","_wrapValidator","number","props","propName","componentName","value","isNaN","TypeError","concat","numberOrPropsFunc","lowerCompare","_ref","gt","gte","upperCompare","_ref2","lt","lte","greaterThanError","_ref3","lessThanError","_ref4","errorMessage","opts","errors","filter","Boolean","join","propsThunkify","reduce","acc","_ref5","_ref6","_slicedToArray","key","numberThunk","_objectSpread","_defineProperty","invokeWithProps","optsThunks","_ref7","_ref8","thunk","argValidators","isRequired","argValidator","every","validator","thunkValueValidator","betweenValidator","options","argError","between","propValue","RangeError","_typeof","_len","arguments","length","rest","Array","_key","thunkValuesError","apply","betweenRequired","_len2","_key2"],"sources":["../src/between.js"],"sourcesContent":["import entries from 'object.entries';\n\nimport shape from './shape';\nimport valuesOf from './valuesOf';\nimport wrapValidator from './helpers/wrapValidator';\n\nfunction number(props, propName, componentName) {\n  const value = props[propName];\n  if (typeof value === 'number' && !isNaN(value)) {\n    return null;\n  }\n\n  return new TypeError(`${componentName}: ${propName} must be a non-NaN number.`);\n}\n\nfunction numberOrPropsFunc(props, propName) {\n  const value = props[propName];\n\n  if (typeof value === 'function') {\n    return null;\n  }\n\n  if (typeof value === 'number' && !isNaN(value)) {\n    return null;\n  }\n\n  return new TypeError(`${propName}: a function, or a non-NaN number is required`);\n}\n\nfunction lowerCompare(value, { gt, gte }) {\n  if (typeof gt === 'number') {\n    return value > gt;\n  }\n  if (typeof gte === 'number') {\n    return value >= gte;\n  }\n  return true;\n}\n\nfunction upperCompare(value, { lt, lte }) {\n  if (typeof lt === 'number') {\n    return value < lt;\n  }\n  if (typeof lte === 'number') {\n    return value <= lte;\n  }\n  return true;\n}\n\nfunction greaterThanError({ gt, gte }) {\n  if (typeof gt === 'number') {\n    return `greater than ${gt}`;\n  }\n  if (typeof gte === 'number') {\n    return `greater than or equal to ${gte}`;\n  }\n  return '';\n}\n\nfunction lessThanError({ lt, lte }) {\n  if (typeof lt === 'number') {\n    return `less than ${lt}`;\n  }\n  if (typeof lte === 'number') {\n    return `less than or equal to ${lte}`;\n  }\n  return '';\n}\n\nfunction errorMessage(componentName, propName, opts) {\n  const errors = [greaterThanError(opts), lessThanError(opts)].filter(Boolean).join(' and ');\n  return `${componentName}: ${propName} must be ${errors}`;\n}\n\nfunction propsThunkify(opts) {\n  return entries(opts).reduce((acc, [key, value]) => {\n    const numberThunk = typeof value === 'number' ? () => value : value;\n    return { ...acc, [key]: numberThunk };\n  }, {});\n}\n\nfunction invokeWithProps(optsThunks, props) {\n  return entries(optsThunks).reduce((acc, [key, thunk]) => {\n    const value = thunk(props);\n    return { ...acc, [key]: value };\n  }, {});\n}\n\nconst argValidators = [\n  shape({ lt: numberOrPropsFunc, gt: numberOrPropsFunc }).isRequired,\n  shape({ lte: numberOrPropsFunc, gt: numberOrPropsFunc }).isRequired,\n  shape({ lt: numberOrPropsFunc, gte: numberOrPropsFunc }).isRequired,\n  shape({ lte: numberOrPropsFunc, gte: numberOrPropsFunc }).isRequired,\n  shape({ lt: numberOrPropsFunc }).isRequired,\n  shape({ lte: numberOrPropsFunc }).isRequired,\n  shape({ gt: numberOrPropsFunc }).isRequired,\n  shape({ gte: numberOrPropsFunc }).isRequired,\n];\nfunction argValidator(props, propName) {\n  return argValidators.every((validator) => !!validator(props, propName));\n}\n\nconst thunkValueValidator = valuesOf(number).isRequired;\n\nexport default function betweenValidator(options) {\n  const argError = argValidator({ options }, 'options');\n  if (argError) {\n    throw new TypeError('between: only one of the pairs of `lt`/`lte`, and `gt`/`gte`, may be supplied, and at least one pair must be provided.');\n  }\n\n  const optsThunks = propsThunkify(options);\n\n  const validator = function between(props, propName, componentName, ...rest) {\n    const { [propName]: propValue } = props;\n    if (propValue == null) {\n      return null;\n    }\n\n    if (typeof propValue !== 'number') {\n      return new RangeError(`${componentName}: ${propName} must be a number, got \"${typeof propValue}\"`);\n    }\n\n    const opts = invokeWithProps(optsThunks, props);\n    const thunkValuesError = thunkValueValidator(\n      { [propName]: opts },\n      propName,\n      componentName,\n      ...rest,\n    );\n    if (thunkValuesError) {\n      return thunkValuesError;\n    }\n\n    if (!lowerCompare(propValue, opts) || !upperCompare(propValue, opts)) {\n      return new RangeError(errorMessage(componentName, propName, opts));\n    }\n\n    return null;\n  };\n  validator.isRequired = function betweenRequired(props, propName, componentName, ...rest) {\n    const { [propName]: propValue } = props;\n    if (typeof propValue !== 'number') {\n      return new RangeError(`${componentName}: ${propName} must be a number, got \"${typeof propValue}\"`);\n    }\n\n    const opts = invokeWithProps(optsThunks, props);\n    const thunkValuesError = thunkValueValidator(\n      { [propName]: opts },\n      propName,\n      componentName,\n      ...rest,\n    );\n    if (thunkValuesError) {\n      return thunkValuesError;\n    }\n\n    if (!lowerCompare(propValue, opts) || !upperCompare(propValue, opts)) {\n      return new RangeError(errorMessage(componentName, propName, opts));\n    }\n\n    return null;\n  };\n\n  return wrapValidator(validator, 'between', options);\n}\n"],"mappings":"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"}