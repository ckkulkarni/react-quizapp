{"version":3,"names":["_react","_interopRequireDefault","require","_reactDom","_server","_shallow","_package","_testUtils","_semver","_checkPropTypes2","_has","_reactIs","_enzyme","_Utils","_enzymeShallowEqual","_enzymeAdapterUtils","_findCurrentFiberUsingSlowPath","_detectFiberTags","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","value","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","_possibleConstructorReturn","self","call","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","is164","Simulate","touchStart","is165","auxClick","is166","unstable_AsyncMode","is168","act","hasShouldComponentUpdateBug","satisfies","version","FiberTags","nodeAndSiblingsArray","nodeWithSibling","array","node","sibling","flatten","arr","stack","n","pop","el","Array","isArray","nodeTypeFromType","type","Portal","isMemo","compareNodeTypeOf","Memo","isLazy","Lazy","unmemoType","transformSuspense","renderedEl","prerenderEl","_ref","suspenseFallback","isSuspense","children","fallback","replaceLazyWithFallback","_renderedEl$type","propTypes","defaultProps","contextTypes","contextType","childContextTypes","FakeSuspense","_object","isStateful","_prerenderEl$type","_super","render","createElement","elementToTree","isPortal","containerInfo","nodeType","ensureKeyOrUndefined","ref","rendered","_toTree","toTree","vnode","tag","HostRoot","childrenToTree","child","HostPortal","stateNode","memoizedProps","ClassComponent","FunctionalComponent","MemoClass","elementType","MemoSFC","renderedNodes","map","HostComponent","_renderedNodes","HostText","Fragment","Mode","ContextProvider","ContextConsumer","Profiler","ForwardRef","pendingProps","Suspense","Error","concat","_nodeToHostNode","nodeToHostNode","_node","mapper","item","findDOMNode","eventOptions","animation","pointerEvents","getEmptyStateValue","EmptyState","_React$Component","_super2","Component","testRenderer","_instance","state","wrapAct","fn","returnVal","getProviderDefaultValue","Provider","_context","_defaultValue","_currentValue","makeFakeElement","$$typeof","Element","isReactComponent","__reactAutoBindPairs","ReactSixteenAdapter","_EnzymeAdapter","_super3","_this","lifecycles","options","enableComponentDidUpdateOnSetState","legacyContextMode","componentDidUpdate","onSetState","getDerivedStateFromProps","getSnapshotBeforeUpdate","setState","skipsComponentDidUpdateOnNullish","getChildContext","calledByRenderer","getDerivedStateFromError","createMountRenderer","assertDomAvailable","attachTo","hydrateIn","wrappingComponentProps","domNode","global","document","adapter","context","callback","wrapperProps","refProp","ReactWrapperComponent","createMountWrapper","wrappedEl","hydrate","setChildProps","unmount","unmountComponentAtNode","getNode","getNodeFromRootFinder","isCustomComponent","_reactInternalFiber","simulateError","nodeHierarchy","rootNode","error","isErrorBoundary","_ref2","elInstance","componentDidCatch","_ref3","find","catchingInstance","catchingType","displayNameOfNode","undefined","simulateEvent","event","mock","mappedEvent","mapNativeEventNames","eventFn","batchedUpdates","getWrappingComponentRenderer","getWrappingComponentMountRenderer","inst","getMountWrapperInstance","wrapInvoke","createShallowRenderer","_this2","renderer","isDOM","cachedNode","lastComponent","wrappedComponent","sentinel","wrapPureComponent","compare","RangeError","_Component","_super4","shouldComponentUpdate","nextProps","isPureReactComponent","memoized","prevProps","shouldUpdate","_len","args","_key","displayName","wrapFunctionalComponent","_len2","_key2","renderElement","elConfig","_len3","rest","_key3","typeIsExisted","clonedEl","elementIsChanged","unmaskedContext","_ref4","_ref4$providerValues","providerValues","Map","isContextProvider","set","MockProvider","withSetStateAllowed","isContextConsumer","getProviderFromConsumer","has","get","MockConsumer","_renderedEl","getMaskedContext","_el$type","InnerComp","isComponentStateful","_spyMethod","spyMethod","originalMethod","_updateClassComponent","clonedProps","_len4","_key4","restore","emptyStateValue","output","getRenderOutput","_len5","_key5","handler","propFromEvent","checkPropTypes","typeSpecs","values","location","hierarchy","getComponentStack","createStringRenderer","ContextWrapper","createRenderWrapper","renderToStaticMarkup","createRenderer","mode","EnzymeAdapter","MODES","MOUNT","SHALLOW","STRING","wrap","element","nodeToElement","propsWithKeysAndRef","matchesElementType","matchingType","elementToNode","supportsArray","nodes","ConcurrentMode","AsyncMode","NaN","StrictMode","$$typeofType","nodeName","name","isValidElement","isElement","isValidElementType","isFragment","fragment","typeOfNode","fakeElement","isForwardRef","isCustomComponentElement","Consumer","wrapWithWrappingComponent","RootFinder","_default2","exports","module","default"],"sources":["../src/ReactSixteenAdapter.js"],"sourcesContent":["/* eslint no-use-before-define: 0 */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n// eslint-disable-next-line import/no-unresolved\nimport ReactDOMServer from 'react-dom/server';\n// eslint-disable-next-line import/no-unresolved\nimport ShallowRenderer from 'react-test-renderer/shallow';\nimport { version as testRendererVersion } from 'react-test-renderer/package.json';\n// eslint-disable-next-line import/no-unresolved\nimport TestUtils from 'react-dom/test-utils';\nimport semver from 'semver';\nimport checkPropTypes from 'prop-types/checkPropTypes';\nimport has from 'has';\nimport {\n  AsyncMode,\n  ConcurrentMode,\n  ContextConsumer,\n  ContextProvider,\n  Element,\n  ForwardRef,\n  Fragment,\n  isContextConsumer,\n  isContextProvider,\n  isElement,\n  isForwardRef,\n  isPortal,\n  isSuspense,\n  isValidElementType,\n  Lazy,\n  Memo,\n  Portal,\n  Profiler,\n  StrictMode,\n  Suspense,\n} from 'react-is';\nimport { EnzymeAdapter } from 'enzyme';\nimport { typeOfNode } from 'enzyme/build/Utils';\nimport shallowEqual from 'enzyme-shallow-equal';\nimport {\n  displayNameOfNode,\n  elementToTree as utilElementToTree,\n  nodeTypeFromType as utilNodeTypeFromType,\n  mapNativeEventNames,\n  propFromEvent,\n  assertDomAvailable,\n  withSetStateAllowed,\n  createRenderWrapper,\n  createMountWrapper,\n  propsWithKeysAndRef,\n  ensureKeyOrUndefined,\n  simulateError,\n  wrap,\n  getMaskedContext,\n  getComponentStack,\n  RootFinder,\n  getNodeFromRootFinder,\n  wrapWithWrappingComponent,\n  getWrappingComponentMountRenderer,\n  compareNodeTypeOf,\n  spyMethod,\n} from 'enzyme-adapter-utils';\nimport findCurrentFiberUsingSlowPath from './findCurrentFiberUsingSlowPath';\nimport detectFiberTags from './detectFiberTags';\n\nconst is164 = !!TestUtils.Simulate.touchStart; // 16.4+\nconst is165 = !!TestUtils.Simulate.auxClick; // 16.5+\nconst is166 = is165 && !React.unstable_AsyncMode; // 16.6+\nconst is168 = is166 && typeof TestUtils.act === 'function';\n\nconst hasShouldComponentUpdateBug = semver.satisfies(testRendererVersion, '< 16.8');\n\n// Lazily populated if DOM is available.\nlet FiberTags = null;\n\nfunction nodeAndSiblingsArray(nodeWithSibling) {\n  const array = [];\n  let node = nodeWithSibling;\n  while (node != null) {\n    array.push(node);\n    node = node.sibling;\n  }\n  return array;\n}\n\nfunction flatten(arr) {\n  const result = [];\n  const stack = [{ i: 0, array: arr }];\n  while (stack.length) {\n    const n = stack.pop();\n    while (n.i < n.array.length) {\n      const el = n.array[n.i];\n      n.i += 1;\n      if (Array.isArray(el)) {\n        stack.push(n);\n        stack.push({ i: 0, array: el });\n        break;\n      }\n      result.push(el);\n    }\n  }\n  return result;\n}\n\nfunction nodeTypeFromType(type) {\n  if (type === Portal) {\n    return 'portal';\n  }\n\n  return utilNodeTypeFromType(type);\n}\n\nfunction isMemo(type) {\n  return compareNodeTypeOf(type, Memo);\n}\n\nfunction isLazy(type) {\n  return compareNodeTypeOf(type, Lazy);\n}\n\nfunction unmemoType(type) {\n  return isMemo(type) ? type.type : type;\n}\n\nfunction transformSuspense(renderedEl, prerenderEl, { suspenseFallback }) {\n  if (!isSuspense(renderedEl)) {\n    return renderedEl;\n  }\n\n  let { children } = renderedEl.props;\n\n  if (suspenseFallback) {\n    const { fallback } = renderedEl.props;\n    children = replaceLazyWithFallback(children, fallback);\n  }\n\n  const {\n    propTypes,\n    defaultProps,\n    contextTypes,\n    contextType,\n    childContextTypes,\n  } = renderedEl.type;\n\n  const FakeSuspense = Object.assign(\n    isStateful(prerenderEl.type)\n      ? class FakeSuspense extends prerenderEl.type {\n        render() {\n          const { type, props } = prerenderEl;\n          return React.createElement(\n            type,\n            { ...props, ...this.props },\n            children,\n          );\n        }\n      }\n      : function FakeSuspense(props) { // eslint-disable-line prefer-arrow-callback\n        return React.createElement(\n          renderedEl.type,\n          { ...renderedEl.props, ...props },\n          children,\n        );\n      },\n    {\n      propTypes,\n      defaultProps,\n      contextTypes,\n      contextType,\n      childContextTypes,\n    },\n  );\n  return React.createElement(FakeSuspense, null, children);\n}\n\nfunction elementToTree(el) {\n  if (!isPortal(el)) {\n    return utilElementToTree(el, elementToTree);\n  }\n\n  const { children, containerInfo } = el;\n  const props = { children, containerInfo };\n\n  return {\n    nodeType: 'portal',\n    type: Portal,\n    props,\n    key: ensureKeyOrUndefined(el.key),\n    ref: el.ref || null,\n    instance: null,\n    rendered: elementToTree(el.children),\n  };\n}\n\nfunction toTree(vnode) {\n  if (vnode == null) {\n    return null;\n  }\n  // TODO(lmr): I'm not really sure I understand whether or not this is what\n  // i should be doing, or if this is a hack for something i'm doing wrong\n  // somewhere else. Should talk to sebastian about this perhaps\n  const node = findCurrentFiberUsingSlowPath(vnode);\n  switch (node.tag) {\n    case FiberTags.HostRoot:\n      return childrenToTree(node.child);\n    case FiberTags.HostPortal: {\n      const {\n        stateNode: { containerInfo },\n        memoizedProps: children,\n      } = node;\n      const props = { containerInfo, children };\n      return {\n        nodeType: 'portal',\n        type: Portal,\n        props,\n        key: ensureKeyOrUndefined(node.key),\n        ref: node.ref,\n        instance: null,\n        rendered: childrenToTree(node.child),\n      };\n    }\n    case FiberTags.ClassComponent:\n      return {\n        nodeType: 'class',\n        type: node.type,\n        props: { ...node.memoizedProps },\n        key: ensureKeyOrUndefined(node.key),\n        ref: node.ref,\n        instance: node.stateNode,\n        rendered: childrenToTree(node.child),\n      };\n    case FiberTags.FunctionalComponent:\n      return {\n        nodeType: 'function',\n        type: node.type,\n        props: { ...node.memoizedProps },\n        key: ensureKeyOrUndefined(node.key),\n        ref: node.ref,\n        instance: null,\n        rendered: childrenToTree(node.child),\n      };\n    case FiberTags.MemoClass:\n      return {\n        nodeType: 'class',\n        type: node.elementType.type,\n        props: { ...node.memoizedProps },\n        key: ensureKeyOrUndefined(node.key),\n        ref: node.ref,\n        instance: node.stateNode,\n        rendered: childrenToTree(node.child.child),\n      };\n    case FiberTags.MemoSFC: {\n      let renderedNodes = flatten(nodeAndSiblingsArray(node.child).map(toTree));\n      if (renderedNodes.length === 0) {\n        renderedNodes = childrenToTree(node.memoizedProps.children);\n      }\n      return {\n        nodeType: 'function',\n        type: node.elementType,\n        props: { ...node.memoizedProps },\n        key: ensureKeyOrUndefined(node.key),\n        ref: node.ref,\n        instance: null,\n        rendered: renderedNodes,\n      };\n    }\n    case FiberTags.HostComponent: {\n      let renderedNodes = flatten(nodeAndSiblingsArray(node.child).map(toTree));\n      if (renderedNodes.length === 0) {\n        renderedNodes = [node.memoizedProps.children];\n      }\n      return {\n        nodeType: 'host',\n        type: node.type,\n        props: { ...node.memoizedProps },\n        key: ensureKeyOrUndefined(node.key),\n        ref: node.ref,\n        instance: node.stateNode,\n        rendered: renderedNodes,\n      };\n    }\n    case FiberTags.HostText:\n      return node.memoizedProps;\n    case FiberTags.Fragment:\n    case FiberTags.Mode:\n    case FiberTags.ContextProvider:\n    case FiberTags.ContextConsumer:\n      return childrenToTree(node.child);\n    case FiberTags.Profiler:\n    case FiberTags.ForwardRef: {\n      return {\n        nodeType: 'function',\n        type: node.type,\n        props: { ...node.pendingProps },\n        key: ensureKeyOrUndefined(node.key),\n        ref: node.ref,\n        instance: null,\n        rendered: childrenToTree(node.child),\n      };\n    }\n    case FiberTags.Suspense: {\n      return {\n        nodeType: 'function',\n        type: Suspense,\n        props: { ...node.memoizedProps },\n        key: ensureKeyOrUndefined(node.key),\n        ref: node.ref,\n        instance: null,\n        rendered: childrenToTree(node.child),\n      };\n    }\n    case FiberTags.Lazy:\n      return childrenToTree(node.child);\n    default:\n      throw new Error(`Enzyme Internal Error: unknown node with tag ${node.tag}`);\n  }\n}\n\nfunction childrenToTree(node) {\n  if (!node) {\n    return null;\n  }\n  const children = nodeAndSiblingsArray(node);\n  if (children.length === 0) {\n    return null;\n  }\n  if (children.length === 1) {\n    return toTree(children[0]);\n  }\n  return flatten(children.map(toTree));\n}\n\nfunction nodeToHostNode(_node) {\n  // NOTE(lmr): node could be a function component\n  // which wont have an instance prop, but we can get the\n  // host node associated with its return value at that point.\n  // Although this breaks down if the return value is an array,\n  // as is possible with React 16.\n  let node = _node;\n  while (node && !Array.isArray(node) && node.instance === null) {\n    node = node.rendered;\n  }\n  // if the SFC returned null effectively, there is no host node.\n  if (!node) {\n    return null;\n  }\n\n  const mapper = (item) => {\n    if (item && item.instance) return ReactDOM.findDOMNode(item.instance);\n    return null;\n  };\n  if (Array.isArray(node)) {\n    return node.map(mapper);\n  }\n  if (Array.isArray(node.rendered) && node.nodeType === 'class') {\n    return node.rendered.map(mapper);\n  }\n  return mapper(node);\n}\n\nfunction replaceLazyWithFallback(node, fallback) {\n  if (!node) {\n    return null;\n  }\n  if (Array.isArray(node)) {\n    return node.map((el) => replaceLazyWithFallback(el, fallback));\n  }\n  if (isLazy(node.type)) {\n    return fallback;\n  }\n  return {\n    ...node,\n    props: {\n      ...node.props,\n      children: replaceLazyWithFallback(node.props.children, fallback),\n    },\n  };\n}\n\nconst eventOptions = {\n  animation: true,\n  pointerEvents: is164,\n  auxClick: is165,\n};\n\nfunction getEmptyStateValue() {\n  // this handles a bug in React 16.0 - 16.2\n  // see https://github.com/facebook/react/commit/39be83565c65f9c522150e52375167568a2a1459\n  // also see https://github.com/facebook/react/pull/11965\n\n  // eslint-disable-next-line react/prefer-stateless-function\n  class EmptyState extends React.Component {\n    render() {\n      return null;\n    }\n  }\n  const testRenderer = new ShallowRenderer();\n  testRenderer.render(React.createElement(EmptyState));\n  return testRenderer._instance.state;\n}\n\nfunction wrapAct(fn) {\n  if (!is168) {\n    return fn();\n  }\n  let returnVal;\n  TestUtils.act(() => { returnVal = fn(); });\n  return returnVal;\n}\n\nfunction getProviderDefaultValue(Provider) {\n  // React stores references to the Provider's defaultValue differently across versions.\n  if ('_defaultValue' in Provider._context) {\n    return Provider._context._defaultValue;\n  }\n  if ('_currentValue' in Provider._context) {\n    return Provider._context._currentValue;\n  }\n  throw new Error('Enzyme Internal Error: can’t figure out how to get Provider’s default value');\n}\n\nfunction makeFakeElement(type) {\n  return { $$typeof: Element, type };\n}\n\nfunction isStateful(Component) {\n  return Component.prototype && (\n    Component.prototype.isReactComponent\n    || Array.isArray(Component.__reactAutoBindPairs) // fallback for createClass components\n  );\n}\n\nclass ReactSixteenAdapter extends EnzymeAdapter {\n  constructor() {\n    super();\n    const { lifecycles } = this.options;\n    this.options = {\n      ...this.options,\n      enableComponentDidUpdateOnSetState: true, // TODO: remove, semver-major\n      legacyContextMode: 'parent',\n      lifecycles: {\n        ...lifecycles,\n        componentDidUpdate: {\n          onSetState: true,\n        },\n        getDerivedStateFromProps: {\n          hasShouldComponentUpdateBug,\n        },\n        getSnapshotBeforeUpdate: true,\n        setState: {\n          skipsComponentDidUpdateOnNullish: true,\n        },\n        getChildContext: {\n          calledByRenderer: false,\n        },\n        getDerivedStateFromError: is166,\n      },\n    };\n  }\n\n  createMountRenderer(options) {\n    assertDomAvailable('mount');\n    if (has(options, 'suspenseFallback')) {\n      throw new TypeError('`suspenseFallback` is not supported by the `mount` renderer');\n    }\n    if (FiberTags === null) {\n      // Requires DOM.\n      FiberTags = detectFiberTags();\n    }\n    const { attachTo, hydrateIn, wrappingComponentProps } = options;\n    const domNode = hydrateIn || attachTo || global.document.createElement('div');\n    let instance = null;\n    const adapter = this;\n    return {\n      render(el, context, callback) {\n        return wrapAct(() => {\n          if (instance === null) {\n            const { type, props, ref } = el;\n            const wrapperProps = {\n              Component: type,\n              props,\n              wrappingComponentProps,\n              context,\n              ...(ref && { refProp: ref }),\n            };\n            const ReactWrapperComponent = createMountWrapper(el, { ...options, adapter });\n            const wrappedEl = React.createElement(ReactWrapperComponent, wrapperProps);\n            instance = hydrateIn\n              ? ReactDOM.hydrate(wrappedEl, domNode)\n              : ReactDOM.render(wrappedEl, domNode);\n            if (typeof callback === 'function') {\n              callback();\n            }\n          } else {\n            instance.setChildProps(el.props, context, callback);\n          }\n        });\n      },\n      unmount() {\n        ReactDOM.unmountComponentAtNode(domNode);\n        instance = null;\n      },\n      getNode() {\n        if (!instance) {\n          return null;\n        }\n        return getNodeFromRootFinder(\n          adapter.isCustomComponent,\n          toTree(instance._reactInternalFiber),\n          options,\n        );\n      },\n      simulateError(nodeHierarchy, rootNode, error) {\n        const isErrorBoundary = ({ instance: elInstance, type }) => {\n          if (is166 && type && type.getDerivedStateFromError) {\n            return true;\n          }\n          return elInstance && elInstance.componentDidCatch;\n        };\n\n        const {\n          instance: catchingInstance,\n          type: catchingType,\n        } = nodeHierarchy.find(isErrorBoundary) || {};\n\n        simulateError(\n          error,\n          catchingInstance,\n          rootNode,\n          nodeHierarchy,\n          nodeTypeFromType,\n          adapter.displayNameOfNode.bind(adapter),\n          is166 ? catchingType : undefined,\n        );\n      },\n      simulateEvent(node, event, mock) {\n        const mappedEvent = mapNativeEventNames(event, eventOptions);\n        const eventFn = TestUtils.Simulate[mappedEvent];\n        if (!eventFn) {\n          throw new TypeError(`ReactWrapper::simulate() event '${event}' does not exist`);\n        }\n        wrapAct(() => {\n          eventFn(adapter.nodeToHostNode(node), mock);\n        });\n      },\n      batchedUpdates(fn) {\n        return fn();\n        // return ReactDOM.unstable_batchedUpdates(fn);\n      },\n      getWrappingComponentRenderer() {\n        return {\n          ...this,\n          ...getWrappingComponentMountRenderer({\n            toTree: (inst) => toTree(inst._reactInternalFiber),\n            getMountWrapperInstance: () => instance,\n          }),\n        };\n      },\n      ...(is168 && { wrapInvoke: wrapAct }),\n    };\n  }\n\n  createShallowRenderer(options = {}) {\n    const adapter = this;\n    const renderer = new ShallowRenderer();\n    const { suspenseFallback } = options;\n    if (typeof suspenseFallback !== 'undefined' && typeof suspenseFallback !== 'boolean') {\n      throw TypeError('`options.suspenseFallback` should be boolean or undefined');\n    }\n    let isDOM = false;\n    let cachedNode = null;\n\n    let lastComponent = null;\n    let wrappedComponent = null;\n    const sentinel = {};\n\n    // wrap memo components with a PureComponent, or a class component with sCU\n    const wrapPureComponent = (Component, compare) => {\n      if (!is166) {\n        throw new RangeError('this function should not be called in React < 16.6. Please report this!');\n      }\n      if (lastComponent !== Component) {\n        if (isStateful(Component)) {\n          wrappedComponent = class extends Component {}; // eslint-disable-line react/prefer-stateless-function\n          if (compare) {\n            wrappedComponent.prototype.shouldComponentUpdate = (nextProps) => !compare(this.props, nextProps);\n          } else {\n            wrappedComponent.prototype.isPureReactComponent = true;\n          }\n        } else {\n          let memoized = sentinel;\n          let prevProps;\n          wrappedComponent = function (props, ...args) {\n            const shouldUpdate = memoized === sentinel || (compare\n              ? !compare(prevProps, props)\n              : !shallowEqual(prevProps, props)\n            );\n            if (shouldUpdate) {\n              memoized = Component({ ...Component.defaultProps, ...props }, ...args);\n              prevProps = props;\n            }\n            return memoized;\n          };\n        }\n        Object.assign(\n          wrappedComponent,\n          Component,\n          { displayName: adapter.displayNameOfNode({ type: Component }) },\n        );\n        lastComponent = Component;\n      }\n      return wrappedComponent;\n    };\n\n    // Wrap functional components on versions prior to 16.5,\n    // to avoid inadvertently pass a `this` instance to it.\n    const wrapFunctionalComponent = (Component) => {\n      if (is166 && has(Component, 'defaultProps')) {\n        if (lastComponent !== Component) {\n          wrappedComponent = Object.assign(\n            // eslint-disable-next-line new-cap\n            (props, ...args) => Component({ ...Component.defaultProps, ...props }, ...args),\n            Component,\n            { displayName: adapter.displayNameOfNode({ type: Component }) },\n          );\n          lastComponent = Component;\n        }\n        return wrappedComponent;\n      }\n      if (is165) {\n        return Component;\n      }\n\n      if (lastComponent !== Component) {\n        wrappedComponent = Object.assign(\n          (...args) => Component(...args), // eslint-disable-line new-cap\n          Component,\n        );\n        lastComponent = Component;\n      }\n      return wrappedComponent;\n    };\n\n    const renderElement = (elConfig, ...rest) => {\n      const renderedEl = renderer.render(elConfig, ...rest);\n\n      const typeIsExisted = !!(renderedEl && renderedEl.type);\n      if (is166 && typeIsExisted) {\n        const clonedEl = transformSuspense(renderedEl, elConfig, { suspenseFallback });\n\n        const elementIsChanged = clonedEl.type !== renderedEl.type;\n        if (elementIsChanged) {\n          return renderer.render({ ...elConfig, type: clonedEl.type }, ...rest);\n        }\n      }\n\n      return renderedEl;\n    };\n\n    return {\n      render(el, unmaskedContext, {\n        providerValues = new Map(),\n      } = {}) {\n        cachedNode = el;\n        /* eslint consistent-return: 0 */\n        if (typeof el.type === 'string') {\n          isDOM = true;\n        } else if (isContextProvider(el)) {\n          providerValues.set(el.type, el.props.value);\n          const MockProvider = Object.assign(\n            (props) => props.children,\n            el.type,\n          );\n          return withSetStateAllowed(() => renderElement({ ...el, type: MockProvider }));\n        } else if (isContextConsumer(el)) {\n          const Provider = adapter.getProviderFromConsumer(el.type);\n          const value = providerValues.has(Provider)\n            ? providerValues.get(Provider)\n            : getProviderDefaultValue(Provider);\n          const MockConsumer = Object.assign(\n            (props) => props.children(value),\n            el.type,\n          );\n          return withSetStateAllowed(() => renderElement({ ...el, type: MockConsumer }));\n        } else {\n          isDOM = false;\n          let renderedEl = el;\n          if (isLazy(renderedEl)) {\n            throw TypeError('`React.lazy` is not supported by shallow rendering.');\n          }\n\n          renderedEl = transformSuspense(renderedEl, renderedEl, { suspenseFallback });\n          const { type: Component } = renderedEl;\n\n          const context = getMaskedContext(Component.contextTypes, unmaskedContext);\n\n          if (isMemo(el.type)) {\n            const { type: InnerComp, compare } = el.type;\n\n            return withSetStateAllowed(() => renderElement(\n              { ...el, type: wrapPureComponent(InnerComp, compare) },\n              context,\n            ));\n          }\n\n          const isComponentStateful = isStateful(Component);\n\n          if (!isComponentStateful && typeof Component === 'function') {\n            return withSetStateAllowed(() => renderElement(\n              { ...renderedEl, type: wrapFunctionalComponent(Component) },\n              context,\n            ));\n          }\n\n          if (isComponentStateful) {\n            if (\n              renderer._instance\n              && el.props === renderer._instance.props\n              && !shallowEqual(context, renderer._instance.context)\n            ) {\n              const { restore } = spyMethod(\n                renderer,\n                '_updateClassComponent',\n                (originalMethod) => function _updateClassComponent(...args) {\n                  const { props } = renderer._instance;\n                  const clonedProps = { ...props };\n                  renderer._instance.props = clonedProps;\n\n                  const result = originalMethod.apply(renderer, args);\n\n                  renderer._instance.props = props;\n                  restore();\n\n                  return result;\n                },\n              );\n            }\n\n            // fix react bug; see implementation of `getEmptyStateValue`\n            const emptyStateValue = getEmptyStateValue();\n            if (emptyStateValue) {\n              Object.defineProperty(Component.prototype, 'state', {\n                configurable: true,\n                enumerable: true,\n                get() {\n                  return null;\n                },\n                set(value) {\n                  if (value !== emptyStateValue) {\n                    Object.defineProperty(this, 'state', {\n                      configurable: true,\n                      enumerable: true,\n                      value,\n                      writable: true,\n                    });\n                  }\n                },\n              });\n            }\n          }\n          return withSetStateAllowed(() => renderElement(renderedEl, context));\n        }\n      },\n      unmount() {\n        renderer.unmount();\n      },\n      getNode() {\n        if (isDOM) {\n          return elementToTree(cachedNode);\n        }\n        const output = renderer.getRenderOutput();\n        return {\n          nodeType: nodeTypeFromType(cachedNode.type),\n          type: cachedNode.type,\n          props: cachedNode.props,\n          key: ensureKeyOrUndefined(cachedNode.key),\n          ref: cachedNode.ref,\n          instance: renderer._instance,\n          rendered: Array.isArray(output)\n            ? flatten(output).map((el) => elementToTree(el))\n            : elementToTree(output),\n        };\n      },\n      simulateError(nodeHierarchy, rootNode, error) {\n        simulateError(\n          error,\n          renderer._instance,\n          cachedNode,\n          nodeHierarchy.concat(cachedNode),\n          nodeTypeFromType,\n          adapter.displayNameOfNode.bind(adapter),\n          is166 ? cachedNode.type : undefined,\n        );\n      },\n      simulateEvent(node, event, ...args) {\n        const handler = node.props[propFromEvent(event, eventOptions)];\n        if (handler) {\n          withSetStateAllowed(() => {\n            // TODO(lmr): create/use synthetic events\n            // TODO(lmr): emulate React's event propagation\n            // ReactDOM.unstable_batchedUpdates(() => {\n            handler(...args);\n            // });\n          });\n        }\n      },\n      batchedUpdates(fn) {\n        return fn();\n        // return ReactDOM.unstable_batchedUpdates(fn);\n      },\n      checkPropTypes(typeSpecs, values, location, hierarchy) {\n        return checkPropTypes(\n          typeSpecs,\n          values,\n          location,\n          displayNameOfNode(cachedNode),\n          () => getComponentStack(hierarchy.concat([cachedNode])),\n        );\n      },\n    };\n  }\n\n  createStringRenderer(options) {\n    if (has(options, 'suspenseFallback')) {\n      throw new TypeError('`suspenseFallback` should not be specified in options of string renderer');\n    }\n    return {\n      render(el, context) {\n        if (options.context && (el.type.contextTypes || options.childContextTypes)) {\n          const childContextTypes = {\n            ...(el.type.contextTypes || {}),\n            ...options.childContextTypes,\n          };\n          const ContextWrapper = createRenderWrapper(el, context, childContextTypes);\n          return ReactDOMServer.renderToStaticMarkup(React.createElement(ContextWrapper));\n        }\n        return ReactDOMServer.renderToStaticMarkup(el);\n      },\n    };\n  }\n\n  // Provided a bag of options, return an `EnzymeRenderer`. Some options can be implementation\n  // specific, like `attach` etc. for React, but not part of this interface explicitly.\n  // eslint-disable-next-line class-methods-use-this\n  createRenderer(options) {\n    switch (options.mode) {\n      case EnzymeAdapter.MODES.MOUNT: return this.createMountRenderer(options);\n      case EnzymeAdapter.MODES.SHALLOW: return this.createShallowRenderer(options);\n      case EnzymeAdapter.MODES.STRING: return this.createStringRenderer(options);\n      default:\n        throw new Error(`Enzyme Internal Error: Unrecognized mode: ${options.mode}`);\n    }\n  }\n\n  wrap(element) {\n    return wrap(element);\n  }\n\n  // converts an RSTNode to the corresponding JSX Pragma Element. This will be needed\n  // in order to implement the `Wrapper.mount()` and `Wrapper.shallow()` methods, but should\n  // be pretty straightforward for people to implement.\n  // eslint-disable-next-line class-methods-use-this\n  nodeToElement(node) {\n    if (!node || typeof node !== 'object') return null;\n    const { type } = node;\n    return React.createElement(unmemoType(type), propsWithKeysAndRef(node));\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  matchesElementType(node, matchingType) {\n    if (!node) {\n      return node;\n    }\n    const { type } = node;\n    return unmemoType(type) === unmemoType(matchingType);\n  }\n\n  elementToNode(element) {\n    return elementToTree(element);\n  }\n\n  nodeToHostNode(node, supportsArray = false) {\n    const nodes = nodeToHostNode(node);\n    if (Array.isArray(nodes) && !supportsArray) {\n      return nodes[0];\n    }\n    return nodes;\n  }\n\n  displayNameOfNode(node) {\n    if (!node) return null;\n    const { type, $$typeof } = node;\n    const adapter = this;\n\n    const nodeType = type || $$typeof;\n\n    // newer node types may be undefined, so only test if the nodeType exists\n    if (nodeType) {\n      switch (nodeType) {\n        case (is166 ? ConcurrentMode : AsyncMode) || NaN: return is166 ? 'ConcurrentMode' : 'AsyncMode';\n        case Fragment || NaN: return 'Fragment';\n        case StrictMode || NaN: return 'StrictMode';\n        case Profiler || NaN: return 'Profiler';\n        case Portal || NaN: return 'Portal';\n        case Suspense || NaN: return 'Suspense';\n        default:\n      }\n    }\n\n    const $$typeofType = type && type.$$typeof;\n\n    switch ($$typeofType) {\n      case ContextConsumer || NaN: return 'ContextConsumer';\n      case ContextProvider || NaN: return 'ContextProvider';\n      case Memo || NaN: {\n        const nodeName = displayNameOfNode(node);\n        return typeof nodeName === 'string' ? nodeName : `Memo(${adapter.displayNameOfNode(type)})`;\n      }\n      case ForwardRef || NaN: {\n        if (type.displayName) {\n          return type.displayName;\n        }\n        const name = adapter.displayNameOfNode({ type: type.render });\n        return name ? `ForwardRef(${name})` : 'ForwardRef';\n      }\n      case Lazy || NaN: {\n        return 'lazy';\n      }\n      default: return displayNameOfNode(node);\n    }\n  }\n\n  isValidElement(element) {\n    return isElement(element);\n  }\n\n  isValidElementType(object) {\n    return !!object && isValidElementType(object);\n  }\n\n  isFragment(fragment) {\n    return typeOfNode(fragment) === Fragment;\n  }\n\n  isCustomComponent(type) {\n    const fakeElement = makeFakeElement(type);\n    return !!type && (\n      typeof type === 'function'\n      || isForwardRef(fakeElement)\n      || isContextProvider(fakeElement)\n      || isContextConsumer(fakeElement)\n      || isSuspense(fakeElement)\n    );\n  }\n\n  isContextConsumer(type) {\n    return !!type && isContextConsumer(makeFakeElement(type));\n  }\n\n  isCustomComponentElement(inst) {\n    if (!inst || !this.isValidElement(inst)) {\n      return false;\n    }\n    return this.isCustomComponent(inst.type);\n  }\n\n  getProviderFromConsumer(Consumer) {\n    // React stores references to the Provider on a Consumer differently across versions.\n    if (Consumer) {\n      let Provider;\n      if (Consumer._context) { // check this first, to avoid a deprecation warning\n        ({ Provider } = Consumer._context);\n      } else if (Consumer.Provider) {\n        ({ Provider } = Consumer);\n      }\n      if (Provider) {\n        return Provider;\n      }\n    }\n    throw new Error('Enzyme Internal Error: can’t figure out how to get Provider from Consumer');\n  }\n\n  createElement(...args) {\n    return React.createElement(...args);\n  }\n\n  wrapWithWrappingComponent(node, options) {\n    return {\n      RootFinder,\n      node: wrapWithWrappingComponent(React.createElement, node, options),\n    };\n  }\n}\n\nexport default ReactSixteenAdapter;\n"],"mappings":"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"}