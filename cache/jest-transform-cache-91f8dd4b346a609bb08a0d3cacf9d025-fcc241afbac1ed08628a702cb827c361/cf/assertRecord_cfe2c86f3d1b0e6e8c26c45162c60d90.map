{"version":3,"names":["GetIntrinsic","require","$TypeError","$SyntaxError","has","isMatchRecord","predicates","isPropertyDescriptor","Desc","allowed","key","isData","IsAccessor","isIteratorRecord","value","isPromiseCapabilityRecord","then","isAsyncGeneratorRequestRecord","module","exports","assertRecord","Type","recordType","argumentName","predicate"],"sources":["assertRecord.js"],"sourcesContent":["'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $SyntaxError = GetIntrinsic('%SyntaxError%');\n\nvar has = require('has');\n\nvar isMatchRecord = require('./isMatchRecord');\n\nvar predicates = {\n\t// https://262.ecma-international.org/6.0/#sec-property-descriptor-specification-type\n\t'Property Descriptor': function isPropertyDescriptor(Desc) {\n\t\tvar allowed = {\n\t\t\t'[[Configurable]]': true,\n\t\t\t'[[Enumerable]]': true,\n\t\t\t'[[Get]]': true,\n\t\t\t'[[Set]]': true,\n\t\t\t'[[Value]]': true,\n\t\t\t'[[Writable]]': true\n\t\t};\n\n\t\tfor (var key in Desc) { // eslint-disable-line\n\t\t\tif (has(Desc, key) && !allowed[key]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tvar isData = has(Desc, '[[Value]]');\n\t\tvar IsAccessor = has(Desc, '[[Get]]') || has(Desc, '[[Set]]');\n\t\tif (isData && IsAccessor) {\n\t\t\tthrow new $TypeError('Property Descriptors may not be both accessor and data descriptors');\n\t\t}\n\t\treturn true;\n\t},\n\t// https://262.ecma-international.org/13.0/#sec-match-records\n\t'Match Record': isMatchRecord,\n\t'Iterator Record': function isIteratorRecord(value) {\n\t\treturn has(value, '[[Iterator]]') && has(value, '[[NextMethod]]') && has(value, '[[Done]]');\n\t},\n\t'PromiseCapability Record': function isPromiseCapabilityRecord(value) {\n\t\treturn value\n\t\t\t&& has(value, '[[Resolve]]')\n\t\t\t&& typeof value['[[Resolve]]'] === 'function'\n\t\t\t&& has(value, '[[Reject]]')\n\t\t\t&& typeof value['[[Reject]]'] === 'function'\n\t\t\t&& has(value, '[[Promise]]')\n\t\t\t&& value['[[Promise]]']\n\t\t\t&& typeof value['[[Promise]]'].then === 'function';\n\t},\n\t'AsyncGeneratorRequest Record': function isAsyncGeneratorRequestRecord(value) {\n\t\treturn value\n\t\t\t&& has(value, '[[Completion]]') // TODO: confirm is a completion record\n\t\t\t&& has(value, '[[Capability]]')\n\t\t\t&& predicates['PromiseCapability Record'](value['[[Capability]]']);\n\t}\n};\n\nmodule.exports = function assertRecord(Type, recordType, argumentName, value) {\n\tvar predicate = predicates[recordType];\n\tif (typeof predicate !== 'function') {\n\t\tthrow new $SyntaxError('unknown record type: ' + recordType);\n\t}\n\tif (Type(value) !== 'Object' || !predicate(value)) {\n\t\tthrow new $TypeError(argumentName + ' must be a ' + recordType);\n\t}\n};\n"],"mappings":"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"}