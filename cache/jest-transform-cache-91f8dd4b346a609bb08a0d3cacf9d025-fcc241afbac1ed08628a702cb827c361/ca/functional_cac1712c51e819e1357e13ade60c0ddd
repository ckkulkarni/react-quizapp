111f9f8fe1a22792004bdec66c12b1f9
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.preKeyupBehavior = exports.preKeydownBehavior = exports.postKeyupBehavior = exports.keyupBehavior = exports.keypressBehavior = exports.keydownBehavior = void 0;
var _dom = require("@testing-library/dom");
var _utils = require("../../utils");
var _getEventProps = require("../getEventProps");
var _shared = require("../shared");

/**
 * This file should contain behavior for functional keys as described here:
 * https://w3c.github.io/uievents-code/#key-alphanumeric-functional
 */
const modifierKeys = {
  Alt: 'alt',
  Control: 'ctrl',
  Shift: 'shift',
  Meta: 'meta'
};
const preKeydownBehavior = [
// modifierKeys switch on the modifier BEFORE the keydown event
...Object.entries(modifierKeys).map(([key, modKey]) => ({
  matches: keyDef => keyDef.key === key,
  handle: (keyDef, element, options, state) => {
    state.modifiers[modKey] = true;
  }
})),
// AltGraph produces an extra keydown for Control
// The modifier does not change
{
  matches: keyDef => keyDef.key === 'AltGraph',
  handle: (keyDef, element, options, state) => {
    var _options$keyboardMap$;
    const ctrlKeyDef = (_options$keyboardMap$ = options.keyboardMap.find(k => k.key === 'Control')) != null ? _options$keyboardMap$ : /* istanbul ignore next */
    {
      key: 'Control',
      code: 'Control'
    };
    _dom.fireEvent.keyDown(element, (0, _getEventProps.getKeyEventProps)(ctrlKeyDef, state));
  }
}];
exports.preKeydownBehavior = preKeydownBehavior;
const keydownBehavior = [{
  matches: keyDef => keyDef.key === 'CapsLock',
  handle: (keyDef, element, options, state) => {
    state.modifiers.caps = !state.modifiers.caps;
  }
}, {
  matches: (keyDef, element) => keyDef.key === 'Backspace' && (0, _utils.isEditable)(element) && !(0, _utils.isCursorAtStart)(element),
  handle: (keyDef, element, options, state) => {
    const {
      newValue,
      newSelectionStart
    } = (0, _utils.calculateNewValue)('', element, state.carryValue, undefined, 'backward');
    (0, _shared.fireInputEvent)(element, {
      newValue,
      newSelectionStart,
      eventOverrides: {
        inputType: 'deleteContentBackward'
      }
    });
    (0, _shared.carryValue)(element, state, newValue);
  }
}];
exports.keydownBehavior = keydownBehavior;
const keypressBehavior = [{
  matches: (keyDef, element) => keyDef.key === 'Enter' && (0, _utils.isElementType)(element, 'input') && ['checkbox', 'radio'].includes(element.type),
  handle: (keyDef, element) => {
    const form = element.form;
    if ((0, _utils.hasFormSubmit)(form)) {
      _dom.fireEvent.submit(form);
    }
  }
}, {
  matches: (keyDef, element) => keyDef.key === 'Enter' && ((0, _utils.isClickableInput)(element) ||
  // Links with href defined should handle Enter the same as a click
  (0, _utils.isElementType)(element, 'a') && Boolean(element.href)),
  handle: (keyDef, element, options, state) => {
    _dom.fireEvent.click(element, (0, _getEventProps.getMouseEventProps)(state));
  }
}, {
  matches: (keyDef, element) => keyDef.key === 'Enter' && (0, _utils.isElementType)(element, 'input'),
  handle: (keyDef, element) => {
    const form = element.form;
    if (form && (form.querySelectorAll('input').length === 1 || (0, _utils.hasFormSubmit)(form))) {
      _dom.fireEvent.submit(form);
    }
  }
}];
exports.keypressBehavior = keypressBehavior;
const preKeyupBehavior = [
// modifierKeys switch off the modifier BEFORE the keyup event
...Object.entries(modifierKeys).map(([key, modKey]) => ({
  matches: keyDef => keyDef.key === key,
  handle: (keyDef, element, options, state) => {
    state.modifiers[modKey] = false;
  }
}))];
exports.preKeyupBehavior = preKeyupBehavior;
const keyupBehavior = [{
  matches: (keyDef, element) => keyDef.key === ' ' && (0, _utils.isClickableInput)(element),
  handle: (keyDef, element, options, state) => {
    _dom.fireEvent.click(element, (0, _getEventProps.getMouseEventProps)(state));
  }
}];
exports.keyupBehavior = keyupBehavior;
const postKeyupBehavior = [
// AltGraph produces an extra keyup for Control
// The modifier does not change
{
  matches: keyDef => keyDef.key === 'AltGraph',
  handle: (keyDef, element, options, state) => {
    var _options$keyboardMap$2;
    const ctrlKeyDef = (_options$keyboardMap$2 = options.keyboardMap.find(k => k.key === 'Control')) != null ? _options$keyboardMap$2 : /* istanbul ignore next */
    {
      key: 'Control',
      code: 'Control'
    };
    _dom.fireEvent.keyUp(element, (0, _getEventProps.getKeyEventProps)(ctrlKeyDef, state));
  }
}];
exports.postKeyupBehavior = postKeyupBehavior;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsInByZUtleXVwQmVoYXZpb3IiLCJwcmVLZXlkb3duQmVoYXZpb3IiLCJwb3N0S2V5dXBCZWhhdmlvciIsImtleXVwQmVoYXZpb3IiLCJrZXlwcmVzc0JlaGF2aW9yIiwia2V5ZG93bkJlaGF2aW9yIiwiX2RvbSIsInJlcXVpcmUiLCJfdXRpbHMiLCJfZ2V0RXZlbnRQcm9wcyIsIl9zaGFyZWQiLCJtb2RpZmllcktleXMiLCJBbHQiLCJDb250cm9sIiwiU2hpZnQiLCJNZXRhIiwiZW50cmllcyIsIm1hcCIsImtleSIsIm1vZEtleSIsIm1hdGNoZXMiLCJrZXlEZWYiLCJoYW5kbGUiLCJlbGVtZW50Iiwib3B0aW9ucyIsInN0YXRlIiwibW9kaWZpZXJzIiwiX29wdGlvbnMka2V5Ym9hcmRNYXAkIiwiY3RybEtleURlZiIsImtleWJvYXJkTWFwIiwiZmluZCIsImsiLCJjb2RlIiwiZmlyZUV2ZW50Iiwia2V5RG93biIsImdldEtleUV2ZW50UHJvcHMiLCJjYXBzIiwiaXNFZGl0YWJsZSIsImlzQ3Vyc29yQXRTdGFydCIsIm5ld1ZhbHVlIiwibmV3U2VsZWN0aW9uU3RhcnQiLCJjYWxjdWxhdGVOZXdWYWx1ZSIsImNhcnJ5VmFsdWUiLCJ1bmRlZmluZWQiLCJmaXJlSW5wdXRFdmVudCIsImV2ZW50T3ZlcnJpZGVzIiwiaW5wdXRUeXBlIiwiaXNFbGVtZW50VHlwZSIsImluY2x1ZGVzIiwidHlwZSIsImZvcm0iLCJoYXNGb3JtU3VibWl0Iiwic3VibWl0IiwiaXNDbGlja2FibGVJbnB1dCIsIkJvb2xlYW4iLCJocmVmIiwiY2xpY2siLCJnZXRNb3VzZUV2ZW50UHJvcHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwibGVuZ3RoIiwiX29wdGlvbnMka2V5Ym9hcmRNYXAkMiIsImtleVVwIl0sInNvdXJjZXMiOlsiZnVuY3Rpb25hbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMucHJlS2V5dXBCZWhhdmlvciA9IGV4cG9ydHMucHJlS2V5ZG93bkJlaGF2aW9yID0gZXhwb3J0cy5wb3N0S2V5dXBCZWhhdmlvciA9IGV4cG9ydHMua2V5dXBCZWhhdmlvciA9IGV4cG9ydHMua2V5cHJlc3NCZWhhdmlvciA9IGV4cG9ydHMua2V5ZG93bkJlaGF2aW9yID0gdm9pZCAwO1xuXG52YXIgX2RvbSA9IHJlcXVpcmUoXCJAdGVzdGluZy1saWJyYXJ5L2RvbVwiKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuLi8uLi91dGlsc1wiKTtcblxudmFyIF9nZXRFdmVudFByb3BzID0gcmVxdWlyZShcIi4uL2dldEV2ZW50UHJvcHNcIik7XG5cbnZhciBfc2hhcmVkID0gcmVxdWlyZShcIi4uL3NoYXJlZFwiKTtcblxuLyoqXG4gKiBUaGlzIGZpbGUgc2hvdWxkIGNvbnRhaW4gYmVoYXZpb3IgZm9yIGZ1bmN0aW9uYWwga2V5cyBhcyBkZXNjcmliZWQgaGVyZTpcbiAqIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby91aWV2ZW50cy1jb2RlLyNrZXktYWxwaGFudW1lcmljLWZ1bmN0aW9uYWxcbiAqL1xuY29uc3QgbW9kaWZpZXJLZXlzID0ge1xuICBBbHQ6ICdhbHQnLFxuICBDb250cm9sOiAnY3RybCcsXG4gIFNoaWZ0OiAnc2hpZnQnLFxuICBNZXRhOiAnbWV0YSdcbn07XG5jb25zdCBwcmVLZXlkb3duQmVoYXZpb3IgPSBbLy8gbW9kaWZpZXJLZXlzIHN3aXRjaCBvbiB0aGUgbW9kaWZpZXIgQkVGT1JFIHRoZSBrZXlkb3duIGV2ZW50XG4uLi5PYmplY3QuZW50cmllcyhtb2RpZmllcktleXMpLm1hcCgoW2tleSwgbW9kS2V5XSkgPT4gKHtcbiAgbWF0Y2hlczoga2V5RGVmID0+IGtleURlZi5rZXkgPT09IGtleSxcbiAgaGFuZGxlOiAoa2V5RGVmLCBlbGVtZW50LCBvcHRpb25zLCBzdGF0ZSkgPT4ge1xuICAgIHN0YXRlLm1vZGlmaWVyc1ttb2RLZXldID0gdHJ1ZTtcbiAgfVxufSkpLCAvLyBBbHRHcmFwaCBwcm9kdWNlcyBhbiBleHRyYSBrZXlkb3duIGZvciBDb250cm9sXG4vLyBUaGUgbW9kaWZpZXIgZG9lcyBub3QgY2hhbmdlXG57XG4gIG1hdGNoZXM6IGtleURlZiA9PiBrZXlEZWYua2V5ID09PSAnQWx0R3JhcGgnLFxuICBoYW5kbGU6IChrZXlEZWYsIGVsZW1lbnQsIG9wdGlvbnMsIHN0YXRlKSA9PiB7XG4gICAgdmFyIF9vcHRpb25zJGtleWJvYXJkTWFwJDtcblxuICAgIGNvbnN0IGN0cmxLZXlEZWYgPSAoX29wdGlvbnMka2V5Ym9hcmRNYXAkID0gb3B0aW9ucy5rZXlib2FyZE1hcC5maW5kKGsgPT4gay5rZXkgPT09ICdDb250cm9sJykpICE9IG51bGwgPyBfb3B0aW9ucyRrZXlib2FyZE1hcCQgOlxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAge1xuICAgICAga2V5OiAnQ29udHJvbCcsXG4gICAgICBjb2RlOiAnQ29udHJvbCdcbiAgICB9O1xuXG4gICAgX2RvbS5maXJlRXZlbnQua2V5RG93bihlbGVtZW50LCAoMCwgX2dldEV2ZW50UHJvcHMuZ2V0S2V5RXZlbnRQcm9wcykoY3RybEtleURlZiwgc3RhdGUpKTtcbiAgfVxufV07XG5leHBvcnRzLnByZUtleWRvd25CZWhhdmlvciA9IHByZUtleWRvd25CZWhhdmlvcjtcbmNvbnN0IGtleWRvd25CZWhhdmlvciA9IFt7XG4gIG1hdGNoZXM6IGtleURlZiA9PiBrZXlEZWYua2V5ID09PSAnQ2Fwc0xvY2snLFxuICBoYW5kbGU6IChrZXlEZWYsIGVsZW1lbnQsIG9wdGlvbnMsIHN0YXRlKSA9PiB7XG4gICAgc3RhdGUubW9kaWZpZXJzLmNhcHMgPSAhc3RhdGUubW9kaWZpZXJzLmNhcHM7XG4gIH1cbn0sIHtcbiAgbWF0Y2hlczogKGtleURlZiwgZWxlbWVudCkgPT4ga2V5RGVmLmtleSA9PT0gJ0JhY2tzcGFjZScgJiYgKDAsIF91dGlscy5pc0VkaXRhYmxlKShlbGVtZW50KSAmJiAhKDAsIF91dGlscy5pc0N1cnNvckF0U3RhcnQpKGVsZW1lbnQpLFxuICBoYW5kbGU6IChrZXlEZWYsIGVsZW1lbnQsIG9wdGlvbnMsIHN0YXRlKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgbmV3VmFsdWUsXG4gICAgICBuZXdTZWxlY3Rpb25TdGFydFxuICAgIH0gPSAoMCwgX3V0aWxzLmNhbGN1bGF0ZU5ld1ZhbHVlKSgnJywgZWxlbWVudCwgc3RhdGUuY2FycnlWYWx1ZSwgdW5kZWZpbmVkLCAnYmFja3dhcmQnKTtcbiAgICAoMCwgX3NoYXJlZC5maXJlSW5wdXRFdmVudCkoZWxlbWVudCwge1xuICAgICAgbmV3VmFsdWUsXG4gICAgICBuZXdTZWxlY3Rpb25TdGFydCxcbiAgICAgIGV2ZW50T3ZlcnJpZGVzOiB7XG4gICAgICAgIGlucHV0VHlwZTogJ2RlbGV0ZUNvbnRlbnRCYWNrd2FyZCdcbiAgICAgIH1cbiAgICB9KTtcbiAgICAoMCwgX3NoYXJlZC5jYXJyeVZhbHVlKShlbGVtZW50LCBzdGF0ZSwgbmV3VmFsdWUpO1xuICB9XG59XTtcbmV4cG9ydHMua2V5ZG93bkJlaGF2aW9yID0ga2V5ZG93bkJlaGF2aW9yO1xuY29uc3Qga2V5cHJlc3NCZWhhdmlvciA9IFt7XG4gIG1hdGNoZXM6IChrZXlEZWYsIGVsZW1lbnQpID0+IGtleURlZi5rZXkgPT09ICdFbnRlcicgJiYgKDAsIF91dGlscy5pc0VsZW1lbnRUeXBlKShlbGVtZW50LCAnaW5wdXQnKSAmJiBbJ2NoZWNrYm94JywgJ3JhZGlvJ10uaW5jbHVkZXMoZWxlbWVudC50eXBlKSxcbiAgaGFuZGxlOiAoa2V5RGVmLCBlbGVtZW50KSA9PiB7XG4gICAgY29uc3QgZm9ybSA9IGVsZW1lbnQuZm9ybTtcblxuICAgIGlmICgoMCwgX3V0aWxzLmhhc0Zvcm1TdWJtaXQpKGZvcm0pKSB7XG4gICAgICBfZG9tLmZpcmVFdmVudC5zdWJtaXQoZm9ybSk7XG4gICAgfVxuICB9XG59LCB7XG4gIG1hdGNoZXM6IChrZXlEZWYsIGVsZW1lbnQpID0+IGtleURlZi5rZXkgPT09ICdFbnRlcicgJiYgKCgwLCBfdXRpbHMuaXNDbGlja2FibGVJbnB1dCkoZWxlbWVudCkgfHwgLy8gTGlua3Mgd2l0aCBocmVmIGRlZmluZWQgc2hvdWxkIGhhbmRsZSBFbnRlciB0aGUgc2FtZSBhcyBhIGNsaWNrXG4gICgwLCBfdXRpbHMuaXNFbGVtZW50VHlwZSkoZWxlbWVudCwgJ2EnKSAmJiBCb29sZWFuKGVsZW1lbnQuaHJlZikpLFxuICBoYW5kbGU6IChrZXlEZWYsIGVsZW1lbnQsIG9wdGlvbnMsIHN0YXRlKSA9PiB7XG4gICAgX2RvbS5maXJlRXZlbnQuY2xpY2soZWxlbWVudCwgKDAsIF9nZXRFdmVudFByb3BzLmdldE1vdXNlRXZlbnRQcm9wcykoc3RhdGUpKTtcbiAgfVxufSwge1xuICBtYXRjaGVzOiAoa2V5RGVmLCBlbGVtZW50KSA9PiBrZXlEZWYua2V5ID09PSAnRW50ZXInICYmICgwLCBfdXRpbHMuaXNFbGVtZW50VHlwZSkoZWxlbWVudCwgJ2lucHV0JyksXG4gIGhhbmRsZTogKGtleURlZiwgZWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IGZvcm0gPSBlbGVtZW50LmZvcm07XG5cbiAgICBpZiAoZm9ybSAmJiAoZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpLmxlbmd0aCA9PT0gMSB8fCAoMCwgX3V0aWxzLmhhc0Zvcm1TdWJtaXQpKGZvcm0pKSkge1xuICAgICAgX2RvbS5maXJlRXZlbnQuc3VibWl0KGZvcm0pO1xuICAgIH1cbiAgfVxufV07XG5leHBvcnRzLmtleXByZXNzQmVoYXZpb3IgPSBrZXlwcmVzc0JlaGF2aW9yO1xuY29uc3QgcHJlS2V5dXBCZWhhdmlvciA9IFsvLyBtb2RpZmllcktleXMgc3dpdGNoIG9mZiB0aGUgbW9kaWZpZXIgQkVGT1JFIHRoZSBrZXl1cCBldmVudFxuLi4uT2JqZWN0LmVudHJpZXMobW9kaWZpZXJLZXlzKS5tYXAoKFtrZXksIG1vZEtleV0pID0+ICh7XG4gIG1hdGNoZXM6IGtleURlZiA9PiBrZXlEZWYua2V5ID09PSBrZXksXG4gIGhhbmRsZTogKGtleURlZiwgZWxlbWVudCwgb3B0aW9ucywgc3RhdGUpID0+IHtcbiAgICBzdGF0ZS5tb2RpZmllcnNbbW9kS2V5XSA9IGZhbHNlO1xuICB9XG59KSldO1xuZXhwb3J0cy5wcmVLZXl1cEJlaGF2aW9yID0gcHJlS2V5dXBCZWhhdmlvcjtcbmNvbnN0IGtleXVwQmVoYXZpb3IgPSBbe1xuICBtYXRjaGVzOiAoa2V5RGVmLCBlbGVtZW50KSA9PiBrZXlEZWYua2V5ID09PSAnICcgJiYgKDAsIF91dGlscy5pc0NsaWNrYWJsZUlucHV0KShlbGVtZW50KSxcbiAgaGFuZGxlOiAoa2V5RGVmLCBlbGVtZW50LCBvcHRpb25zLCBzdGF0ZSkgPT4ge1xuICAgIF9kb20uZmlyZUV2ZW50LmNsaWNrKGVsZW1lbnQsICgwLCBfZ2V0RXZlbnRQcm9wcy5nZXRNb3VzZUV2ZW50UHJvcHMpKHN0YXRlKSk7XG4gIH1cbn1dO1xuZXhwb3J0cy5rZXl1cEJlaGF2aW9yID0ga2V5dXBCZWhhdmlvcjtcbmNvbnN0IHBvc3RLZXl1cEJlaGF2aW9yID0gWy8vIEFsdEdyYXBoIHByb2R1Y2VzIGFuIGV4dHJhIGtleXVwIGZvciBDb250cm9sXG4vLyBUaGUgbW9kaWZpZXIgZG9lcyBub3QgY2hhbmdlXG57XG4gIG1hdGNoZXM6IGtleURlZiA9PiBrZXlEZWYua2V5ID09PSAnQWx0R3JhcGgnLFxuICBoYW5kbGU6IChrZXlEZWYsIGVsZW1lbnQsIG9wdGlvbnMsIHN0YXRlKSA9PiB7XG4gICAgdmFyIF9vcHRpb25zJGtleWJvYXJkTWFwJDI7XG5cbiAgICBjb25zdCBjdHJsS2V5RGVmID0gKF9vcHRpb25zJGtleWJvYXJkTWFwJDIgPSBvcHRpb25zLmtleWJvYXJkTWFwLmZpbmQoayA9PiBrLmtleSA9PT0gJ0NvbnRyb2wnKSkgIT0gbnVsbCA/IF9vcHRpb25zJGtleWJvYXJkTWFwJDIgOlxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAge1xuICAgICAga2V5OiAnQ29udHJvbCcsXG4gICAgICBjb2RlOiAnQ29udHJvbCdcbiAgICB9O1xuXG4gICAgX2RvbS5maXJlRXZlbnQua2V5VXAoZWxlbWVudCwgKDAsIF9nZXRFdmVudFByb3BzLmdldEtleUV2ZW50UHJvcHMpKGN0cmxLZXlEZWYsIHN0YXRlKSk7XG4gIH1cbn1dO1xuZXhwb3J0cy5wb3N0S2V5dXBCZWhhdmlvciA9IHBvc3RLZXl1cEJlaGF2aW9yOyJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTs7QUFFWkEsTUFBTSxDQUFDQyxjQUFjLENBQUNDLE9BQU8sRUFBRSxZQUFZLEVBQUU7RUFDM0NDLEtBQUssRUFBRTtBQUNULENBQUMsQ0FBQztBQUNGRCxPQUFPLENBQUNFLGdCQUFnQixHQUFHRixPQUFPLENBQUNHLGtCQUFrQixHQUFHSCxPQUFPLENBQUNJLGlCQUFpQixHQUFHSixPQUFPLENBQUNLLGFBQWEsR0FBR0wsT0FBTyxDQUFDTSxnQkFBZ0IsR0FBR04sT0FBTyxDQUFDTyxlQUFlLEdBQUcsS0FBSyxDQUFDO0FBRXZLLElBQUlDLElBQUksR0FBR0MsT0FBTyxDQUFDLHNCQUFzQixDQUFDO0FBRTFDLElBQUlDLE1BQU0sR0FBR0QsT0FBTyxDQUFDLGFBQWEsQ0FBQztBQUVuQyxJQUFJRSxjQUFjLEdBQUdGLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQztBQUVoRCxJQUFJRyxPQUFPLEdBQUdILE9BQU8sQ0FBQyxXQUFXLENBQUM7O0FBRWxDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTUksWUFBWSxHQUFHO0VBQ25CQyxHQUFHLEVBQUUsS0FBSztFQUNWQyxPQUFPLEVBQUUsTUFBTTtFQUNmQyxLQUFLLEVBQUUsT0FBTztFQUNkQyxJQUFJLEVBQUU7QUFDUixDQUFDO0FBQ0QsTUFBTWQsa0JBQWtCLEdBQUc7QUFBQztBQUM1QixHQUFHTCxNQUFNLENBQUNvQixPQUFPLENBQUNMLFlBQVks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