98f95c34a7bc71dad82618da92b36b71
"use strict";

var __assign = void 0 && (void 0).__assign || function () {
  __assign = Object.assign || function (t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
    }
    return t;
  };
  return __assign.apply(this, arguments);
};
var __createBinding = void 0 && (void 0).__createBinding || (Object.create ? function (o, m, k, k2) {
  if (k2 === undefined) k2 = k;
  var desc = Object.getOwnPropertyDescriptor(m, k);
  if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
    desc = {
      enumerable: true,
      get: function () {
        return m[k];
      }
    };
  }
  Object.defineProperty(o, k2, desc);
} : function (o, m, k, k2) {
  if (k2 === undefined) k2 = k;
  o[k2] = m[k];
});
var __setModuleDefault = void 0 && (void 0).__setModuleDefault || (Object.create ? function (o, v) {
  Object.defineProperty(o, "default", {
    enumerable: true,
    value: v
  });
} : function (o, v) {
  o["default"] = v;
});
var __importStar = void 0 && (void 0).__importStar || function (mod) {
  if (mod && mod.__esModule) return mod;
  var result = {};
  if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
  __setModuleDefault(result, mod);
  return result;
};
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.render = void 0;
/*
 * Module dependencies
 */
var ElementType = __importStar(require("domelementtype"));
var entities_1 = require("entities");
/**
 * Mixed-case SVG and MathML tags & attributes
 * recognized by the HTML parser.
 *
 * @see https://html.spec.whatwg.org/multipage/parsing.html#parsing-main-inforeign
 */
var foreignNames_js_1 = require("./foreignNames.js");
var unencodedElements = new Set(["style", "script", "xmp", "iframe", "noembed", "noframes", "plaintext", "noscript"]);
function replaceQuotes(value) {
  return value.replace(/"/g, "&quot;");
}
/**
 * Format attributes
 */
function formatAttributes(attributes, opts) {
  var _a;
  if (!attributes) return;
  var encode = ((_a = opts.encodeEntities) !== null && _a !== void 0 ? _a : opts.decodeEntities) === false ? replaceQuotes : opts.xmlMode || opts.encodeEntities !== "utf8" ? entities_1.encodeXML : entities_1.escapeAttribute;
  return Object.keys(attributes).map(function (key) {
    var _a, _b;
    var value = (_a = attributes[key]) !== null && _a !== void 0 ? _a : "";
    if (opts.xmlMode === "foreign") {
      /* Fix up mixed-case attribute names */
      key = (_b = foreignNames_js_1.attributeNames.get(key)) !== null && _b !== void 0 ? _b : key;
    }
    if (!opts.emptyAttrs && !opts.xmlMode && value === "") {
      return key;
    }
    return "".concat(key, "=\"").concat(encode(value), "\"");
  }).join(" ");
}
/**
 * Self-enclosing tags
 */
var singleTag = new Set(["area", "base", "basefont", "br", "col", "command", "embed", "frame", "hr", "img", "input", "isindex", "keygen", "link", "meta", "param", "source", "track", "wbr"]);
/**
 * Renders a DOM node or an array of DOM nodes to a string.
 *
 * Can be thought of as the equivalent of the `outerHTML` of the passed node(s).
 *
 * @param node Node to be rendered.
 * @param options Changes serialization behavior
 */
function render(node, options) {
  if (options === void 0) {
    options = {};
  }
  var nodes = "length" in node ? node : [node];
  var output = "";
  for (var i = 0; i < nodes.length; i++) {
    output += renderNode(nodes[i], options);
  }
  return output;
}
exports.render = render;
exports.default = render;
function renderNode(node, options) {
  switch (node.type) {
    case ElementType.Root:
      return render(node.children, options);
    // @ts-expect-error We don't use `Doctype` yet
    case ElementType.Doctype:
    case ElementType.Directive:
      return renderDirective(node);
    case ElementType.Comment:
      return renderComment(node);
    case ElementType.CDATA:
      return renderCdata(node);
    case ElementType.Script:
    case ElementType.Style:
    case ElementType.Tag:
      return renderTag(node, options);
    case ElementType.Text:
      return renderText(node, options);
  }
}
var foreignModeIntegrationPoints = new Set(["mi", "mo", "mn", "ms", "mtext", "annotation-xml", "foreignObject", "desc", "title"]);
var foreignElements = new Set(["svg", "math"]);
function renderTag(elem, opts) {
  var _a;
  // Handle SVG / MathML in HTML
  if (opts.xmlMode === "foreign") {
    /* Fix up mixed-case element names */
    elem.name = (_a = foreignNames_js_1.elementNames.get(elem.name)) !== null && _a !== void 0 ? _a : elem.name;
    /* Exit foreign mode at integration points */
    if (elem.parent && foreignModeIntegrationPoints.has(elem.parent.name)) {
      opts = __assign(__assign({}, opts), {
        xmlMode: false
      });
    }
  }
  if (!opts.xmlMode && foreignElements.has(elem.name)) {
    opts = __assign(__assign({}, opts), {
      xmlMode: "foreign"
    });
  }
  var tag = "<".concat(elem.name);
  var attribs = formatAttributes(elem.attribs, opts);
  if (attribs) {
    tag += " ".concat(attribs);
  }
  if (elem.children.length === 0 && (opts.xmlMode ?
  // In XML mode or foreign mode, and user hasn't explicitly turned off self-closing tags
  opts.selfClosingTags !== false :
  // User explicitly asked for self-closing tags, even in HTML mode
  opts.selfClosingTags && singleTag.has(elem.name))) {
    if (!opts.xmlMode) tag += " ";
    tag += "/>";
  } else {
    tag += ">";
    if (elem.children.length > 0) {
      tag += render(elem.children, opts);
    }
    if (opts.xmlMode || !singleTag.has(elem.name)) {
      tag += "</".concat(elem.name, ">");
    }
  }
  return tag;
}
function renderDirective(elem) {
  return "<".concat(elem.data, ">");
}
function renderText(elem, opts) {
  var _a;
  var data = elem.data || "";
  // If entities weren't decoded, no need to encode them back
  if (((_a = opts.encodeEntities) !== null && _a !== void 0 ? _a : opts.decodeEntities) !== false && !(!opts.xmlMode && elem.parent && unencodedElements.has(elem.parent.name))) {
    data = opts.xmlMode || opts.encodeEntities !== "utf8" ? (0, entities_1.encodeXML)(data) : (0, entities_1.escapeText)(data);
  }
  return data;
}
function renderCdata(elem) {
  return "<![CDATA[".concat(elem.children[0].data, "]]>");
}
function renderComment(elem) {
  return "<!--".concat(elem.data, "-->");
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfX2Fzc2lnbiIsIk9iamVjdCIsImFzc2lnbiIsInQiLCJzIiwiaSIsIm4iLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJwIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiYXBwbHkiLCJfX2NyZWF0ZUJpbmRpbmciLCJjcmVhdGUiLCJvIiwibSIsImsiLCJrMiIsInVuZGVmaW5lZCIsImRlc2MiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJfX2VzTW9kdWxlIiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiZGVmaW5lUHJvcGVydHkiLCJfX3NldE1vZHVsZURlZmF1bHQiLCJ2IiwidmFsdWUiLCJfX2ltcG9ydFN0YXIiLCJtb2QiLCJyZXN1bHQiLCJleHBvcnRzIiwicmVuZGVyIiwiRWxlbWVudFR5cGUiLCJyZXF1aXJlIiwiZW50aXRpZXNfMSIsImZvcmVpZ25OYW1lc19qc18xIiwidW5lbmNvZGVkRWxlbWVudHMiLCJTZXQiLCJyZXBsYWNlUXVvdGVzIiwicmVwbGFjZSIsImZvcm1hdEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwib3B0cyIsIl9hIiwiZW5jb2RlIiwiZW5jb2RlRW50aXRpZXMiLCJkZWNvZGVFbnRpdGllcyIsInhtbE1vZGUiLCJlbmNvZGVYTUwiLCJlc2NhcGVBdHRyaWJ1dGUiLCJrZXlzIiwibWFwIiwia2V5IiwiX2IiLCJhdHRyaWJ1dGVOYW1lcyIsImVtcHR5QXR0cnMiLCJjb25jYXQiLCJqb2luIiwic2luZ2xlVGFnIiwibm9kZSIsIm9wdGlvbnMiLCJub2RlcyIsIm91dHB1dCIsInJlbmRlck5vZGUiLCJkZWZhdWx0IiwidHlwZSIsIlJvb3QiLCJjaGlsZHJlbiIsIkRvY3R5cGUiLCJEaXJlY3RpdmUiLCJyZW5kZXJEaXJlY3RpdmUiLCJDb21tZW50IiwicmVuZGVyQ29tbWVudCIsIkNEQVRBIiwicmVuZGVyQ2RhdGEiLCJTY3JpcHQiLCJTdHlsZSIsIlRhZyIsInJlbmRlclRhZyIsIlRleHQiLCJyZW5kZXJUZXh0IiwiZm9yZWlnbk1vZGVJbnRlZ3JhdGlvblBvaW50cyIsImZvcmVpZ25FbGVtZW50cyIsImVsZW0iLCJuYW1lIiwiZWxlbWVudE5hbWVzIiwicGFyZW50IiwiaGFzIiwidGFnIiwiYXR0cmlicyIsInNlbGZDbG9zaW5nVGFncyIsImRhdGEiLCJlc2NhcGVUZXh0Il0sInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdCkgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcbn0pO1xudmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnJlbmRlciA9IHZvaWQgMDtcbi8qXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzXG4gKi9cbnZhciBFbGVtZW50VHlwZSA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiZG9tZWxlbWVudHR5cGVcIikpO1xudmFyIGVudGl0aWVzXzEgPSByZXF1aXJlKFwiZW50aXRpZXNcIik7XG4vKipcbiAqIE1peGVkLWNhc2UgU1ZHIGFuZCBNYXRoTUwgdGFncyAmIGF0dHJpYnV0ZXNcbiAqIHJlY29nbml6ZWQgYnkgdGhlIEhUTUwgcGFyc2VyLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvcGFyc2luZy5odG1sI3BhcnNpbmctbWFpbi1pbmZvcmVpZ25cbiAqL1xudmFyIGZvcmVpZ25OYW1lc19qc18xID0gcmVxdWlyZShcIi4vZm9yZWlnbk5hbWVzLmpzXCIpO1xudmFyIHVuZW5jb2RlZEVsZW1lbnRzID0gbmV3IFNldChbXG4gICAgXCJzdHlsZVwiLFxuICAgIFwic2NyaXB0XCIsXG4gICAgXCJ4bXBcIixcbiAgICBcImlmcmFtZVwiLFxuICAgIFwibm9lbWJlZFwiLFxuICAgIFwibm9mcmFtZXNcIixcbiAgICBcInBsYWludGV4dFwiLFxuICAgIFwibm9zY3JpcHRcIixcbl0pO1xuZnVuY3Rpb24gcmVwbGFjZVF1b3Rlcyh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZS5yZXBsYWNlKC9cIi9nLCBcIiZxdW90O1wiKTtcbn1cbi8qKlxuICogRm9ybWF0IGF0dHJpYnV0ZXNcbiAqL1xuZnVuY3Rpb24gZm9ybWF0QXR0cmlidXRlcyhhdHRyaWJ1dGVzLCBvcHRzKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmICghYXR0cmlidXRlcylcbiAgICAgICAgcmV0dXJuO1xuICAgIHZhciBlbmNvZGUgPSAoKF9hID0gb3B0cy5lbmNvZGVFbnRpdGllcykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogb3B0cy5kZWNvZGVFbnRpdGllcykgPT09IGZhbHNlXG4gICAgICAgID8gcmVwbGFjZVF1b3Rlc1xuICAgICAgICA6IG9wdHMueG1sTW9kZSB8fCBvcHRzLmVuY29kZUVudGl0aWVzICE9PSBcInV0ZjhcIlxuICAgICAgICAgICAgPyBlbnRpdGllc18xLmVuY29kZVhNTFxuICAgICAgICAgICAgOiBlbnRpdGllc18xLmVzY2FwZUF0dHJpYnV0ZTtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoYXR0cmlidXRlcylcbiAgICAgICAgLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHZhciB2YWx1ZSA9IChfYSA9IGF0dHJpYnV0ZXNba2V5XSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogXCJcIjtcbiAgICAgICAgaWYgKG9wdHMueG1sTW9kZSA9PT0gXCJmb3JlaWduXCIpIHtcbiAgICAgICAgICAgIC8qIEZpeCB1cCBtaXhlZC1jYXNlIGF0dHJpYnV0ZSBuYW1lcyAqL1xuICAgICAgICAgICAga2V5ID0gKF9iID0gZm9yZWlnbk5hbWVzX2pzXzEuYXR0cmlidXRlTmFtZXMuZ2V0KGtleSkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGtleTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9wdHMuZW1wdHlBdHRycyAmJiAhb3B0cy54bWxNb2RlICYmIHZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBcIlwiLmNvbmNhdChrZXksIFwiPVxcXCJcIikuY29uY2F0KGVuY29kZSh2YWx1ZSksIFwiXFxcIlwiKTtcbiAgICB9KVxuICAgICAgICAuam9pbihcIiBcIik7XG59XG4vKipcbiAqIFNlbGYtZW5jbG9zaW5nIHRhZ3NcbiAqL1xudmFyIHNpbmdsZVRhZyA9IG5ldyBTZXQoW1xuICAgIFwiYXJlYVwiLFxuICAgIFwiYmFzZVwiLFxuICAgIFwiYmFzZWZvbnRcIixcbiAgICBcImJyXCIsXG4gICAgXCJjb2xcIixcbiAgICBcImNvbW1hbmRcIixcbiAgICBcImVtYmVkXCIsXG4gICAgXCJmcmFtZVwiLFxuICAgIFwiaHJcIixcbiAgICBcImltZ1wiLFxuICAgIFwiaW5wdXRcIixcbiAgICBcImlzaW5kZXhcIixcbiAgICBcImtleWdlblwiLFxuICAgIFwibGlua1wiLFxuICAgIFwibWV0YVwiLFxuICAgIFwicGFyYW1cIixcbiAgICBcInNvdXJjZVwiLFxuICAgIFwidHJhY2tcIixcbiAgICBcIndiclwiLFxuXSk7XG4vKipcbiAqIFJlbmRlcnMgYSBET00gbm9kZSBvciBhbiBhcnJheSBvZiBET00gbm9kZXMgdG8gYSBzdHJpbmcuXG4gKlxuICogQ2FuIGJlIHRob3VnaHQgb2YgYXMgdGhlIGVxdWl2YWxlbnQgb2YgdGhlIGBvdXRlckhUTUxgIG9mIHRoZSBwYXNzZWQgbm9kZShzKS5cbiAqXG4gKiBAcGFyYW0gbm9kZSBOb2RlIHRvIGJlIHJlbmRlcmVkLlxuICogQHBhcmFtIG9wdGlvbnMgQ2hhbmdlcyBzZXJpYWxpemF0aW9uIGJlaGF2aW9yXG4gKi9cbmZ1bmN0aW9uIHJlbmRlcihub2RlLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICB2YXIgbm9kZXMgPSBcImxlbmd0aFwiIGluIG5vZGUgPyBub2RlIDogW25vZGVdO1xuICAgIHZhciBvdXRwdXQgPSBcIlwiO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgb3V0cHV0ICs9IHJlbmRlck5vZGUobm9kZXNbaV0sIG9wdGlvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0O1xufVxuZXhwb3J0cy5yZW5kZXIgPSByZW5kZXI7XG5leHBvcnRzLmRlZmF1bHQgPSByZW5kZXI7XG5mdW5jdGlvbiByZW5kZXJOb2RlKG5vZGUsIG9wdGlvbnMpIHtcbiAgICBzd2l0Y2ggKG5vZGUudHlwZSkge1xuICAgICAgICBjYXNlIEVsZW1lbnRUeXBlLlJvb3Q6XG4gICAgICAgICAgICByZXR1cm4gcmVuZGVyKG5vZGUuY2hpbGRyZW4sIG9wdGlvbnMpO1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFdlIGRvbid0IHVzZSBgRG9jdHlwZWAgeWV0XG4gICAgICAgIGNhc2UgRWxlbWVudFR5cGUuRG9jdHlwZTpcbiAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5EaXJlY3RpdmU6XG4gICAgICAgICAgICByZXR1cm4gcmVuZGVyRGlyZWN0aXZlKG5vZGUpO1xuICAgICAgICBjYXNlIEVsZW1lbnRUeXBlLkNvbW1lbnQ6XG4gICAgICAgICAgICByZXR1cm4gcmVuZGVyQ29tbWVudChub2RlKTtcbiAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5DREFUQTpcbiAgICAgICAgICAgIHJldHVybiByZW5kZXJDZGF0YShub2RlKTtcbiAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5TY3JpcHQ6XG4gICAgICAgIGNhc2UgRWxlbWVudFR5cGUuU3R5bGU6XG4gICAgICAgIGNhc2UgRWxlbWVudFR5cGUuVGFnOlxuICAgICAgICAgICAgcmV0dXJuIHJlbmRlclRhZyhub2RlLCBvcHRpb25zKTtcbiAgICAgICAgY2FzZSBFbGVtZW50VHlwZS5UZXh0OlxuICAgICAgICAgICAgcmV0dXJuIHJlbmRlclRleHQobm9kZSwgb3B0aW9ucyk7XG4gICAgfVxufVxudmFyIGZvcmVpZ25Nb2RlSW50ZWdyYXRpb25Qb2ludHMgPSBuZXcgU2V0KFtcbiAgICBcIm1pXCIsXG4gICAgXCJtb1wiLFxuICAgIFwibW5cIixcbiAgICBcIm1zXCIsXG4gICAgXCJtdGV4dFwiLFxuICAgIFwiYW5ub3RhdGlvbi14bWxcIixcbiAgICBcImZvcmVpZ25PYmplY3RcIixcbiAgICBcImRlc2NcIixcbiAgICBcInRpdGxlXCIsXG5dKTtcbnZhciBmb3JlaWduRWxlbWVudHMgPSBuZXcgU2V0KFtcInN2Z1wiLCBcIm1hdGhcIl0pO1xuZnVuY3Rpb24gcmVuZGVyVGFnKGVsZW0sIG9wdHMpIHtcbiAgICB2YXIgX2E7XG4gICAgLy8gSGFuZGxlIFNWRyAvIE1hdGhNTCBpbiBIVE1MXG4gICAgaWYgKG9wdHMueG1sTW9kZSA9PT0gXCJmb3JlaWduXCIpIHtcbiAgICAgICAgLyogRml4IHVwIG1peGVkLWNhc2UgZWxlbWVudCBuYW1lcyAqL1xuICAgICAgICBlbGVtLm5hbWUgPSAoX2EgPSBmb3JlaWduTmFtZXNfanNfMS5lbGVtZW50TmFtZXMuZ2V0KGVsZW0ubmFtZSkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGVsZW0ubmFtZTtcbiAgICAgICAgLyogRXhpdCBmb3JlaWduIG1vZGUgYXQgaW50ZWdyYXRpb24gcG9pbnRzICovXG4gICAgICAgIGlmIChlbGVtLnBhcmVudCAmJlxuICAgICAgICAgICAgZm9yZWlnbk1vZGVJbnRlZ3JhdGlvblBvaW50cy5oYXMoZWxlbS5wYXJlbnQubmFtZSkpIHtcbiAgICAgICAgICAgIG9wdHMgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgb3B0cyksIHsgeG1sTW9kZTogZmFsc2UgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFvcHRzLnhtbE1vZGUgJiYgZm9yZWlnbkVsZW1lbnRzLmhhcyhlbGVtLm5hbWUpKSB7XG4gICAgICAgIG9wdHMgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgb3B0cyksIHsgeG1sTW9kZTogXCJmb3JlaWduXCIgfSk7XG4gICAgfVxuICAgIHZhciB0YWcgPSBcIjxcIi5jb25jYXQoZWxlbS5uYW1lKTtcbiAgICB2YXIgYXR0cmlicyA9IGZvcm1hdEF0dHJpYnV0ZXMoZWxlbS5hdHRyaWJzLCBvcHRzKTtcbiAgICBpZiAoYXR0cmlicykge1xuICAgICAgICB0YWcgKz0gXCIgXCIuY29uY2F0KGF0dHJpYnMpO1xuICAgIH1cbiAgICBpZiAoZWxlbS5jaGlsZHJlbi5sZW5ndGggPT09IDAgJiZcbiAgICAgICAgKG9wdHMueG1sTW9kZVxuICAgICAgICAgICAgPyAvLyBJbiBYTUwgbW9kZSBvciBmb3JlaWduIG1vZGUsIGFuZCB1c2VyIGhhc24ndCBleHBsaWNpdGx5IHR1cm5lZCBvZmYgc2VsZi1jbG9zaW5nIHRhZ3NcbiAgICAgICAgICAgICAgICBvcHRzLnNlbGZDbG9zaW5nVGFncyAhPT0gZmFsc2VcbiAgICAgICAgICAgIDogLy8gVXNlciBleHBsaWNpdGx5IGFza2VkIGZvciBzZWxmLWNsb3NpbmcgdGFncywgZXZlbiBpbiBIVE1MIG1vZGVcbiAgICAgICAgICAgICAgICBvcHRzLnNlbGZDbG9zaW5nVGFncyAmJiBzaW5nbGVUYWcuaGFzKGVsZW0ubmFtZSkpKSB7XG4gICAgICAgIGlmICghb3B0cy54bWxNb2RlKVxuICAgICAgICAgICAgdGFnICs9IFwiIFwiO1xuICAgICAgICB0YWcgKz0gXCIvPlwiO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGFnICs9IFwiPlwiO1xuICAgICAgICBpZiAoZWxlbS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0YWcgKz0gcmVuZGVyKGVsZW0uY2hpbGRyZW4sIG9wdHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLnhtbE1vZGUgfHwgIXNpbmdsZVRhZy5oYXMoZWxlbS5uYW1lKSkge1xuICAgICAgICAgICAgdGFnICs9IFwiPC9cIi5jb25jYXQoZWxlbS5uYW1lLCBcIj5cIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhZztcbn1cbmZ1bmN0aW9uIHJlbmRlckRpcmVjdGl2ZShlbGVtKSB7XG4gICAgcmV0dXJuIFwiPFwiLmNvbmNhdChlbGVtLmRhdGEsIFwiPlwiKTtcbn1cbmZ1bmN0aW9uIHJlbmRlclRleHQoZWxlbSwgb3B0cykge1xuICAgIHZhciBfYTtcbiAgICB2YXIgZGF0YSA9IGVsZW0uZGF0YSB8fCBcIlwiO1xuICAgIC8vIElmIGVudGl0aWVzIHdlcmVuJ3QgZGVjb2RlZCwgbm8gbmVlZCB0byBlbmNvZGUgdGhlbSBiYWNrXG4gICAgaWYgKCgoX2EgPSBvcHRzLmVuY29kZUVudGl0aWVzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBvcHRzLmRlY29kZUVudGl0aWVzKSAhPT0gZmFsc2UgJiZcbiAgICAgICAgISghb3B0cy54bWxNb2RlICYmXG4gICAgICAgICAgICBlbGVtLnBhcmVudCAmJlxuICAgICAgICAgICAgdW5lbmNvZGVkRWxlbWVudHMuaGFzKGVsZW0ucGFyZW50Lm5hbWUpKSkge1xuICAgICAgICBkYXRhID1cbiAgICAgICAgICAgIG9wdHMueG1sTW9kZSB8fCBvcHRzLmVuY29kZUVudGl0aWVzICE9PSBcInV0ZjhcIlxuICAgICAgICAgICAgICAgID8gKDAsIGVudGl0aWVzXzEuZW5jb2RlWE1MKShkYXRhKVxuICAgICAgICAgICAgICAgIDogKDAsIGVudGl0aWVzXzEuZXNjYXBlVGV4dCkoZGF0YSk7XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xufVxuZnVuY3Rpb24gcmVuZGVyQ2RhdGEoZWxlbSkge1xuICAgIHJldHVybiBcIjwhW0NEQVRBW1wiLmNvbmNhdChlbGVtLmNoaWxkcmVuWzBdLmRhdGEsIFwiXV0+XCIpO1xufVxuZnVuY3Rpb24gcmVuZGVyQ29tbWVudChlbGVtKSB7XG4gICAgcmV0dXJuIFwiPCEtLVwiLmNvbmNhdChlbGVtLmRhdGEsIFwiLS0+XCIpO1xufVxuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUNaLElBQUlBLFFBQVEsR0FBSSxVQUFRLFNBQUtBLFFBQVEsSUFBSyxZQUFZO0VBQ2xEQSxRQUFRLEdBQUdDLE1BQU0sQ0FBQ0MsTUFBTSxJQUFJLFVBQVNDLENBQUMsRUFBRTtJQUNwQyxLQUFLLElBQUlDLENBQUMsRUFBRUMsQ0FBQyxHQUFHLENBQUMsRUFBRUMsQ0FBQyxHQUFHQyxTQUFTLENBQUNDLE1BQU0sRUFBRUgsQ0FBQyxHQUFHQyxDQUFDLEVBQUVELENBQUMsRUFBRSxFQUFFO01BQ2pERCxDQUFDLEdBQUdHLFNBQVMsQ0FBQ0YsQ0FBQyxDQUFDO01BQ2hCLEtBQUssSUFBSUksQ0FBQyxJQUFJTCxDQUFDLEVBQUUsSUFBSUgsTUFBTSxDQUFDUyxTQUFTLENBQUNDLGNBQWMsQ0FBQ0MsSUFBSSxDQUFDUixDQUFD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