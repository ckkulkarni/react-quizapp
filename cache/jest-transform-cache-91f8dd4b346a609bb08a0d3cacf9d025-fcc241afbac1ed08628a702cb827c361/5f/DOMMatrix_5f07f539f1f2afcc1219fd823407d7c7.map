{"version":3,"names":["Object","defineProperty","exports","value","default","_defineProperty","obj","key","_toPropertyKey","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","sumMultipleOfMatricesCells","matrix1Array","matrix2Array","i","j","sum","k","matrix1Index","matrix2Index","multiplyMatrices","leftMatrix","rightMatrix","leftMatrixArray","toFloat64Array","rightMatrixArray","DOMMatrix","constructor","transform","length","m11","m12","m21","m22","m41","m42","_is2D","m13","m14","m23","m24","m31","m32","m33","m34","m43","m44","isIdentity","a","b","c","d","e","f","is2D","toFloat32Array","Float32Array","Float64Array","translateSelf","x","y","z","tx","ty","tz","isNaN","translationMatrix","translate","translatedMatrix","scaleSelf","scaleX","scaleY","scaleZ","originX","originY","originZ","sx","sy","sz","ox","oy","oz","scaleMatrix","Math","abs","scale","scaledMatrix"],"sources":["DOMMatrix.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction sumMultipleOfMatricesCells(matrix1Array, matrix2Array, {\n  i,\n  j\n}) {\n  let sum = 0;\n  for (let k = 0; k < 4; k++) {\n    const matrix1Index = j - 1 + k * 4;\n    const matrix2Index = (i - 1) * 4 + k;\n    sum += matrix1Array[matrix1Index] * matrix2Array[matrix2Index];\n  }\n  return sum;\n}\nfunction multiplyMatrices(leftMatrix, rightMatrix) {\n  const leftMatrixArray = leftMatrix.toFloat64Array();\n  const rightMatrixArray = rightMatrix.toFloat64Array();\n  for (let i = 1; i <= 4; i++) {\n    for (let j = 1; j <= 4; j++) {\n      leftMatrix[`m${i}${j}`] = sumMultipleOfMatricesCells(leftMatrixArray, rightMatrixArray, {\n        i,\n        j\n      });\n    }\n  }\n}\nclass DOMMatrix {\n  constructor(transform) {\n    _defineProperty(this, \"_is2D\", true);\n    _defineProperty(this, \"m11\", 1.0);\n    _defineProperty(this, \"m12\", 0.0);\n    _defineProperty(this, \"m13\", 0.0);\n    _defineProperty(this, \"m14\", 0.0);\n    _defineProperty(this, \"m21\", 0.0);\n    _defineProperty(this, \"m22\", 1.0);\n    _defineProperty(this, \"m23\", 0.0);\n    _defineProperty(this, \"m24\", 0.0);\n    _defineProperty(this, \"m31\", 0.0);\n    _defineProperty(this, \"m32\", 0.0);\n    _defineProperty(this, \"m33\", 1.0);\n    _defineProperty(this, \"m34\", 0.0);\n    _defineProperty(this, \"m41\", 0.0);\n    _defineProperty(this, \"m42\", 0.0);\n    _defineProperty(this, \"m43\", 0.0);\n    _defineProperty(this, \"m44\", 1.0);\n    if (transform && transform.length === 6) {\n      this.m11 = transform[0];\n      this.m12 = transform[1];\n      this.m21 = transform[2];\n      this.m22 = transform[3];\n      this.m41 = transform[4];\n      this.m42 = transform[5];\n      this._is2D = true;\n      return this;\n    }\n    if (transform && transform.length === 16) {\n      this.m11 = transform[0];\n      this.m12 = transform[1];\n      this.m13 = transform[2];\n      this.m14 = transform[3];\n      this.m21 = transform[4];\n      this.m22 = transform[5];\n      this.m23 = transform[6];\n      this.m24 = transform[7];\n      this.m31 = transform[8];\n      this.m32 = transform[9];\n      this.m33 = transform[10];\n      this.m34 = transform[11];\n      this.m41 = transform[12];\n      this.m42 = transform[13];\n      this.m43 = transform[14];\n      this.m44 = transform[15];\n      this._is2D = false;\n      return this;\n    }\n    if (transform) {\n      throw new TypeError(\"Failed to construct 'DOMMatrix': The sequence must contain 6 elements for a 2D matrix or 16 elements for a 3D matrix.\");\n    }\n    this._is2D = false;\n  }\n  get isIdentity() {\n    if (this._is2D) {\n      return this.m11 == 1.0 && this.m12 == 0.0 && this.m21 == 0.0 && this.m22 == 1.0 && this.m41 == 0.0 && this.m42 == 0.0;\n    } else {\n      return this.m11 = 1.0 && this.m12 === 0.0 && this.m13 === 0.0 && this.m14 === 0.0 && this.m21 === 0.0 && this.m22 === 1.0 && this.m23 === 0.0 && this.m24 === 0.0 && this.m31 === 0.0 && this.m32 === 0.0 && this.m33 === 1.0 && this.m34 === 0.0 && this.m41 === 0.0 && this.m42 === 0.0 && this.m43 === 0.0 && this.m44 === 1.0;\n    }\n  }\n  get a() {\n    return this.m11;\n  }\n  set a(value) {\n    this.m11 = value;\n  }\n  get b() {\n    return this.m12;\n  }\n  set b(value) {\n    this.m12 = value;\n  }\n  get c() {\n    return this.m21;\n  }\n  set c(value) {\n    this.m21 = value;\n  }\n  get d() {\n    return this.m22;\n  }\n  set d(value) {\n    this.m22 = value;\n  }\n  get e() {\n    return this.m41;\n  }\n  set e(value) {\n    this.m41 = value;\n  }\n  get f() {\n    return this.m42;\n  }\n  set f(value) {\n    this.m42 = value;\n  }\n  get is2D() {\n    return this._is2D;\n  }\n  toFloat32Array() {\n    return new Float32Array([this.m11, this.m12, this.m13, this.m14, this.m21, this.m22, this.m23, this.m24, this.m31, this.m32, this.m33, this.m34, this.m41, this.m42, this.m43, this.m44]);\n  }\n  toFloat64Array() {\n    return new Float64Array([this.m11, this.m12, this.m13, this.m14, this.m21, this.m22, this.m23, this.m24, this.m31, this.m32, this.m33, this.m34, this.m41, this.m42, this.m43, this.m44]);\n  }\n  translateSelf(x, y, z) {\n    const tx = Number(x),\n      ty = Number(y),\n      tz = isNaN(Number(z)) ? 0 : Number(z);\n    const translationMatrix = new DOMMatrix();\n    translationMatrix.m41 = tx;\n    translationMatrix.m42 = ty;\n    translationMatrix.m43 = tz;\n    multiplyMatrices(this, translationMatrix);\n    if (tz) {\n      this._is2D = false;\n    }\n    return this;\n  }\n  translate(x, y, z) {\n    let translatedMatrix;\n    if (this.is2D) {\n      translatedMatrix = new DOMMatrix([this.a, this.b, this.c, this.d, this.e, this.f]);\n    } else {\n      translatedMatrix = new DOMMatrix(this.toFloat32Array());\n    }\n    return translatedMatrix.translateSelf(x, y, z);\n  }\n  scaleSelf(scaleX, scaleY, scaleZ, originX, originY, originZ) {\n    const sx = Number(scaleX),\n      sy = isNaN(Number(scaleY)) ? sx : Number(scaleY),\n      sz = isNaN(Number(scaleZ)) ? 1 : Number(scaleZ);\n    const ox = isNaN(Number(originX)) ? 0 : Number(originX),\n      oy = isNaN(Number(originY)) ? 0 : Number(originY),\n      oz = isNaN(Number(originZ)) ? 0 : Number(originZ);\n    this.translateSelf(ox, oy, oz);\n    const scaleMatrix = new DOMMatrix();\n    scaleMatrix.m11 = sx;\n    scaleMatrix.m22 = sy;\n    scaleMatrix.m33 = sz;\n    multiplyMatrices(this, scaleMatrix);\n    this.translateSelf(-ox, -oy, -oz);\n    if (Math.abs(sz) !== 1) {\n      this._is2D = false;\n    }\n    return this;\n  }\n  scale(scaleX, scaleY, scaleZ, originX, originY, originZ) {\n    let scaledMatrix;\n    if (this.is2D) {\n      scaledMatrix = new DOMMatrix([this.a, this.b, this.c, this.d, this.e, this.f]);\n    } else {\n      scaledMatrix = new DOMMatrix(this.toFloat32Array());\n    }\n    return scaledMatrix.scaleSelf(scaleX, scaleY, scaleZ, originX, originY, originZ);\n  }\n}\nexports.default = DOMMatrix;"],"mappings":"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"}