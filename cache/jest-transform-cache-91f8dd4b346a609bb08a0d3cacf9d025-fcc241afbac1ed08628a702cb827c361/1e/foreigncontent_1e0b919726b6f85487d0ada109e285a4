b40693e36303e9f053cc51e5b7a34b23
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.isIntegrationPoint = exports.adjustTokenSVGTagName = exports.adjustTokenXMLAttrs = exports.adjustTokenSVGAttrs = exports.adjustTokenMathMLAttrs = exports.causesExit = exports.SVG_TAG_NAMES_ADJUSTMENT_MAP = void 0;
const html_js_1 = require("./html.js");
//MIME types
const MIME_TYPES = {
  TEXT_HTML: 'text/html',
  APPLICATION_XML: 'application/xhtml+xml'
};
//Attributes
const DEFINITION_URL_ATTR = 'definitionurl';
const ADJUSTED_DEFINITION_URL_ATTR = 'definitionURL';
const SVG_ATTRS_ADJUSTMENT_MAP = new Map(['attributeName', 'attributeType', 'baseFrequency', 'baseProfile', 'calcMode', 'clipPathUnits', 'diffuseConstant', 'edgeMode', 'filterUnits', 'glyphRef', 'gradientTransform', 'gradientUnits', 'kernelMatrix', 'kernelUnitLength', 'keyPoints', 'keySplines', 'keyTimes', 'lengthAdjust', 'limitingConeAngle', 'markerHeight', 'markerUnits', 'markerWidth', 'maskContentUnits', 'maskUnits', 'numOctaves', 'pathLength', 'patternContentUnits', 'patternTransform', 'patternUnits', 'pointsAtX', 'pointsAtY', 'pointsAtZ', 'preserveAlpha', 'preserveAspectRatio', 'primitiveUnits', 'refX', 'refY', 'repeatCount', 'repeatDur', 'requiredExtensions', 'requiredFeatures', 'specularConstant', 'specularExponent', 'spreadMethod', 'startOffset', 'stdDeviation', 'stitchTiles', 'surfaceScale', 'systemLanguage', 'tableValues', 'targetX', 'targetY', 'textLength', 'viewBox', 'viewTarget', 'xChannelSelector', 'yChannelSelector', 'zoomAndPan'].map(attr => [attr.toLowerCase(), attr]));
const XML_ATTRS_ADJUSTMENT_MAP = new Map([['xlink:actuate', {
  prefix: 'xlink',
  name: 'actuate',
  namespace: html_js_1.NS.XLINK
}], ['xlink:arcrole', {
  prefix: 'xlink',
  name: 'arcrole',
  namespace: html_js_1.NS.XLINK
}], ['xlink:href', {
  prefix: 'xlink',
  name: 'href',
  namespace: html_js_1.NS.XLINK
}], ['xlink:role', {
  prefix: 'xlink',
  name: 'role',
  namespace: html_js_1.NS.XLINK
}], ['xlink:show', {
  prefix: 'xlink',
  name: 'show',
  namespace: html_js_1.NS.XLINK
}], ['xlink:title', {
  prefix: 'xlink',
  name: 'title',
  namespace: html_js_1.NS.XLINK
}], ['xlink:type', {
  prefix: 'xlink',
  name: 'type',
  namespace: html_js_1.NS.XLINK
}], ['xml:base', {
  prefix: 'xml',
  name: 'base',
  namespace: html_js_1.NS.XML
}], ['xml:lang', {
  prefix: 'xml',
  name: 'lang',
  namespace: html_js_1.NS.XML
}], ['xml:space', {
  prefix: 'xml',
  name: 'space',
  namespace: html_js_1.NS.XML
}], ['xmlns', {
  prefix: '',
  name: 'xmlns',
  namespace: html_js_1.NS.XMLNS
}], ['xmlns:xlink', {
  prefix: 'xmlns',
  name: 'xlink',
  namespace: html_js_1.NS.XMLNS
}]]);
//SVG tag names adjustment map
exports.SVG_TAG_NAMES_ADJUSTMENT_MAP = new Map(['altGlyph', 'altGlyphDef', 'altGlyphItem', 'animateColor', 'animateMotion', 'animateTransform', 'clipPath', 'feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence', 'foreignObject', 'glyphRef', 'linearGradient', 'radialGradient', 'textPath'].map(tn => [tn.toLowerCase(), tn]));
//Tags that causes exit from foreign content
const EXITS_FOREIGN_CONTENT = new Set([html_js_1.TAG_ID.B, html_js_1.TAG_ID.BIG, html_js_1.TAG_ID.BLOCKQUOTE, html_js_1.TAG_ID.BODY, html_js_1.TAG_ID.BR, html_js_1.TAG_ID.CENTER, html_js_1.TAG_ID.CODE, html_js_1.TAG_ID.DD, html_js_1.TAG_ID.DIV, html_js_1.TAG_ID.DL, html_js_1.TAG_ID.DT, html_js_1.TAG_ID.EM, html_js_1.TAG_ID.EMBED, html_js_1.TAG_ID.H1, html_js_1.TAG_ID.H2, html_js_1.TAG_ID.H3, html_js_1.TAG_ID.H4, html_js_1.TAG_ID.H5, html_js_1.TAG_ID.H6, html_js_1.TAG_ID.HEAD, html_js_1.TAG_ID.HR, html_js_1.TAG_ID.I, html_js_1.TAG_ID.IMG, html_js_1.TAG_ID.LI, html_js_1.TAG_ID.LISTING, html_js_1.TAG_ID.MENU, html_js_1.TAG_ID.META, html_js_1.TAG_ID.NOBR, html_js_1.TAG_ID.OL, html_js_1.TAG_ID.P, html_js_1.TAG_ID.PRE, html_js_1.TAG_ID.RUBY, html_js_1.TAG_ID.S, html_js_1.TAG_ID.SMALL, html_js_1.TAG_ID.SPAN, html_js_1.TAG_ID.STRONG, html_js_1.TAG_ID.STRIKE, html_js_1.TAG_ID.SUB, html_js_1.TAG_ID.SUP, html_js_1.TAG_ID.TABLE, html_js_1.TAG_ID.TT, html_js_1.TAG_ID.U, html_js_1.TAG_ID.UL, html_js_1.TAG_ID.VAR]);
//Check exit from foreign content
function causesExit(startTagToken) {
  const tn = startTagToken.tagID;
  const isFontWithAttrs = tn === html_js_1.TAG_ID.FONT && startTagToken.attrs.some(({
    name
  }) => name === html_js_1.ATTRS.COLOR || name === html_js_1.ATTRS.SIZE || name === html_js_1.ATTRS.FACE);
  return isFontWithAttrs || EXITS_FOREIGN_CONTENT.has(tn);
}
exports.causesExit = causesExit;
//Token adjustments
function adjustTokenMathMLAttrs(token) {
  for (let i = 0; i < token.attrs.length; i++) {
    if (token.attrs[i].name === DEFINITION_URL_ATTR) {
      token.attrs[i].name = ADJUSTED_DEFINITION_URL_ATTR;
      break;
    }
  }
}
exports.adjustTokenMathMLAttrs = adjustTokenMathMLAttrs;
function adjustTokenSVGAttrs(token) {
  for (let i = 0; i < token.attrs.length; i++) {
    const adjustedAttrName = SVG_ATTRS_ADJUSTMENT_MAP.get(token.attrs[i].name);
    if (adjustedAttrName != null) {
      token.attrs[i].name = adjustedAttrName;
    }
  }
}
exports.adjustTokenSVGAttrs = adjustTokenSVGAttrs;
function adjustTokenXMLAttrs(token) {
  for (let i = 0; i < token.attrs.length; i++) {
    const adjustedAttrEntry = XML_ATTRS_ADJUSTMENT_MAP.get(token.attrs[i].name);
    if (adjustedAttrEntry) {
      token.attrs[i].prefix = adjustedAttrEntry.prefix;
      token.attrs[i].name = adjustedAttrEntry.name;
      token.attrs[i].namespace = adjustedAttrEntry.namespace;
    }
  }
}
exports.adjustTokenXMLAttrs = adjustTokenXMLAttrs;
function adjustTokenSVGTagName(token) {
  const adjustedTagName = exports.SVG_TAG_NAMES_ADJUSTMENT_MAP.get(token.tagName);
  if (adjustedTagName != null) {
    token.tagName = adjustedTagName;
    token.tagID = (0, html_js_1.getTagID)(token.tagName);
  }
}
exports.adjustTokenSVGTagName = adjustTokenSVGTagName;
//Integration points
function isMathMLTextIntegrationPoint(tn, ns) {
  return ns === html_js_1.NS.MATHML && (tn === html_js_1.TAG_ID.MI || tn === html_js_1.TAG_ID.MO || tn === html_js_1.TAG_ID.MN || tn === html_js_1.TAG_ID.MS || tn === html_js_1.TAG_ID.MTEXT);
}
function isHtmlIntegrationPoint(tn, ns, attrs) {
  if (ns === html_js_1.NS.MATHML && tn === html_js_1.TAG_ID.ANNOTATION_XML) {
    for (let i = 0; i < attrs.length; i++) {
      if (attrs[i].name === html_js_1.ATTRS.ENCODING) {
        const value = attrs[i].value.toLowerCase();
        return value === MIME_TYPES.TEXT_HTML || value === MIME_TYPES.APPLICATION_XML;
      }
    }
  }
  return ns === html_js_1.NS.SVG && (tn === html_js_1.TAG_ID.FOREIGN_OBJECT || tn === html_js_1.TAG_ID.DESC || tn === html_js_1.TAG_ID.TITLE);
}
function isIntegrationPoint(tn, ns, attrs, foreignNS) {
  return (!foreignNS || foreignNS === html_js_1.NS.HTML) && isHtmlIntegrationPoint(tn, ns, attrs) || (!foreignNS || foreignNS === html_js_1.NS.MATHML) && isMathMLTextIntegrationPoint(tn, ns);
}
exports.isIntegrationPoint = isIntegrationPoint;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImlzSW50ZWdyYXRpb25Qb2ludCIsImFkanVzdFRva2VuU1ZHVGFnTmFtZSIsImFkanVzdFRva2VuWE1MQXR0cnMiLCJhZGp1c3RUb2tlblNWR0F0dHJzIiwiYWRqdXN0VG9rZW5NYXRoTUxBdHRycyIsImNhdXNlc0V4aXQiLCJTVkdfVEFHX05BTUVTX0FESlVTVE1FTlRfTUFQIiwiaHRtbF9qc18xIiwicmVxdWlyZSIsIk1JTUVfVFlQRVMiLCJURVhUX0hUTUwiLCJBUFBMSUNBVElPTl9YTUwiLCJERUZJTklUSU9OX1VSTF9BVFRSIiwiQURKVVNURURfREVGSU5JVElPTl9VUkxfQVRUUiIsIlNWR19BVFRSU19BREpVU1RNRU5UX01BUCIsIk1hcCIsIm1hcCIsImF0dHIiLCJ0b0xvd2VyQ2FzZSIsIlhNTF9BVFRSU19BREpVU1RNRU5UX01BUCIsInByZWZpeCIsIm5hbWUiLCJuYW1lc3BhY2UiLCJOUyIsIlhMSU5LIiwiWE1MIiwiWE1MTlMiLCJ0biIsIkVYSVRTX0ZPUkVJR05fQ09OVEVOVCIsIlNldCIsIlRBR19JRCIsIkIiLCJCSUciLCJCTE9DS1FVT1RFIiwiQk9EWSIsIkJSIiwiQ0VOVEVSIiwiQ09ERSIsIkREIiwiRElWIiwiREwiLCJEVCIsIkVNIiwiRU1CRUQiLCJIMSIsIkgyIiwiSDMiLCJINCIsIkg1IiwiSDYiLCJIRUFEIiwiSFIiLCJJIiwiSU1HIiwiTEkiLCJMSVNUSU5HIiwiTUVOVSIsIk1FVEEiLCJOT0JSIiwiT0wiLCJQIiwiUFJFIiwiUlVCWSIsIlMiLCJTTUFMTCIsIlNQQU4iLCJTVFJPTkciLCJTVFJJS0UiLCJTVUIiLCJTVVAiLCJUQUJMRSIsIlRUIiwiVSIsIlVMIiwiVkFSIiwic3RhcnRUYWdUb2tlbiIsInRhZ0lEIiwiaXNGb250V2l0aEF0dHJzIiwiRk9OVCIsImF0dHJzIiwic29tZSIsIkFUVFJTIiwiQ09MT1IiLCJTSVpFIiwiRkFDRSIsImhhcyIsInRva2VuIiwiaSIsImxlbmd0aCIsImFkanVzdGVkQXR0ck5hbWUiLCJnZXQiLCJhZGp1c3RlZEF0dHJFbnRyeSIsImFkanVzdGVkVGFnTmFtZSIsInRhZ05hbWUiLCJnZXRUYWdJRCIsImlzTWF0aE1MVGV4dEludGVncmF0aW9uUG9pbnQiLCJucyIsIk1BVEhNTCIsIk1JIiwiTU8iLCJNTiIsIk1TIiwiTVRFWFQiLCJpc0h0bWxJbnRlZ3JhdGlvblBvaW50IiwiQU5OT1RBVElPTl9YTUwiLCJFTkNPRElORyIsIlNWRyIsIkZPUkVJR05fT0JKRUNUIiwiREVTQyIsIlRJVExFIiwiZm9yZWlnbk5TIiwiSFRNTCJdLCJzb3VyY2VzIjpbImZvcmVpZ24tY29udGVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaXNJbnRlZ3JhdGlvblBvaW50ID0gZXhwb3J0cy5hZGp1c3RUb2tlblNWR1RhZ05hbWUgPSBleHBvcnRzLmFkanVzdFRva2VuWE1MQXR0cnMgPSBleHBvcnRzLmFkanVzdFRva2VuU1ZHQXR0cnMgPSBleHBvcnRzLmFkanVzdFRva2VuTWF0aE1MQXR0cnMgPSBleHBvcnRzLmNhdXNlc0V4aXQgPSBleHBvcnRzLlNWR19UQUdfTkFNRVNfQURKVVNUTUVOVF9NQVAgPSB2b2lkIDA7XG5jb25zdCBodG1sX2pzXzEgPSByZXF1aXJlKFwiLi9odG1sLmpzXCIpO1xuLy9NSU1FIHR5cGVzXG5jb25zdCBNSU1FX1RZUEVTID0ge1xuICAgIFRFWFRfSFRNTDogJ3RleHQvaHRtbCcsXG4gICAgQVBQTElDQVRJT05fWE1MOiAnYXBwbGljYXRpb24veGh0bWwreG1sJyxcbn07XG4vL0F0dHJpYnV0ZXNcbmNvbnN0IERFRklOSVRJT05fVVJMX0FUVFIgPSAnZGVmaW5pdGlvbnVybCc7XG5jb25zdCBBREpVU1RFRF9ERUZJTklUSU9OX1VSTF9BVFRSID0gJ2RlZmluaXRpb25VUkwnO1xuY29uc3QgU1ZHX0FUVFJTX0FESlVTVE1FTlRfTUFQID0gbmV3IE1hcChbXG4gICAgJ2F0dHJpYnV0ZU5hbWUnLFxuICAgICdhdHRyaWJ1dGVUeXBlJyxcbiAgICAnYmFzZUZyZXF1ZW5jeScsXG4gICAgJ2Jhc2VQcm9maWxlJyxcbiAgICAnY2FsY01vZGUnLFxuICAgICdjbGlwUGF0aFVuaXRzJyxcbiAgICAnZGlmZnVzZUNvbnN0YW50JyxcbiAgICAnZWRnZU1vZGUnLFxuICAgICdmaWx0ZXJVbml0cycsXG4gICAgJ2dseXBoUmVmJyxcbiAgICAnZ3JhZGllbnRUcmFuc2Zvcm0nLFxuICAgICdncmFkaWVudFVuaXRzJyxcbiAgICAna2VybmVsTWF0cml4JyxcbiAgICAna2VybmVsVW5pdExlbmd0aCcsXG4gICAgJ2tleVBvaW50cycsXG4gICAgJ2tleVNwbGluZXMnLFxuICAgICdrZXlUaW1lcycsXG4gICAgJ2xlbmd0aEFkanVzdCcsXG4gICAgJ2xpbWl0aW5nQ29uZUFuZ2xlJyxcbiAgICAnbWFya2VySGVpZ2h0JyxcbiAgICAnbWFya2VyVW5pdHMnLFxuICAgICdtYXJrZXJXaWR0aCcsXG4gICAgJ21hc2tDb250ZW50VW5pdHMnLFxuICAgICdtYXNrVW5pdHMnLFxuICAgICdudW1PY3RhdmVzJyxcbiAgICAncGF0aExlbmd0aCcsXG4gICAgJ3BhdHRlcm5Db250ZW50VW5pdHMnLFxuICAgICdwYXR0ZXJuVHJhbnNmb3JtJyxcbiAgICAncGF0dGVyblVuaXRzJyxcbiAgICAncG9pbnRzQXRYJyxcbiAgICAncG9pbnRzQXRZJyxcbiAgICAncG9pbnRzQXRaJyxcbiAgICAncHJlc2VydmVBbHBoYScsXG4gICAgJ3ByZXNlcnZlQXNwZWN0UmF0aW8nLFxuICAgICdwcmltaXRpdmVVbml0cycsXG4gICAgJ3JlZlgnLFxuICAgICdyZWZZJyxcbiAgICAncmVwZWF0Q291bnQnLFxuICAgICdyZXBlYXREdXInLFxuICAgICdyZXF1aXJlZEV4dGVuc2lvbnMnLFxuICAgICdyZXF1aXJlZEZlYXR1cmVzJyxcbiAgICAnc3BlY3VsYXJDb25zdGFudCcsXG4gICAgJ3NwZWN1bGFyRXhwb25lbnQnLFxuICAgICdzcHJlYWRNZXRob2QnLFxuICAgICdzdGFydE9mZnNldCcsXG4gICAgJ3N0ZERldmlhdGlvbicsXG4gICAgJ3N0aXRjaFRpbGVzJyxcbiAgICAnc3VyZmFjZVNjYWxlJyxcbiAgICAnc3lzdGVtTGFuZ3VhZ2UnLFxuICAgICd0YWJsZVZhbHVlcycsXG4gICAgJ3RhcmdldFgnLFxuICAgICd0YXJnZXRZJyxcbiAgICAndGV4dExlbmd0aCcsXG4gICAgJ3ZpZXdCb3gnLFxuICAgICd2aWV3VGFyZ2V0JyxcbiAgICAneENoYW5uZWxTZWxlY3RvcicsXG4gICAgJ3lDaGFubmVsU2VsZWN0b3InLFxuICAgICd6b29tQW5kUGFuJyxcbl0ubWFwKChhdHRyKSA9PiBbYXR0ci50b0xvd2VyQ2FzZSgpLCBhdHRyXSkpO1xuY29uc3QgWE1MX0FUVFJTX0FESlVTVE1FTlRfTUFQID0gbmV3IE1hcChbXG4gICAgWyd4bGluazphY3R1YXRlJywgeyBwcmVmaXg6ICd4bGluaycsIG5hbWU6ICdhY3R1YXRlJywgbmFtZXNwYWNlOiBodG1sX2pzXzEuTlMuWExJTksgfV0sXG4gICAgWyd4bGluazphcmNyb2xlJywgeyBwcmVmaXg6ICd4bGluaycsIG5hbWU6ICdhcmNyb2xlJywgbmFtZXNwYWNlOiBodG1sX2pzXzEuTlMuWExJTksgfV0sXG4gICAgWyd4bGluazpocmVmJywgeyBwcmVmaXg6ICd4bGluaycsIG5hbWU6ICdocmVmJywgbmFtZXNwYWNlOiBodG1sX2pzXzEuTlMuWExJTksgfV0sXG4gICAgWyd4bGluazpyb2xlJywgeyBwcmVmaXg6ICd4bGluaycsIG5hbWU6ICdyb2xlJywgbmFtZXNwYWNlOiBodG1sX2pzXzEuTlMuWExJTksgfV0sXG4gICAgWyd4bGluazpzaG93JywgeyBwcmVmaXg6ICd4bGluaycsIG5hbWU6ICdzaG93JywgbmFtZXNwYWNlOiBodG1sX2pzXzEuTlMuWExJTksgfV0sXG4gICAgWyd4bGluazp0aXRsZScsIHsgcHJlZml4OiAneGxpbmsnLCBuYW1lOiAndGl0bGUnLCBuYW1lc3BhY2U6IGh0bWxfanNfMS5OUy5YTElOSyB9XSxcbiAgICBbJ3hsaW5rOnR5cGUnLCB7IHByZWZpeDogJ3hsaW5rJywgbmFtZTogJ3R5cGUnLCBuYW1lc3BhY2U6IGh0bWxfanNfMS5OUy5YTElOSyB9XSxcbiAgICBbJ3htbDpiYXNlJywgeyBwcmVmaXg6ICd4bWwnLCBuYW1lOiAnYmFzZScsIG5hbWVzcGFjZTogaHRtbF9qc18xLk5TLlhNTCB9XSxcbiAgICBbJ3htbDpsYW5nJywgeyBwcmVmaXg6ICd4bWwnLCBuYW1lOiAnbGFuZycsIG5hbWVzcGFjZTogaHRtbF9qc18xLk5TLlhNTCB9XSxcbiAgICBbJ3htbDpzcGFjZScsIHsgcHJlZml4OiAneG1sJywgbmFtZTogJ3NwYWNlJywgbmFtZXNwYWNlOiBodG1sX2pzXzEuTlMuWE1MIH1dLFxuICAgIFsneG1sbnMnLCB7IHByZWZpeDogJycsIG5hbWU6ICd4bWxucycsIG5hbWVzcGFjZTogaHRtbF9qc18xLk5TLlhNTE5TIH1dLFxuICAgIFsneG1sbnM6eGxpbmsnLCB7IHByZWZpeDogJ3htbG5zJywgbmFtZTogJ3hsaW5rJywgbmFtZXNwYWNlOiBodG1sX2pzXzEuTlMuWE1MTlMgfV0sXG5dKTtcbi8vU1ZHIHRhZyBuYW1lcyBhZGp1c3RtZW50IG1hcFxuZXhwb3J0cy5TVkdfVEFHX05BTUVTX0FESlVTVE1FTlRfTUFQID0gbmV3IE1hcChbXG4gICAgJ2FsdEdseXBoJyxcbiAgICAnYWx0R2x5cGhEZWYnLFxuICAgICdhbHRHbHlwaEl0ZW0nLFxuICAgICdhbmltYXRlQ29sb3InLFxuICAgICdhbmltYXRlTW90aW9uJyxcbiAgICAnYW5pbWF0ZVRyYW5zZm9ybScsXG4gICAgJ2NsaXBQYXRoJyxcbiAgICAnZmVCbGVuZCcsXG4gICAgJ2ZlQ29sb3JNYXRyaXgnLFxuICAgICdmZUNvbXBvbmVudFRyYW5zZmVyJyxcbiAgICAnZmVDb21wb3NpdGUnLFxuICAgICdmZUNvbnZvbHZlTWF0cml4JyxcbiAgICAnZmVEaWZmdXNlTGlnaHRpbmcnLFxuICAgICdmZURpc3BsYWNlbWVudE1hcCcsXG4gICAgJ2ZlRGlzdGFudExpZ2h0JyxcbiAgICAnZmVGbG9vZCcsXG4gICAgJ2ZlRnVuY0EnLFxuICAgICdmZUZ1bmNCJyxcbiAgICAnZmVGdW5jRycsXG4gICAgJ2ZlRnVuY1InLFxuICAgICdmZUdhdXNzaWFuQmx1cicsXG4gICAgJ2ZlSW1hZ2UnLFxuICAgICdmZU1lcmdlJyxcbiAgICAnZmVNZXJnZU5vZGUnLFxuICAgICdmZU1vcnBob2xvZ3knLFxuICAgICdmZU9mZnNldCcsXG4gICAgJ2ZlUG9pbnRMaWdodCcsXG4gICAgJ2ZlU3BlY3VsYXJMaWdodGluZycsXG4gICAgJ2ZlU3BvdExpZ2h0JyxcbiAgICAnZmVUaWxlJyxcbiAgICAnZmVUdXJidWxlbmNlJyxcbiAgICAnZm9yZWlnbk9iamVjdCcsXG4gICAgJ2dseXBoUmVmJyxcbiAgICAnbGluZWFyR3JhZGllbnQnLFxuICAgICdyYWRpYWxHcmFkaWVudCcsXG4gICAgJ3RleHRQYXRoJyxcbl0ubWFwKCh0bikgPT4gW3RuLnRvTG93ZXJDYXNlKCksIHRuXSkpO1xuLy9UYWdzIHRoYXQgY2F1c2VzIGV4aXQgZnJvbSBmb3JlaWduIGNvbnRlbnRcbmNvbnN0IEVYSVRTX0ZPUkVJR05fQ09OVEVOVCA9IG5ldyBTZXQoW1xuICAgIGh0bWxfanNfMS5UQUdfSUQuQixcbiAgICBodG1sX2pzXzEuVEFHX0lELkJJRyxcbiAgICBodG1sX2pzXzEuVEFHX0lELkJMT0NLUVVPVEUsXG4gICAgaHRtbF9qc18xLlRBR19JRC5CT0RZLFxuICAgIGh0bWxfanNfMS5UQUdfSUQuQlIsXG4gICAgaHRtbF9qc18xLlRBR19JRC5DRU5URVIsXG4gICAgaHRtbF9qc18xLlRBR19JRC5DT0RFLFxuICAgIGh0bWxfanNfMS5UQUdfSUQuREQsXG4gICAgaHRtbF9qc18xLlRBR19JRC5ESVYsXG4gICAgaHRtbF9qc18xLlRBR19JRC5ETCxcbiAgICBodG1sX2pzXzEuVEFHX0lELkRULFxuICAgIGh0bWxfanNfMS5UQUdfSUQuRU0sXG4gICAgaHRtbF9qc18xLlRBR19JRC5FTUJFRCxcbiAgICBodG1sX2pzXzEuVEFHX0lELkgxLFxuICAgIGh0bWxfanNfMS5UQUdfSUQuSDIsXG4gICAgaHRtbF9qc18xLlRBR19JRC5IMyxcbiAgICBodG1sX2pzXzEuVEFHX0lELkg0LFxuICAgIGh0bWxfanNfMS5UQUdfSUQuSDUsXG4gICAgaHRtbF9qc18xLlRBR19JRC5INixcbiAgICBodG1sX2pzXzEuVEFHX0lELkhFQUQsXG4gICAgaHRtbF9qc18xLlRBR19JRC5IUixcbiAgICBodG1sX2pzXzEuVEFHX0lELkksXG4gICAgaHRtbF9qc18xLlRBR19JRC5JTUcsXG4gICAgaHRtbF9qc18xLlRBR19JRC5MSSxcbiAgICBodG1sX2pzXzEuVEFHX0lELkxJU1RJTkcsXG4gICAgaHRtbF9qc18xLlRBR19JRC5NRU5VLFxuICAgIGh0bWxfanNfMS5UQUdfSUQuTUVUQSxcbiAgICBodG1sX2pzXzEuVEFHX0lELk5PQlIsXG4gICAgaHRtbF9qc18xLlRBR19JRC5PTCxcbiAgICBodG1sX2pzXzEuVEFHX0lELlAsXG4gICAgaHRtbF9qc18xLlRBR19JRC5QUkUsXG4gICAgaHRtbF9qc18xLlRBR19JRC5SVUJZLFxuICAgIGh0bWxfanNfMS5UQUdfSUQuUyxcbiAgICBodG1sX2pzXzEuVEFHX0lELlNNQUxMLFxuICAgIGh0bWxfanNfMS5UQUdfSUQuU1BBTixcbiAgICBodG1sX2pzXzEuVEFHX0lELlNUUk9ORyxcbiAgICBodG1sX2pzXzEuVEFHX0lELlNUUklLRSxcbiAgICBodG1sX2pzXzEuVEFHX0lELlNVQixcbiAgICBodG1sX2pzXzEuVEFHX0lELlNVUCxcbiAgICBodG1sX2pzXzEuVEFHX0lELlRBQkxFLFxuICAgIGh0bWxfanNfMS5UQUdfSUQuVFQsXG4gICAgaHRtbF9qc18xLlRBR19JRC5VLFxuICAgIGh0bWxfanNfMS5UQUdfSUQuVUwsXG4gICAgaHRtbF9qc18xLlRBR19JRC5WQVIsXG5dKTtcbi8vQ2hlY2sgZXhpdCBmcm9tIGZvcmVpZ24gY29udGVudFxuZnVuY3Rpb24gY2F1c2VzRXhpdChzdGFydFRhZ1Rva2VuKSB7XG4gICAgY29uc3QgdG4gPSBzdGFydFRhZ1Rva2VuLnRhZ0lEO1xuICAgIGNvbnN0IGlzRm9udFdpdGhBdHRycyA9IHRuID09PSBodG1sX2pzXzEuVEFHX0lELkZPTlQgJiZcbiAgICAgICAgc3RhcnRUYWdUb2tlbi5hdHRycy5zb21lKCh7IG5hbWUgfSkgPT4gbmFtZSA9PT0gaHRtbF9qc18xLkFUVFJTLkNPTE9SIHx8IG5hbWUgPT09IGh0bWxfanNfMS5BVFRSUy5TSVpFIHx8IG5hbWUgPT09IGh0bWxfanNfMS5BVFRSUy5GQUNFKTtcbiAgICByZXR1cm4gaXNGb250V2l0aEF0dHJzIHx8IEVYSVRTX0ZPUkVJR05fQ09OVEVOVC5oYXModG4pO1xufVxuZXhwb3J0cy5jYXVzZXNFeGl0ID0gY2F1c2VzRXhpdDtcbi8vVG9rZW4gYWRqdXN0bWVudHNcbmZ1bmN0aW9uIGFkanVzdFRva2VuTWF0aE1MQXR0cnModG9rZW4pIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRva2VuLmF0dHJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICh0b2tlbi5hdHRyc1tpXS5uYW1lID09PSBERUZJTklUSU9OX1VSTF9BVFRSKSB7XG4gICAgICAgICAgICB0b2tlbi5hdHRyc1tpXS5uYW1lID0gQURKVVNURURfREVGSU5JVElPTl9VUkxfQVRUUjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5hZGp1c3RUb2tlbk1hdGhNTEF0dHJzID0gYWRqdXN0VG9rZW5NYXRoTUxBdHRycztcbmZ1bmN0aW9uIGFkanVzdFRva2VuU1ZHQXR0cnModG9rZW4pIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRva2VuLmF0dHJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGFkanVzdGVkQXR0ck5hbWUgPSBTVkdfQVRUUlNfQURKVVNUTUVOVF9NQVAuZ2V0KHRva2VuLmF0dHJzW2ldLm5hbWUpO1xuICAgICAgICBpZiAoYWRqdXN0ZWRBdHRyTmFtZSAhPSBudWxsKSB7XG4gICAgICAgICAgICB0b2tlbi5hdHRyc1tpXS5uYW1lID0gYWRqdXN0ZWRBdHRyTmFtZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuYWRqdXN0VG9rZW5TVkdBdHRycyA9IGFkanVzdFRva2VuU1ZHQXR0cnM7XG5mdW5jdGlvbiBhZGp1c3RUb2tlblhNTEF0dHJzKHRva2VuKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b2tlbi5hdHRycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBhZGp1c3RlZEF0dHJFbnRyeSA9IFhNTF9BVFRSU19BREpVU1RNRU5UX01BUC5nZXQodG9rZW4uYXR0cnNbaV0ubmFtZSk7XG4gICAgICAgIGlmIChhZGp1c3RlZEF0dHJFbnRyeSkge1xuICAgICAgICAgICAgdG9rZW4uYXR0cnNbaV0ucHJlZml4ID0gYWRqdXN0ZWRBdHRyRW50cnkucHJlZml4O1xuICAgICAgICAgICAgdG9rZW4uYXR0cnNbaV0ubmFtZSA9IGFkanVzdGVkQXR0ckVudHJ5Lm5hbWU7XG4gICAgICAgICAgICB0b2tlbi5hdHRyc1tpXS5uYW1lc3BhY2UgPSBhZGp1c3RlZEF0dHJFbnRyeS5uYW1lc3BhY2U7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLmFkanVzdFRva2VuWE1MQXR0cnMgPSBhZGp1c3RUb2tlblhNTEF0dHJzO1xuZnVuY3Rpb24gYWRqdXN0VG9rZW5TVkdUYWdOYW1lKHRva2VuKSB7XG4gICAgY29uc3QgYWRqdXN0ZWRUYWdOYW1lID0gZXhwb3J0cy5TVkdfVEFHX05BTUVTX0FESlVTVE1FTlRfTUFQLmdldCh0b2tlbi50YWdOYW1lKTtcbiAgICBpZiAoYWRqdXN0ZWRUYWdOYW1lICE9IG51bGwpIHtcbiAgICAgICAgdG9rZW4udGFnTmFtZSA9IGFkanVzdGVkVGFnTmFtZTtcbiAgICAgICAgdG9rZW4udGFnSUQgPSAoMCwgaHRtbF9qc18xLmdldFRhZ0lEKSh0b2tlbi50YWdOYW1lKTtcbiAgICB9XG59XG5leHBvcnRzLmFkanVzdFRva2VuU1ZHVGFnTmFtZSA9IGFkanVzdFRva2VuU1ZHVGFnTmFtZTtcbi8vSW50ZWdyYXRpb24gcG9pbnRzXG5mdW5jdGlvbiBpc01hdGhNTFRleHRJbnRlZ3JhdGlvblBvaW50KHRuLCBucykge1xuICAgIHJldHVybiBucyA9PT0gaHRtbF9qc18xLk5TLk1BVEhNTCAmJiAodG4gPT09IGh0bWxfanNfMS5UQUdfSUQuTUkgfHwgdG4gPT09IGh0bWxfanNfMS5UQUdfSUQuTU8gfHwgdG4gPT09IGh0bWxfanNfMS5UQUdfSUQuTU4gfHwgdG4gPT09IGh0bWxfanNfMS5UQUdfSUQuTVMgfHwgdG4gPT09IGh0bWxfanNfMS5UQUdfSUQuTVRFWFQpO1xufVxuZnVuY3Rpb24gaXNIdG1sSW50ZWdyYXRpb25Qb2ludCh0biwgbnMsIGF0dHJzKSB7XG4gICAgaWYgKG5zID09PSBodG1sX2pzXzEuTlMuTUFUSE1MICYmIHRuID09PSBodG1sX2pzXzEuVEFHX0lELkFOTk9UQVRJT05fWE1MKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChhdHRyc1tpXS5uYW1lID09PSBodG1sX2pzXzEuQVRUUlMuRU5DT0RJTkcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGF0dHJzW2ldLnZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09PSBNSU1FX1RZUEVTLlRFWFRfSFRNTCB8fCB2YWx1ZSA9PT0gTUlNRV9UWVBFUy5BUFBMSUNBVElPTl9YTUw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5zID09PSBodG1sX2pzXzEuTlMuU1ZHICYmICh0biA9PT0gaHRtbF9qc18xLlRBR19JRC5GT1JFSUdOX09CSkVDVCB8fCB0biA9PT0gaHRtbF9qc18xLlRBR19JRC5ERVNDIHx8IHRuID09PSBodG1sX2pzXzEuVEFHX0lELlRJVExFKTtcbn1cbmZ1bmN0aW9uIGlzSW50ZWdyYXRpb25Qb2ludCh0biwgbnMsIGF0dHJzLCBmb3JlaWduTlMpIHtcbiAgICByZXR1cm4gKCgoIWZvcmVpZ25OUyB8fCBmb3JlaWduTlMgPT09IGh0bWxfanNfMS5OUy5IVE1MKSAmJiBpc0h0bWxJbnRlZ3JhdGlvblBvaW50KHRuLCBucywgYXR0cnMpKSB8fFxuICAgICAgICAoKCFmb3JlaWduTlMgfHwgZm9yZWlnbk5TID09PSBodG1sX2pzXzEuTlMuTUFUSE1MKSAmJiBpc01hdGhNTFRleHRJbnRlZ3JhdGlvblBvaW50KHRuLCBucykpKTtcbn1cbmV4cG9ydHMuaXNJbnRlZ3JhdGlvblBvaW50ID0gaXNJbnRlZ3JhdGlvblBvaW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Zm9yZWlnbi1jb250ZW50LmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTs7QUFDWkEsTUFBTSxDQUFDQyxjQUFjLENBQUNDLE9BQU8sRUFBRSxZQUFZLEVBQUU7RUFBRUMsS0FBSyxFQUFFO0FBQUssQ0FBQyxDQUFDO0FBQzdERCxPQUFPLENBQUNFLGtCQUFrQixHQUFHRixPQUFPLENBQUNHLHFCQUFxQixHQUFHSCxPQUFPLENBQUNJLG1CQUFtQixHQUFHSixPQUFPLENBQUNLLG1CQUFtQixHQUFHTCxPQUFPLENBQUNNLHNCQUFzQixHQUFHTixPQUFPLENBQUNPLFVBQVUsR0FBR1AsT0FBTyxDQUFDUSw0QkFBNEIsR0FBRyxLQUFLLENBQUM7QUFDNU4sTUFBTUMsU0FBUyxHQUFHQyxPQUFPLENBQUMsV0FBVyxDQUFDO0FBQ3RDO0FBQ0EsTUFBTUMsVUFBVSxHQUFHO0VBQ2ZDLFNBQVMsRUFBRSxXQUFXO0VBQ3RCQyxlQUFlLEVBQUU7QUFDckIsQ0FBQztBQUNEO0FBQ0EsTUFBTUMsbUJBQW1CLEdBQUcs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