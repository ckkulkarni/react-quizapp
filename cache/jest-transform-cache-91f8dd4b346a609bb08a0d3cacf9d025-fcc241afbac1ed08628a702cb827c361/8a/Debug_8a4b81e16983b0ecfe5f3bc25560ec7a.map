{"version":3,"names":["typeName","spaces","indent","debugNode","debugNodes","_lodash","require","_functionPrototype","_isString","_isNumberObject","_isCallable","_isBooleanObject","_objectInspect","_has","_RSTTraversal","_getAdapter","booleanValue","Function","bind","call","Boolean","prototype","valueOf","node","adapter","_getAdapter2","displayNameOfNode","type","displayName","_functionPrototype2","n","Array","join","depth","string","split","map","x","String","propString","prop","options","_isString2","_objectInspect2","quoteStyle","_isNumberObject2","Number","_isBooleanObject2","_isCallable2","_typeof","verbose","propsString","props","propsOfNode","keys","Object","filter","key","indentChildren","childrenStrs","indentLength","length","isRSTNodeLike","_has2","nodeType","arguments","undefined","_lodash2","name","isValidElement","childrenOfNode","ignoreProps","beforeProps","afterProps","childrenIndented","nodeClose","nodes"],"sources":["../src/Debug.js"],"sourcesContent":["import escape from 'lodash.escape';\nimport functionName from 'function.prototype.name';\nimport isString from 'is-string';\nimport isNumber from 'is-number-object';\nimport isCallable from 'is-callable';\nimport isBoolean from 'is-boolean-object';\nimport inspect from 'object-inspect';\nimport has from 'has';\n\nimport {\n  propsOfNode,\n  childrenOfNode,\n} from './RSTTraversal';\nimport getAdapter from './getAdapter';\n\nconst booleanValue = Function.bind.call(Function.call, Boolean.prototype.valueOf);\n\nexport function typeName(node) {\n  const adapter = getAdapter();\n  if (adapter.displayNameOfNode) {\n    return getAdapter().displayNameOfNode(node) || 'Component';\n  }\n  return typeof node.type === 'function'\n    ? (node.type.displayName || functionName(node.type) || 'Component')\n    : node.type;\n}\n\nexport function spaces(n) {\n  return Array(n + 1).join(' ');\n}\n\nexport function indent(depth, string) {\n  return string.split('\\n').map((x) => `${spaces(depth)}${x}`).join('\\n');\n}\n\nfunction propString(prop, options) {\n  if (isString(prop)) {\n    return inspect(String(prop), { quoteStyle: 'double' });\n  }\n  if (isNumber(prop)) {\n    return `{${inspect(Number(prop))}}`;\n  }\n  if (isBoolean(prop)) {\n    return `{${inspect(booleanValue(prop))}}`;\n  }\n  if (isCallable(prop)) {\n    return `{${inspect(prop)}}`;\n  }\n  if (typeof prop === 'object') {\n    if (options.verbose) {\n      return `{${inspect(prop)}}`;\n    }\n\n    return '{{...}}';\n  }\n  return `{[${typeof prop}]}`;\n}\n\nfunction propsString(node, options) {\n  const props = propsOfNode(node);\n  const keys = Object.keys(props).filter((x) => x !== 'children');\n  return keys.map((key) => `${key}=${propString(props[key], options)}`).join(' ');\n}\n\nfunction indentChildren(childrenStrs, indentLength) {\n  return childrenStrs.length\n    ? `\\n${childrenStrs.map((x) => indent(indentLength, x)).join('\\n')}\\n`\n    : '';\n}\n\nfunction isRSTNodeLike(node) {\n  return has(node, 'nodeType')\n    && typeof node.nodeType === 'string'\n    && has(node, 'type')\n    && has(node, 'key')\n    && has(node, 'ref')\n    && has(node, 'instance')\n    && has(node, 'rendered');\n}\n\nexport function debugNode(node, indentLength = 2, options = {}) {\n  if (typeof node === 'string' || typeof node === 'number') return escape(node);\n  if (typeof node === 'function') {\n    const name = functionName(node);\n    return `[function${name ? ` ${name}` : ''}]`;\n  }\n  if (!node) return '';\n\n  const adapter = getAdapter();\n  if (!adapter.isValidElement(node) && !isRSTNodeLike(node)) {\n    return `{${inspect(node)}}`;\n  }\n\n  const childrenStrs = childrenOfNode(node)\n    .map((n) => debugNode(n, indentLength, options))\n    .filter(Boolean);\n  const type = typeName(node);\n\n  const props = options.ignoreProps ? '' : propsString(node, options);\n  const beforeProps = props ? ' ' : '';\n  const afterProps = childrenStrs.length\n    ? '>'\n    : ' ';\n  const childrenIndented = indentChildren(childrenStrs, indentLength);\n  const nodeClose = childrenStrs.length ? `</${type}>` : '/>';\n  return `<${type}${beforeProps}${props}${afterProps}${childrenIndented}${nodeClose}`;\n}\n\nexport function debugNodes(nodes, options = {}) {\n  return nodes.map((node) => debugNode(node, undefined, options)).join('\\n\\n\\n');\n}\n"],"mappings":";;;;;;;;;;QAiBgBA,Q,GAAAA,Q;QAUAC,M,GAAAA,M;QAIAC,M,GAAAA,M;QAiDAC,S,GAAAA,S;QA4BAC,U,GAAAA,U;AA5GhB,IAAAC,OAAA,GAAAC,OAAA;;AACA,IAAAC,kBAAA,GAAAD,OAAA;;AACA,IAAAE,SAAA,GAAAF,OAAA;;AACA,IAAAG,eAAA,GAAAH,OAAA;;AACA,IAAAI,WAAA,GAAAJ,OAAA;;AACA,IAAAK,gBAAA,GAAAL,OAAA;;AACA,IAAAM,cAAA,GAAAN,OAAA;;AACA,IAAAO,IAAA,GAAAP,OAAA;;AAEA,IAAAQ,aAAA,GAAAR,OAAA;AAIA,IAAAS,WAAA,GAAAT,OAAA;;;;;;;AAEA,IAAMU,YAAA,GAAeC,QAAA,CAASC,IAAT,CAAcC,IAAd,CAAmBF,QAAA,CAASE,IAA5B,EAAkCC,OAAA,CAAQC,SAAR,CAAkBC,OAApD,CAArB;AAEO,SAAStB,QAATA,CAAkBuB,IAAlB,EAAwB;EAC7B,IAAMC,OAAA,GAAU,IAAAC,YAAA,cAAhB;EACA,IAAID,OAAA,CAAQE,iBAAZ,EAA+B;IAC7B,OAAO,IAAAD,YAAA,eAAaC,iBAAb,CAA+BH,IAA/B,KAAwC,WAA/C;EACD;EACD,OAAO,OAAOA,IAAA,CAAKI,IAAZ,KAAqB,UAArB,GACFJ,IAAA,CAAKI,IAAL,CAAUC,WAAV,IAAyB,IAAAC,mBAAA,aAAaN,IAAA,CAAKI,IAAlB,CAAzB,IAAoD,WADlD,GAEHJ,IAAA,CAAKI,IAFT;AAGD;AAEM,SAAS1B,MAATA,CAAgB6B,CAAhB,EAAmB;EACxB,OAAOC,KAAA,CAAMD,CAAA,GAAI,CAAV,EAAaE,IAAb,CAAkB,GAAlB,CAAP;AACD;AAEM,SAAS9B,MAATA,CAAgB+B,KAAhB,EAAuBC,MAAvB,EAA+B;EACpC,OAAOA,MAAA,CAAOC,KAAP,CAAa,IAAb,EAAmBC,GAAnB,CAAuB,UAACC,CAAD;IAAA,YAAAC,MAAA,CAAUrC,MAAA,CAAOgC,KAAP,CAAV,IAAAK,MAAA,CAA0BD,CAA1B;EAAA,CAAvB,EAAsDL,IAAtD,CAA2D,IAA3D,CAAP;AACD;AAED,SAASO,UAATA,CAAoBC,IAApB,EAA0BC,OAA1B,EAAmC;EACjC,IAAI,IAAAC,UAAA,aAASF,IAAT,CAAJ,EAAoB;IAClB,OAAO,IAAAG,eAAA,aAAQL,MAAA,CAAOE,IAAP,CAAR,EAAsB;MAAEI,UAAA,EAAY;IAAd,CAAtB,CAAP;EACD;EACD,IAAI,IAAAC,gBAAA,aAASL,IAAT,CAAJ,EAAoB;IAClB,aAAAF,MAAA,CAAW,IAAAK,eAAA,aAAQG,MAAA,CAAON,IAAP,CAAR,CAAX;EACD;EACD,IAAI,IAAAO,iBAAA,aAAUP,IAAV,CAAJ,EAAqB;IACnB,aAAAF,MAAA,CAAW,IAAAK,eAAA,aAAQ3B,YAAA,CAAawB,IAAb,CAAR,CAAX;EACD;EACD,IAAI,IAAAQ,YAAA,aAAWR,IAAX,CAAJ,EAAsB;IACpB,aAAAF,MAAA,CAAW,IAAAK,eAAA,aAAQH,IAAR,CAAX;EACD;EACD,IAAI,QAAOA,IAAP,iCAAAS,OAAA,CAAOT,IAAP,OAAgB,QAApB,EAA8B;IAC5B,IAAIC,OAAA,CAAQS,OAAZ,EAAqB;MACnB,aAAAZ,MAAA,CAAW,IAAAK,eAAA,aAAQH,IAAR,CAAX;IACD;IAED,OAAO,SAAP;EACD;EACD,sBAAmBA,IAAnB,iCAAAS,OAAA,CAAmBT,IAAnB;AACD;AAED,SAASW,WAATA,CAAqB5B,IAArB,EAA2BkB,OAA3B,EAAoC;EAClC,IAAMW,KAAA,GAAQ,IAAAtC,aAAA,CAAAuC,WAAA,EAAY9B,IAAZ,CAAd;EACA,IAAM+B,IAAA,GAAOC,MAAA,CAAOD,IAAP,CAAYF,KAAZ,EAAmBI,MAAnB,CAA0B,UAACnB,CAAD;IAAA,OAAOA,CAAA,KAAM,UAAb;EAAA,CAA1B,CAAb;EACA,OAAOiB,IAAA,CAAKlB,GAAL,CAAS,UAACqB,GAAD;IAAA,OAAAnB,MAAA,CAAYmB,GAAZ,UAAAnB,MAAA,CAAmBC,UAAA,CAAWa,KAAA,CAAMK,GAAN,CAAX,EAAuBhB,OAAvB,CAAnB;EAAA,CAAT,EAA+DT,IAA/D,CAAoE,GAApE,CAAP;AACD;AAED,SAAS0B,cAATA,CAAwBC,YAAxB,EAAsCC,YAAtC,EAAoD;EAClD,OAAOD,YAAA,CAAaE,MAAb,UAAAvB,MAAA,CACEqB,YAAA,CAAavB,GAAb,CAAiB,UAACC,CAAD;IAAA,OAAOnC,MAAA,CAAO0D,YAAP,EAAqBvB,CAArB,CAAP;EAAA,CAAjB,EAAiDL,IAAjD,CAAsD,IAAtD,CADF,WAEH,EAFJ;AAGD;AAED,SAAS8B,aAATA,CAAuBvC,IAAvB,EAA6B;EAC3B,OAAO,IAAAwC,KAAA,aAAIxC,IAAJ,EAAU,UAAV,KACF,OAAOA,IAAA,CAAKyC,QAAZ,KAAyB,QADvB,IAEF,IAAAD,KAAA,aAAIxC,IAAJ,EAAU,MAAV,CAFE,IAGF,IAAAwC,KAAA,aAAIxC,IAAJ,EAAU,KAAV,CAHE,IAIF,IAAAwC,KAAA,aAAIxC,IAAJ,EAAU,KAAV,CAJE,IAKF,IAAAwC,KAAA,aAAIxC,IAAJ,EAAU,UAAV,CALE,IAMF,IAAAwC,KAAA,aAAIxC,IAAJ,EAAU,UAAV,CANL;AAOD;AAEM,SAASpB,SAATA,CAAmBoB,IAAnB,EAAyD;EAAA,IAAhCqC,YAAgC,GAAAK,SAAA,CAAAJ,MAAA,QAAAI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAjB,CAAiB;EAAA,IAAdxB,OAAc,GAAAwB,SAAA,CAAAJ,MAAA,QAAAI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAJ,EAAI;EAC9D,IAAI,OAAO1C,IAAP,KAAgB,QAAhB,IAA4B,OAAOA,IAAP,KAAgB,QAAhD,EAA0D,OAAO,IAAA4C,QAAA,aAAO5C,IAAP,CAAP;EAC1D,IAAI,OAAOA,IAAP,KAAgB,UAApB,EAAgC;IAC9B,IAAM6C,IAAA,GAAO,IAAAvC,mBAAA,aAAaN,IAAb,CAAb;IACA,sBAAmB6C,IAAA,SAAA9B,MAAA,CAAW8B,IAAX,IAAoB,EAAvC;EACD;EACD,IAAI,CAAC7C,IAAL,EAAW,OAAO,EAAP;EAEX,IAAMC,OAAA,GAAU,IAAAC,YAAA,cAAhB;EACA,IAAI,CAACD,OAAA,CAAQ6C,cAAR,CAAuB9C,IAAvB,CAAD,IAAiC,CAACuC,aAAA,CAAcvC,IAAd,CAAtC,EAA2D;IACzD,aAAAe,MAAA,CAAW,IAAAK,eAAA,aAAQpB,IAAR,CAAX;EACD;EAED,IAAMoC,YAAA,GAAe,IAAA7C,aAAA,CAAAwD,cAAA,EAAe/C,IAAf,EAClBa,GADkB,CACd,UAACN,CAAD;IAAA,OAAO3B,SAAA,CAAU2B,CAAV,EAAa8B,YAAb,EAA2BnB,OAA3B,CAAP;EAAA,CADc,EAElBe,MAFkB,CAEXpC,OAFW,CAArB;EAGA,IAAMO,IAAA,GAAO3B,QAAA,CAASuB,IAAT,CAAb;EAEA,IAAM6B,KAAA,GAAQX,OAAA,CAAQ8B,WAAR,GAAsB,EAAtB,GAA2BpB,WAAA,CAAY5B,IAAZ,EAAkBkB,OAAlB,CAAzC;EACA,IAAM+B,WAAA,GAAcpB,KAAA,GAAQ,GAAR,GAAc,EAAlC;EACA,IAAMqB,UAAA,GAAad,YAAA,CAAaE,MAAb,GACf,GADe,GAEf,GAFJ;EAGA,IAAMa,gBAAA,GAAmBhB,cAAA,CAAeC,YAAf,EAA6BC,YAA7B,CAAzB;EACA,IAAMe,SAAA,GAAYhB,YAAA,CAAaE,MAAb,UAAAvB,MAAA,CAA2BX,IAA3B,UAAqC,IAAvD;EACA,aAAAW,MAAA,CAAWX,IAAX,IAAkB6C,WAAlB,GAAAlC,MAAA,CAAgCc,KAAhC,IAAwCqB,UAAxC,GAAAnC,MAAA,CAAqDoC,gBAArD,IAAwEC,SAAxE;AACD;AAEM,SAASvE,UAATA,CAAoBwE,KAApB,EAAyC;EAAA,IAAdnC,OAAc,GAAAwB,SAAA,CAAAJ,MAAA,QAAAI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAJ,EAAI;EAC9C,OAAOW,KAAA,CAAMxC,GAAN,CAAU,UAACb,IAAD;IAAA,OAAUpB,SAAA,CAAUoB,IAAV,EAAgB2C,SAAhB,EAA2BzB,OAA3B,CAAV;EAAA,CAAV,EAAyDT,IAAzD,CAA8D,QAA9D,CAAP;AACD"}