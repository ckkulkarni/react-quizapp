{"version":3,"names":["_redux","require","_DragDropManagerImpl","_DragDropMonitorImpl","_HandlerRegistryImpl","_index","createDragDropManager","backendFactory","globalContext","undefined","backendOptions","debugMode","store","makeStoreInstance","monitor","DragDropMonitorImpl","HandlerRegistryImpl","manager","DragDropManagerImpl","backend","receiveBackend","reduxDevTools","window","__REDUX_DEVTOOLS_EXTENSION__","createStore","reduce","name","instanceId"],"sources":["../src/createDragDropManager.ts"],"sourcesContent":["import type { Store } from 'redux'\nimport { createStore } from 'redux'\n\nimport { DragDropManagerImpl } from './classes/DragDropManagerImpl.js'\nimport { DragDropMonitorImpl } from './classes/DragDropMonitorImpl.js'\nimport { HandlerRegistryImpl } from './classes/HandlerRegistryImpl.js'\nimport type { BackendFactory, DragDropManager } from './interfaces.js'\nimport type { State } from './reducers/index.js'\nimport { reduce } from './reducers/index.js'\n\nexport function createDragDropManager(\n\tbackendFactory: BackendFactory,\n\tglobalContext: unknown = undefined,\n\tbackendOptions: unknown = {},\n\tdebugMode = false,\n): DragDropManager {\n\tconst store = makeStoreInstance(debugMode)\n\tconst monitor = new DragDropMonitorImpl(store, new HandlerRegistryImpl(store))\n\tconst manager = new DragDropManagerImpl(store, monitor)\n\tconst backend = backendFactory(manager, globalContext, backendOptions)\n\tmanager.receiveBackend(backend)\n\treturn manager\n}\n\nfunction makeStoreInstance(debugMode: boolean): Store<State> {\n\t// TODO: if we ever make a react-native version of this,\n\t// we'll need to consider how to pull off dev-tooling\n\tconst reduxDevTools =\n\t\ttypeof window !== 'undefined' &&\n\t\t(window as any).__REDUX_DEVTOOLS_EXTENSION__\n\treturn createStore(\n\t\treduce,\n\t\tdebugMode &&\n\t\t\treduxDevTools &&\n\t\t\treduxDevTools({\n\t\t\t\tname: 'dnd-core',\n\t\t\t\tinstanceId: 'dnd-core',\n\t\t\t}),\n\t)\n}\n"],"mappings":";;;;;;AACA,IAAAA,MAAA,GAAAC,OAAA;AAEA,IAAAC,oBAAA,GAAAD,OAAA;AACA,IAAAE,oBAAA,GAAAF,OAAA;AACA,IAAAG,oBAAA,GAAAH,OAAA;AAGA,IAAAI,MAAA,GAAAJ,OAAA;AAEO,SAASK,qBAAqBA,CACpCC,cAA8B,EAC9BC,aAAsB,GAAGC,SAAS,EAClCC,cAAuB,GAAG,EAAE,EAC5BC,SAAS,GAAG,KAAK,EACC;EAClB,MAAMC,KAAK,GAAGC,iBAAiB,CAACF,SAAS,CAAC;EAC1C,MAAMG,OAAO,GAAG,IAAIC,wCAAmB,CAACH,KAAK,EAAE,IAAII,wCAAmB,CAACJ,KAAK,CAAC,CAAC;EAC9E,MAAMK,OAAO,GAAG,IAAIC,wCAAmB,CAACN,KAAK,EAAEE,OAAO,CAAC;EACvD,MAAMK,OAAO,GAAGZ,cAAc,CAACU,OAAO,EAAET,aAAa,EAAEE,cAAc,CAAC;EACtEO,OAAO,CAACG,cAAc,CAACD,OAAO,CAAC;EAC/B,OAAOF,OAAO;;AAGf,SAASJ,iBAAiBA,CAACF,SAAkB,EAAgB;EAC5D;EACA;EACA,MAAMU,aAAa,GAClB,OAAOC,MAAM,KAAK,WAAW,IAC7BA,MAAO,CAASC,4BAA4B;EAC7C,OAAO,IAAAC,kBAAW,EACjBC,aAAM,EACNd,SAAS,IACRU,aAAa,IACbA,aAAa,CAAC;IACbK,IAAI,EAAE,UAAU;IAChBC,UAAU,EAAE;GACZ,CAAC,CACH"}