0bd3c16a0b67169ef33f74b5bf08cf34
"use strict";

var __extends = void 0 && (void 0).__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];
    };
    return extendStatics(d, b);
  };
  return function (d, b) {
    if (typeof b !== "function" && b !== null) throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
    extendStatics(d, b);
    function __() {
      this.constructor = d;
    }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
var __assign = void 0 && (void 0).__assign || function () {
  __assign = Object.assign || function (t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
    }
    return t;
  };
  return __assign.apply(this, arguments);
};
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.cloneNode = exports.hasChildren = exports.isDocument = exports.isDirective = exports.isComment = exports.isText = exports.isCDATA = exports.isTag = exports.Element = exports.Document = exports.CDATA = exports.NodeWithChildren = exports.ProcessingInstruction = exports.Comment = exports.Text = exports.DataNode = exports.Node = void 0;
var domelementtype_1 = require("domelementtype");
/**
 * This object will be used as the prototype for Nodes when creating a
 * DOM-Level-1-compliant structure.
 */
var Node = /** @class */function () {
  function Node() {
    /** Parent of the node */
    this.parent = null;
    /** Previous sibling */
    this.prev = null;
    /** Next sibling */
    this.next = null;
    /** The start index of the node. Requires `withStartIndices` on the handler to be `true. */
    this.startIndex = null;
    /** The end index of the node. Requires `withEndIndices` on the handler to be `true. */
    this.endIndex = null;
  }
  Object.defineProperty(Node.prototype, "parentNode", {
    // Read-write aliases for properties
    /**
     * Same as {@link parent}.
     * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.
     */
    get: function () {
      return this.parent;
    },
    set: function (parent) {
      this.parent = parent;
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(Node.prototype, "previousSibling", {
    /**
     * Same as {@link prev}.
     * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.
     */
    get: function () {
      return this.prev;
    },
    set: function (prev) {
      this.prev = prev;
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(Node.prototype, "nextSibling", {
    /**
     * Same as {@link next}.
     * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.
     */
    get: function () {
      return this.next;
    },
    set: function (next) {
      this.next = next;
    },
    enumerable: false,
    configurable: true
  });
  /**
   * Clone this node, and optionally its children.
   *
   * @param recursive Clone child nodes as well.
   * @returns A clone of the node.
   */
  Node.prototype.cloneNode = function (recursive) {
    if (recursive === void 0) {
      recursive = false;
    }
    return cloneNode(this, recursive);
  };
  return Node;
}();
exports.Node = Node;
/**
 * A node that contains some data.
 */
var DataNode = /** @class */function (_super) {
  __extends(DataNode, _super);
  /**
   * @param data The content of the data node
   */
  function DataNode(data) {
    var _this = _super.call(this) || this;
    _this.data = data;
    return _this;
  }
  Object.defineProperty(DataNode.prototype, "nodeValue", {
    /**
     * Same as {@link data}.
     * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.
     */
    get: function () {
      return this.data;
    },
    set: function (data) {
      this.data = data;
    },
    enumerable: false,
    configurable: true
  });
  return DataNode;
}(Node);
exports.DataNode = DataNode;
/**
 * Text within the document.
 */
var Text = /** @class */function (_super) {
  __extends(Text, _super);
  function Text() {
    var _this = _super !== null && _super.apply(this, arguments) || this;
    _this.type = domelementtype_1.ElementType.Text;
    return _this;
  }
  Object.defineProperty(Text.prototype, "nodeType", {
    get: function () {
      return 3;
    },
    enumerable: false,
    configurable: true
  });
  return Text;
}(DataNode);
exports.Text = Text;
/**
 * Comments within the document.
 */
var Comment = /** @class */function (_super) {
  __extends(Comment, _super);
  function Comment() {
    var _this = _super !== null && _super.apply(this, arguments) || this;
    _this.type = domelementtype_1.ElementType.Comment;
    return _this;
  }
  Object.defineProperty(Comment.prototype, "nodeType", {
    get: function () {
      return 8;
    },
    enumerable: false,
    configurable: true
  });
  return Comment;
}(DataNode);
exports.Comment = Comment;
/**
 * Processing instructions, including doc types.
 */
var ProcessingInstruction = /** @class */function (_super) {
  __extends(ProcessingInstruction, _super);
  function ProcessingInstruction(name, data) {
    var _this = _super.call(this, data) || this;
    _this.name = name;
    _this.type = domelementtype_1.ElementType.Directive;
    return _this;
  }
  Object.defineProperty(ProcessingInstruction.prototype, "nodeType", {
    get: function () {
      return 1;
    },
    enumerable: false,
    configurable: true
  });
  return ProcessingInstruction;
}(DataNode);
exports.ProcessingInstruction = ProcessingInstruction;
/**
 * A `Node` that can have children.
 */
var NodeWithChildren = /** @class */function (_super) {
  __extends(NodeWithChildren, _super);
  /**
   * @param children Children of the node. Only certain node types can have children.
   */
  function NodeWithChildren(children) {
    var _this = _super.call(this) || this;
    _this.children = children;
    return _this;
  }
  Object.defineProperty(NodeWithChildren.prototype, "firstChild", {
    // Aliases
    /** First child of the node. */
    get: function () {
      var _a;
      return (_a = this.children[0]) !== null && _a !== void 0 ? _a : null;
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(NodeWithChildren.prototype, "lastChild", {
    /** Last child of the node. */
    get: function () {
      return this.children.length > 0 ? this.children[this.children.length - 1] : null;
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(NodeWithChildren.prototype, "childNodes", {
    /**
     * Same as {@link children}.
     * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.
     */
    get: function () {
      return this.children;
    },
    set: function (children) {
      this.children = children;
    },
    enumerable: false,
    configurable: true
  });
  return NodeWithChildren;
}(Node);
exports.NodeWithChildren = NodeWithChildren;
var CDATA = /** @class */function (_super) {
  __extends(CDATA, _super);
  function CDATA() {
    var _this = _super !== null && _super.apply(this, arguments) || this;
    _this.type = domelementtype_1.ElementType.CDATA;
    return _this;
  }
  Object.defineProperty(CDATA.prototype, "nodeType", {
    get: function () {
      return 4;
    },
    enumerable: false,
    configurable: true
  });
  return CDATA;
}(NodeWithChildren);
exports.CDATA = CDATA;
/**
 * The root node of the document.
 */
var Document = /** @class */function (_super) {
  __extends(Document, _super);
  function Document() {
    var _this = _super !== null && _super.apply(this, arguments) || this;
    _this.type = domelementtype_1.ElementType.Root;
    return _this;
  }
  Object.defineProperty(Document.prototype, "nodeType", {
    get: function () {
      return 9;
    },
    enumerable: false,
    configurable: true
  });
  return Document;
}(NodeWithChildren);
exports.Document = Document;
/**
 * An element within the DOM.
 */
var Element = /** @class */function (_super) {
  __extends(Element, _super);
  /**
   * @param name Name of the tag, eg. `div`, `span`.
   * @param attribs Object mapping attribute names to attribute values.
   * @param children Children of the node.
   */
  function Element(name, attribs, children, type) {
    if (children === void 0) {
      children = [];
    }
    if (type === void 0) {
      type = name === "script" ? domelementtype_1.ElementType.Script : name === "style" ? domelementtype_1.ElementType.Style : domelementtype_1.ElementType.Tag;
    }
    var _this = _super.call(this, children) || this;
    _this.name = name;
    _this.attribs = attribs;
    _this.type = type;
    return _this;
  }
  Object.defineProperty(Element.prototype, "nodeType", {
    get: function () {
      return 1;
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(Element.prototype, "tagName", {
    // DOM Level 1 aliases
    /**
     * Same as {@link name}.
     * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.
     */
    get: function () {
      return this.name;
    },
    set: function (name) {
      this.name = name;
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(Element.prototype, "attributes", {
    get: function () {
      var _this = this;
      return Object.keys(this.attribs).map(function (name) {
        var _a, _b;
        return {
          name: name,
          value: _this.attribs[name],
          namespace: (_a = _this["x-attribsNamespace"]) === null || _a === void 0 ? void 0 : _a[name],
          prefix: (_b = _this["x-attribsPrefix"]) === null || _b === void 0 ? void 0 : _b[name]
        };
      });
    },
    enumerable: false,
    configurable: true
  });
  return Element;
}(NodeWithChildren);
exports.Element = Element;
/**
 * @param node Node to check.
 * @returns `true` if the node is a `Element`, `false` otherwise.
 */
function isTag(node) {
  return (0, domelementtype_1.isTag)(node);
}
exports.isTag = isTag;
/**
 * @param node Node to check.
 * @returns `true` if the node has the type `CDATA`, `false` otherwise.
 */
function isCDATA(node) {
  return node.type === domelementtype_1.ElementType.CDATA;
}
exports.isCDATA = isCDATA;
/**
 * @param node Node to check.
 * @returns `true` if the node has the type `Text`, `false` otherwise.
 */
function isText(node) {
  return node.type === domelementtype_1.ElementType.Text;
}
exports.isText = isText;
/**
 * @param node Node to check.
 * @returns `true` if the node has the type `Comment`, `false` otherwise.
 */
function isComment(node) {
  return node.type === domelementtype_1.ElementType.Comment;
}
exports.isComment = isComment;
/**
 * @param node Node to check.
 * @returns `true` if the node has the type `ProcessingInstruction`, `false` otherwise.
 */
function isDirective(node) {
  return node.type === domelementtype_1.ElementType.Directive;
}
exports.isDirective = isDirective;
/**
 * @param node Node to check.
 * @returns `true` if the node has the type `ProcessingInstruction`, `false` otherwise.
 */
function isDocument(node) {
  return node.type === domelementtype_1.ElementType.Root;
}
exports.isDocument = isDocument;
/**
 * @param node Node to check.
 * @returns `true` if the node has children, `false` otherwise.
 */
function hasChildren(node) {
  return Object.prototype.hasOwnProperty.call(node, "children");
}
exports.hasChildren = hasChildren;
/**
 * Clone a node, and optionally its children.
 *
 * @param recursive Clone child nodes as well.
 * @returns A clone of the node.
 */
function cloneNode(node, recursive) {
  if (recursive === void 0) {
    recursive = false;
  }
  var result;
  if (isText(node)) {
    result = new Text(node.data);
  } else if (isComment(node)) {
    result = new Comment(node.data);
  } else if (isTag(node)) {
    var children = recursive ? cloneChildren(node.children) : [];
    var clone_1 = new Element(node.name, __assign({}, node.attribs), children);
    children.forEach(function (child) {
      return child.parent = clone_1;
    });
    if (node.namespace != null) {
      clone_1.namespace = node.namespace;
    }
    if (node["x-attribsNamespace"]) {
      clone_1["x-attribsNamespace"] = __assign({}, node["x-attribsNamespace"]);
    }
    if (node["x-attribsPrefix"]) {
      clone_1["x-attribsPrefix"] = __assign({}, node["x-attribsPrefix"]);
    }
    result = clone_1;
  } else if (isCDATA(node)) {
    var children = recursive ? cloneChildren(node.children) : [];
    var clone_2 = new CDATA(children);
    children.forEach(function (child) {
      return child.parent = clone_2;
    });
    result = clone_2;
  } else if (isDocument(node)) {
    var children = recursive ? cloneChildren(node.children) : [];
    var clone_3 = new Document(children);
    children.forEach(function (child) {
      return child.parent = clone_3;
    });
    if (node["x-mode"]) {
      clone_3["x-mode"] = node["x-mode"];
    }
    result = clone_3;
  } else if (isDirective(node)) {
    var instruction = new ProcessingInstruction(node.name, node.data);
    if (node["x-name"] != null) {
      instruction["x-name"] = node["x-name"];
      instruction["x-publicId"] = node["x-publicId"];
      instruction["x-systemId"] = node["x-systemId"];
    }
    result = instruction;
  } else {
    throw new Error("Not implemented yet: ".concat(node.type));
  }
  result.startIndex = node.startIndex;
  result.endIndex = node.endIndex;
  if (node.sourceCodeLocation != null) {
    result.sourceCodeLocation = node.sourceCodeLocation;
  }
  return result;
}
exports.cloneNode = cloneNode;
function cloneChildren(childs) {
  var children = childs.map(function (child) {
    return cloneNode(child, true);
  });
  for (var i = 1; i < children.length; i++) {
    children[i].prev = children[i - 1];
    children[i - 1].next = children[i];
  }
  return children;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfX2V4dGVuZHMiLCJleHRlbmRTdGF0aWNzIiwiZCIsImIiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlR5cGVFcnJvciIsIlN0cmluZyIsIl9fIiwiY29uc3RydWN0b3IiLCJjcmVhdGUiLCJfX2Fzc2lnbiIsImFzc2lnbiIsInQiLCJzIiwiaSIsIm4iLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJhcHBseSIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiY2xvbmVOb2RlIiwiaGFzQ2hpbGRyZW4iLCJpc0RvY3VtZW50IiwiaXNEaXJlY3RpdmUiLCJpc0NvbW1lbnQiLCJpc1RleHQiLCJpc0NEQVRBIiwiaXNUYWciLCJFbGVtZW50IiwiRG9jdW1lbnQiLCJDREFUQSIsIk5vZGVXaXRoQ2hpbGRyZW4iLCJQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24iLCJDb21tZW50IiwiVGV4dCIsIkRhdGFOb2RlIiwiTm9kZSIsImRvbWVsZW1lbnR0eXBlXzEiLCJyZXF1aXJlIiwicGFyZW50IiwicHJldiIsIm5leHQiLCJzdGFydEluZGV4IiwiZW5kSW5kZXgiLCJnZXQiLCJzZXQiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwicmVjdXJzaXZlIiwiX3N1cGVyIiwiZGF0YSIsIl90aGlzIiwidHlwZSIsIkVsZW1lbnRUeXBlIiwibmFtZSIsIkRpcmVjdGl2ZSIsImNoaWxkcmVuIiwiX2EiLCJSb290IiwiYXR0cmlicyIsIlNjcmlwdCIsIlN0eWxlIiwiVGFnIiwia2V5cyIsIm1hcCIsIl9iIiwibmFtZXNwYWNlIiwicHJlZml4Iiwibm9kZSIsInJlc3VsdCIsImNsb25lQ2hpbGRyZW4iLCJjbG9uZV8xIiwiZm9yRWFjaCIsImNoaWxkIiwiY2xvbmVfMiIsImNsb25lXzMiLCJpbnN0cnVjdGlvbiIsIkVycm9yIiwiY29uY2F0Iiwic291cmNlQ29kZUxvY2F0aW9uIiwiY2hpbGRzIl0sInNvdXJjZXMiOlsibm9kZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jbG9uZU5vZGUgPSBleHBvcnRzLmhhc0NoaWxkcmVuID0gZXhwb3J0cy5pc0RvY3VtZW50ID0gZXhwb3J0cy5pc0RpcmVjdGl2ZSA9IGV4cG9ydHMuaXNDb21tZW50ID0gZXhwb3J0cy5pc1RleHQgPSBleHBvcnRzLmlzQ0RBVEEgPSBleHBvcnRzLmlzVGFnID0gZXhwb3J0cy5FbGVtZW50ID0gZXhwb3J0cy5Eb2N1bWVudCA9IGV4cG9ydHMuQ0RBVEEgPSBleHBvcnRzLk5vZGVXaXRoQ2hpbGRyZW4gPSBleHBvcnRzLlByb2Nlc3NpbmdJbnN0cnVjdGlvbiA9IGV4cG9ydHMuQ29tbWVudCA9IGV4cG9ydHMuVGV4dCA9IGV4cG9ydHMuRGF0YU5vZGUgPSBleHBvcnRzLk5vZGUgPSB2b2lkIDA7XG52YXIgZG9tZWxlbWVudHR5cGVfMSA9IHJlcXVpcmUoXCJkb21lbGVtZW50dHlwZVwiKTtcbi8qKlxuICogVGhpcyBvYmplY3Qgd2lsbCBiZSB1c2VkIGFzIHRoZSBwcm90b3R5cGUgZm9yIE5vZGVzIHdoZW4gY3JlYXRpbmcgYVxuICogRE9NLUxldmVsLTEtY29tcGxpYW50IHN0cnVjdHVyZS5cbiAqL1xudmFyIE5vZGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTm9kZSgpIHtcbiAgICAgICAgLyoqIFBhcmVudCBvZiB0aGUgbm9kZSAqL1xuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgIC8qKiBQcmV2aW91cyBzaWJsaW5nICovXG4gICAgICAgIHRoaXMucHJldiA9IG51bGw7XG4gICAgICAgIC8qKiBOZXh0IHNpYmxpbmcgKi9cbiAgICAgICAgdGhpcy5uZXh0ID0gbnVsbDtcbiAgICAgICAgLyoqIFRoZSBzdGFydCBpbmRleCBvZiB0aGUgbm9kZS4gUmVxdWlyZXMgYHdpdGhTdGFydEluZGljZXNgIG9uIHRoZSBoYW5kbGVyIHRvIGJlIGB0cnVlLiAqL1xuICAgICAgICB0aGlzLnN0YXJ0SW5kZXggPSBudWxsO1xuICAgICAgICAvKiogVGhlIGVuZCBpbmRleCBvZiB0aGUgbm9kZS4gUmVxdWlyZXMgYHdpdGhFbmRJbmRpY2VzYCBvbiB0aGUgaGFuZGxlciB0byBiZSBgdHJ1ZS4gKi9cbiAgICAgICAgdGhpcy5lbmRJbmRleCA9IG51bGw7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb2RlLnByb3RvdHlwZSwgXCJwYXJlbnROb2RlXCIsIHtcbiAgICAgICAgLy8gUmVhZC13cml0ZSBhbGlhc2VzIGZvciBwcm9wZXJ0aWVzXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTYW1lIGFzIHtAbGluayBwYXJlbnR9LlxuICAgICAgICAgKiBbRE9NIHNwZWNdKGh0dHBzOi8vZG9tLnNwZWMud2hhdHdnLm9yZyktY29tcGF0aWJsZSBhbGlhcy5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChwYXJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vZGUucHJvdG90eXBlLCBcInByZXZpb3VzU2libGluZ1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTYW1lIGFzIHtAbGluayBwcmV2fS5cbiAgICAgICAgICogW0RPTSBzcGVjXShodHRwczovL2RvbS5zcGVjLndoYXR3Zy5vcmcpLWNvbXBhdGlibGUgYWxpYXMuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByZXY7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHByZXYpIHtcbiAgICAgICAgICAgIHRoaXMucHJldiA9IHByZXY7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm9kZS5wcm90b3R5cGUsIFwibmV4dFNpYmxpbmdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2FtZSBhcyB7QGxpbmsgbmV4dH0uXG4gICAgICAgICAqIFtET00gc3BlY10oaHR0cHM6Ly9kb20uc3BlYy53aGF0d2cub3JnKS1jb21wYXRpYmxlIGFsaWFzLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5uZXh0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuZXh0KSB7XG4gICAgICAgICAgICB0aGlzLm5leHQgPSBuZXh0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQ2xvbmUgdGhpcyBub2RlLCBhbmQgb3B0aW9uYWxseSBpdHMgY2hpbGRyZW4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmVjdXJzaXZlIENsb25lIGNoaWxkIG5vZGVzIGFzIHdlbGwuXG4gICAgICogQHJldHVybnMgQSBjbG9uZSBvZiB0aGUgbm9kZS5cbiAgICAgKi9cbiAgICBOb2RlLnByb3RvdHlwZS5jbG9uZU5vZGUgPSBmdW5jdGlvbiAocmVjdXJzaXZlKSB7XG4gICAgICAgIGlmIChyZWN1cnNpdmUgPT09IHZvaWQgMCkgeyByZWN1cnNpdmUgPSBmYWxzZTsgfVxuICAgICAgICByZXR1cm4gY2xvbmVOb2RlKHRoaXMsIHJlY3Vyc2l2ZSk7XG4gICAgfTtcbiAgICByZXR1cm4gTm9kZTtcbn0oKSk7XG5leHBvcnRzLk5vZGUgPSBOb2RlO1xuLyoqXG4gKiBBIG5vZGUgdGhhdCBjb250YWlucyBzb21lIGRhdGEuXG4gKi9cbnZhciBEYXRhTm9kZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRGF0YU5vZGUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGRhdGEgVGhlIGNvbnRlbnQgb2YgdGhlIGRhdGEgbm9kZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIERhdGFOb2RlKGRhdGEpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERhdGFOb2RlLnByb3RvdHlwZSwgXCJub2RlVmFsdWVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2FtZSBhcyB7QGxpbmsgZGF0YX0uXG4gICAgICAgICAqIFtET00gc3BlY10oaHR0cHM6Ly9kb20uc3BlYy53aGF0d2cub3JnKS1jb21wYXRpYmxlIGFsaWFzLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIERhdGFOb2RlO1xufShOb2RlKSk7XG5leHBvcnRzLkRhdGFOb2RlID0gRGF0YU5vZGU7XG4vKipcbiAqIFRleHQgd2l0aGluIHRoZSBkb2N1bWVudC5cbiAqL1xudmFyIFRleHQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRleHQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVGV4dCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnR5cGUgPSBkb21lbGVtZW50dHlwZV8xLkVsZW1lbnRUeXBlLlRleHQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHQucHJvdG90eXBlLCBcIm5vZGVUeXBlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gMztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBUZXh0O1xufShEYXRhTm9kZSkpO1xuZXhwb3J0cy5UZXh0ID0gVGV4dDtcbi8qKlxuICogQ29tbWVudHMgd2l0aGluIHRoZSBkb2N1bWVudC5cbiAqL1xudmFyIENvbW1lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENvbW1lbnQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ29tbWVudCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnR5cGUgPSBkb21lbGVtZW50dHlwZV8xLkVsZW1lbnRUeXBlLkNvbW1lbnQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbW1lbnQucHJvdG90eXBlLCBcIm5vZGVUeXBlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gODtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBDb21tZW50O1xufShEYXRhTm9kZSkpO1xuZXhwb3J0cy5Db21tZW50ID0gQ29tbWVudDtcbi8qKlxuICogUHJvY2Vzc2luZyBpbnN0cnVjdGlvbnMsIGluY2x1ZGluZyBkb2MgdHlwZXMuXG4gKi9cbnZhciBQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFByb2Nlc3NpbmdJbnN0cnVjdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24obmFtZSwgZGF0YSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkYXRhKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgX3RoaXMudHlwZSA9IGRvbWVsZW1lbnR0eXBlXzEuRWxlbWVudFR5cGUuRGlyZWN0aXZlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24ucHJvdG90eXBlLCBcIm5vZGVUeXBlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBQcm9jZXNzaW5nSW5zdHJ1Y3Rpb247XG59KERhdGFOb2RlKSk7XG5leHBvcnRzLlByb2Nlc3NpbmdJbnN0cnVjdGlvbiA9IFByb2Nlc3NpbmdJbnN0cnVjdGlvbjtcbi8qKlxuICogQSBgTm9kZWAgdGhhdCBjYW4gaGF2ZSBjaGlsZHJlbi5cbiAqL1xudmFyIE5vZGVXaXRoQ2hpbGRyZW4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE5vZGVXaXRoQ2hpbGRyZW4sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGNoaWxkcmVuIENoaWxkcmVuIG9mIHRoZSBub2RlLiBPbmx5IGNlcnRhaW4gbm9kZSB0eXBlcyBjYW4gaGF2ZSBjaGlsZHJlbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBOb2RlV2l0aENoaWxkcmVuKGNoaWxkcmVuKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vZGVXaXRoQ2hpbGRyZW4ucHJvdG90eXBlLCBcImZpcnN0Q2hpbGRcIiwge1xuICAgICAgICAvLyBBbGlhc2VzXG4gICAgICAgIC8qKiBGaXJzdCBjaGlsZCBvZiB0aGUgbm9kZS4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICByZXR1cm4gKF9hID0gdGhpcy5jaGlsZHJlblswXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb2RlV2l0aENoaWxkcmVuLnByb3RvdHlwZSwgXCJsYXN0Q2hpbGRcIiwge1xuICAgICAgICAvKiogTGFzdCBjaGlsZCBvZiB0aGUgbm9kZS4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbi5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgPyB0aGlzLmNoaWxkcmVuW3RoaXMuY2hpbGRyZW4ubGVuZ3RoIC0gMV1cbiAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm9kZVdpdGhDaGlsZHJlbi5wcm90b3R5cGUsIFwiY2hpbGROb2Rlc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTYW1lIGFzIHtAbGluayBjaGlsZHJlbn0uXG4gICAgICAgICAqIFtET00gc3BlY10oaHR0cHM6Ly9kb20uc3BlYy53aGF0d2cub3JnKS1jb21wYXRpYmxlIGFsaWFzLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBOb2RlV2l0aENoaWxkcmVuO1xufShOb2RlKSk7XG5leHBvcnRzLk5vZGVXaXRoQ2hpbGRyZW4gPSBOb2RlV2l0aENoaWxkcmVuO1xudmFyIENEQVRBID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDREFUQSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDREFUQSgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnR5cGUgPSBkb21lbGVtZW50dHlwZV8xLkVsZW1lbnRUeXBlLkNEQVRBO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDREFUQS5wcm90b3R5cGUsIFwibm9kZVR5cGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiA0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIENEQVRBO1xufShOb2RlV2l0aENoaWxkcmVuKSk7XG5leHBvcnRzLkNEQVRBID0gQ0RBVEE7XG4vKipcbiAqIFRoZSByb290IG5vZGUgb2YgdGhlIGRvY3VtZW50LlxuICovXG52YXIgRG9jdW1lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERvY3VtZW50LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIERvY3VtZW50KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudHlwZSA9IGRvbWVsZW1lbnR0eXBlXzEuRWxlbWVudFR5cGUuUm9vdDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRG9jdW1lbnQucHJvdG90eXBlLCBcIm5vZGVUeXBlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gOTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBEb2N1bWVudDtcbn0oTm9kZVdpdGhDaGlsZHJlbikpO1xuZXhwb3J0cy5Eb2N1bWVudCA9IERvY3VtZW50O1xuLyoqXG4gKiBBbiBlbGVtZW50IHdpdGhpbiB0aGUgRE9NLlxuICovXG52YXIgRWxlbWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRWxlbWVudCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSB0YWcsIGVnLiBgZGl2YCwgYHNwYW5gLlxuICAgICAqIEBwYXJhbSBhdHRyaWJzIE9iamVjdCBtYXBwaW5nIGF0dHJpYnV0ZSBuYW1lcyB0byBhdHRyaWJ1dGUgdmFsdWVzLlxuICAgICAqIEBwYXJhbSBjaGlsZHJlbiBDaGlsZHJlbiBvZiB0aGUgbm9kZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBFbGVtZW50KG5hbWUsIGF0dHJpYnMsIGNoaWxkcmVuLCB0eXBlKSB7XG4gICAgICAgIGlmIChjaGlsZHJlbiA9PT0gdm9pZCAwKSB7IGNoaWxkcmVuID0gW107IH1cbiAgICAgICAgaWYgKHR5cGUgPT09IHZvaWQgMCkgeyB0eXBlID0gbmFtZSA9PT0gXCJzY3JpcHRcIlxuICAgICAgICAgICAgPyBkb21lbGVtZW50dHlwZV8xLkVsZW1lbnRUeXBlLlNjcmlwdFxuICAgICAgICAgICAgOiBuYW1lID09PSBcInN0eWxlXCJcbiAgICAgICAgICAgICAgICA/IGRvbWVsZW1lbnR0eXBlXzEuRWxlbWVudFR5cGUuU3R5bGVcbiAgICAgICAgICAgICAgICA6IGRvbWVsZW1lbnR0eXBlXzEuRWxlbWVudFR5cGUuVGFnOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNoaWxkcmVuKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgX3RoaXMuYXR0cmlicyA9IGF0dHJpYnM7XG4gICAgICAgIF90aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFbGVtZW50LnByb3RvdHlwZSwgXCJub2RlVHlwZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRWxlbWVudC5wcm90b3R5cGUsIFwidGFnTmFtZVwiLCB7XG4gICAgICAgIC8vIERPTSBMZXZlbCAxIGFsaWFzZXNcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNhbWUgYXMge0BsaW5rIG5hbWV9LlxuICAgICAgICAgKiBbRE9NIHNwZWNdKGh0dHBzOi8vZG9tLnNwZWMud2hhdHdnLm9yZyktY29tcGF0aWJsZSBhbGlhcy5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFbGVtZW50LnByb3RvdHlwZSwgXCJhdHRyaWJ1dGVzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuYXR0cmlicykubWFwKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgICAgICByZXR1cm4gKHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF90aGlzLmF0dHJpYnNbbmFtZV0sXG4gICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZTogKF9hID0gX3RoaXNbXCJ4LWF0dHJpYnNOYW1lc3BhY2VcIl0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYVtuYW1lXSxcbiAgICAgICAgICAgICAgICAgICAgcHJlZml4OiAoX2IgPSBfdGhpc1tcIngtYXR0cmlic1ByZWZpeFwiXSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iW25hbWVdLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gRWxlbWVudDtcbn0oTm9kZVdpdGhDaGlsZHJlbikpO1xuZXhwb3J0cy5FbGVtZW50ID0gRWxlbWVudDtcbi8qKlxuICogQHBhcmFtIG5vZGUgTm9kZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgbm9kZSBpcyBhIGBFbGVtZW50YCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKi9cbmZ1bmN0aW9uIGlzVGFnKG5vZGUpIHtcbiAgICByZXR1cm4gKDAsIGRvbWVsZW1lbnR0eXBlXzEuaXNUYWcpKG5vZGUpO1xufVxuZXhwb3J0cy5pc1RhZyA9IGlzVGFnO1xuLyoqXG4gKiBAcGFyYW0gbm9kZSBOb2RlIHRvIGNoZWNrLlxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBub2RlIGhhcyB0aGUgdHlwZSBgQ0RBVEFgLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqL1xuZnVuY3Rpb24gaXNDREFUQShub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUudHlwZSA9PT0gZG9tZWxlbWVudHR5cGVfMS5FbGVtZW50VHlwZS5DREFUQTtcbn1cbmV4cG9ydHMuaXNDREFUQSA9IGlzQ0RBVEE7XG4vKipcbiAqIEBwYXJhbSBub2RlIE5vZGUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG5vZGUgaGFzIHRoZSB0eXBlIGBUZXh0YCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKi9cbmZ1bmN0aW9uIGlzVGV4dChub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUudHlwZSA9PT0gZG9tZWxlbWVudHR5cGVfMS5FbGVtZW50VHlwZS5UZXh0O1xufVxuZXhwb3J0cy5pc1RleHQgPSBpc1RleHQ7XG4vKipcbiAqIEBwYXJhbSBub2RlIE5vZGUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG5vZGUgaGFzIHRoZSB0eXBlIGBDb21tZW50YCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKi9cbmZ1bmN0aW9uIGlzQ29tbWVudChub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUudHlwZSA9PT0gZG9tZWxlbWVudHR5cGVfMS5FbGVtZW50VHlwZS5Db21tZW50O1xufVxuZXhwb3J0cy5pc0NvbW1lbnQgPSBpc0NvbW1lbnQ7XG4vKipcbiAqIEBwYXJhbSBub2RlIE5vZGUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG5vZGUgaGFzIHRoZSB0eXBlIGBQcm9jZXNzaW5nSW5zdHJ1Y3Rpb25gLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqL1xuZnVuY3Rpb24gaXNEaXJlY3RpdmUobm9kZSkge1xuICAgIHJldHVybiBub2RlLnR5cGUgPT09IGRvbWVsZW1lbnR0eXBlXzEuRWxlbWVudFR5cGUuRGlyZWN0aXZlO1xufVxuZXhwb3J0cy5pc0RpcmVjdGl2ZSA9IGlzRGlyZWN0aXZlO1xuLyoqXG4gKiBAcGFyYW0gbm9kZSBOb2RlIHRvIGNoZWNrLlxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBub2RlIGhhcyB0aGUgdHlwZSBgUHJvY2Vzc2luZ0luc3RydWN0aW9uYCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKi9cbmZ1bmN0aW9uIGlzRG9jdW1lbnQobm9kZSkge1xuICAgIHJldHVybiBub2RlLnR5cGUgPT09IGRvbWVsZW1lbnR0eXBlXzEuRWxlbWVudFR5cGUuUm9vdDtcbn1cbmV4cG9ydHMuaXNEb2N1bWVudCA9IGlzRG9jdW1lbnQ7XG4vKipcbiAqIEBwYXJhbSBub2RlIE5vZGUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG5vZGUgaGFzIGNoaWxkcmVuLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqL1xuZnVuY3Rpb24gaGFzQ2hpbGRyZW4obm9kZSkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobm9kZSwgXCJjaGlsZHJlblwiKTtcbn1cbmV4cG9ydHMuaGFzQ2hpbGRyZW4gPSBoYXNDaGlsZHJlbjtcbi8qKlxuICogQ2xvbmUgYSBub2RlLCBhbmQgb3B0aW9uYWxseSBpdHMgY2hpbGRyZW4uXG4gKlxuICogQHBhcmFtIHJlY3Vyc2l2ZSBDbG9uZSBjaGlsZCBub2RlcyBhcyB3ZWxsLlxuICogQHJldHVybnMgQSBjbG9uZSBvZiB0aGUgbm9kZS5cbiAqL1xuZnVuY3Rpb24gY2xvbmVOb2RlKG5vZGUsIHJlY3Vyc2l2ZSkge1xuICAgIGlmIChyZWN1cnNpdmUgPT09IHZvaWQgMCkgeyByZWN1cnNpdmUgPSBmYWxzZTsgfVxuICAgIHZhciByZXN1bHQ7XG4gICAgaWYgKGlzVGV4dChub2RlKSkge1xuICAgICAgICByZXN1bHQgPSBuZXcgVGV4dChub2RlLmRhdGEpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0NvbW1lbnQobm9kZSkpIHtcbiAgICAgICAgcmVzdWx0ID0gbmV3IENvbW1lbnQobm9kZS5kYXRhKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNUYWcobm9kZSkpIHtcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gcmVjdXJzaXZlID8gY2xvbmVDaGlsZHJlbihub2RlLmNoaWxkcmVuKSA6IFtdO1xuICAgICAgICB2YXIgY2xvbmVfMSA9IG5ldyBFbGVtZW50KG5vZGUubmFtZSwgX19hc3NpZ24oe30sIG5vZGUuYXR0cmlicyksIGNoaWxkcmVuKTtcbiAgICAgICAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHsgcmV0dXJuIChjaGlsZC5wYXJlbnQgPSBjbG9uZV8xKTsgfSk7XG4gICAgICAgIGlmIChub2RlLm5hbWVzcGFjZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBjbG9uZV8xLm5hbWVzcGFjZSA9IG5vZGUubmFtZXNwYWNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlW1wieC1hdHRyaWJzTmFtZXNwYWNlXCJdKSB7XG4gICAgICAgICAgICBjbG9uZV8xW1wieC1hdHRyaWJzTmFtZXNwYWNlXCJdID0gX19hc3NpZ24oe30sIG5vZGVbXCJ4LWF0dHJpYnNOYW1lc3BhY2VcIl0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlW1wieC1hdHRyaWJzUHJlZml4XCJdKSB7XG4gICAgICAgICAgICBjbG9uZV8xW1wieC1hdHRyaWJzUHJlZml4XCJdID0gX19hc3NpZ24oe30sIG5vZGVbXCJ4LWF0dHJpYnNQcmVmaXhcIl0pO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IGNsb25lXzE7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzQ0RBVEEobm9kZSkpIHtcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gcmVjdXJzaXZlID8gY2xvbmVDaGlsZHJlbihub2RlLmNoaWxkcmVuKSA6IFtdO1xuICAgICAgICB2YXIgY2xvbmVfMiA9IG5ldyBDREFUQShjaGlsZHJlbik7XG4gICAgICAgIGNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7IHJldHVybiAoY2hpbGQucGFyZW50ID0gY2xvbmVfMik7IH0pO1xuICAgICAgICByZXN1bHQgPSBjbG9uZV8yO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0RvY3VtZW50KG5vZGUpKSB7XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IHJlY3Vyc2l2ZSA/IGNsb25lQ2hpbGRyZW4obm9kZS5jaGlsZHJlbikgOiBbXTtcbiAgICAgICAgdmFyIGNsb25lXzMgPSBuZXcgRG9jdW1lbnQoY2hpbGRyZW4pO1xuICAgICAgICBjaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkgeyByZXR1cm4gKGNoaWxkLnBhcmVudCA9IGNsb25lXzMpOyB9KTtcbiAgICAgICAgaWYgKG5vZGVbXCJ4LW1vZGVcIl0pIHtcbiAgICAgICAgICAgIGNsb25lXzNbXCJ4LW1vZGVcIl0gPSBub2RlW1wieC1tb2RlXCJdO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IGNsb25lXzM7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzRGlyZWN0aXZlKG5vZGUpKSB7XG4gICAgICAgIHZhciBpbnN0cnVjdGlvbiA9IG5ldyBQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24obm9kZS5uYW1lLCBub2RlLmRhdGEpO1xuICAgICAgICBpZiAobm9kZVtcIngtbmFtZVwiXSAhPSBudWxsKSB7XG4gICAgICAgICAgICBpbnN0cnVjdGlvbltcIngtbmFtZVwiXSA9IG5vZGVbXCJ4LW5hbWVcIl07XG4gICAgICAgICAgICBpbnN0cnVjdGlvbltcIngtcHVibGljSWRcIl0gPSBub2RlW1wieC1wdWJsaWNJZFwiXTtcbiAgICAgICAgICAgIGluc3RydWN0aW9uW1wieC1zeXN0ZW1JZFwiXSA9IG5vZGVbXCJ4LXN5c3RlbUlkXCJdO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IGluc3RydWN0aW9uO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkIHlldDogXCIuY29uY2F0KG5vZGUudHlwZSkpO1xuICAgIH1cbiAgICByZXN1bHQuc3RhcnRJbmRleCA9IG5vZGUuc3RhcnRJbmRleDtcbiAgICByZXN1bHQuZW5kSW5kZXggPSBub2RlLmVuZEluZGV4O1xuICAgIGlmIChub2RlLnNvdXJjZUNvZGVMb2NhdGlvbiAhPSBudWxsKSB7XG4gICAgICAgIHJlc3VsdC5zb3VyY2VDb2RlTG9jYXRpb24gPSBub2RlLnNvdXJjZUNvZGVMb2NhdGlvbjtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydHMuY2xvbmVOb2RlID0gY2xvbmVOb2RlO1xuZnVuY3Rpb24gY2xvbmVDaGlsZHJlbihjaGlsZHMpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBjaGlsZHMubWFwKGZ1bmN0aW9uIChjaGlsZCkgeyByZXR1cm4gY2xvbmVOb2RlKGNoaWxkLCB0cnVlKTsgfSk7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBjaGlsZHJlbltpXS5wcmV2ID0gY2hpbGRyZW5baSAtIDFdO1xuICAgICAgICBjaGlsZHJlbltpIC0gMV0ubmV4dCA9IGNoaWxkcmVuW2ldO1xuICAgIH1cbiAgICByZXR1cm4gY2hpbGRyZW47XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBQ1osSUFBSUEsU0FBUyxHQUFJLFVBQVEsU0FBS0EsU0FBUyxJQUFNLFlBQVk7RUFDckQsSUFBSUMsYUFBYSxHQUFHLFNBQUFBLENBQVVDLENBQUMsRUFBRUMsQ0FBQyxFQUFFO0lBQ2hDRixhQUFhLEdBQUdHLE1BQU0sQ0FBQ0MsY0FBYyxJQUNoQztNQUFFQyxTQUFTLEVBQUU7SUFBRyxDQUFDLFlB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