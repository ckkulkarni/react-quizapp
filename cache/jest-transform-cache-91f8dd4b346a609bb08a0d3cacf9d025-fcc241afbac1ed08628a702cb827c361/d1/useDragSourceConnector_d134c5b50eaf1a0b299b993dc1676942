37ff6d419f476fc997977079b8502962
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useDragSourceConnector = useDragSourceConnector;
var _react = require("react");
var _index = require("../../internals/index.js");
var _useDragDropManager = require("../useDragDropManager.js");
var _useIsomorphicLayoutEffect = require("../useIsomorphicLayoutEffect.js");
function useDragSourceConnector(dragSourceOptions, dragPreviewOptions) {
  const manager = (0, _useDragDropManager.useDragDropManager)();
  const connector = (0, _react.useMemo)(() => new _index.SourceConnector(manager.getBackend()), [manager]);
  (0, _useIsomorphicLayoutEffect.useIsomorphicLayoutEffect)(() => {
    connector.dragSourceOptions = dragSourceOptions || null;
    connector.reconnect();
    return () => connector.disconnectDragSource();
  }, [connector, dragSourceOptions]);
  (0, _useIsomorphicLayoutEffect.useIsomorphicLayoutEffect)(() => {
    connector.dragPreviewOptions = dragPreviewOptions || null;
    connector.reconnect();
    return () => connector.disconnectDragPreview();
  }, [connector, dragPreviewOptions]);
  return connector;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwiX2luZGV4IiwiX3VzZURyYWdEcm9wTWFuYWdlciIsIl91c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IiwidXNlRHJhZ1NvdXJjZUNvbm5lY3RvciIsImRyYWdTb3VyY2VPcHRpb25zIiwiZHJhZ1ByZXZpZXdPcHRpb25zIiwibWFuYWdlciIsInVzZURyYWdEcm9wTWFuYWdlciIsImNvbm5lY3RvciIsInVzZU1lbW8iLCJTb3VyY2VDb25uZWN0b3IiLCJnZXRCYWNrZW5kIiwidXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCIsInJlY29ubmVjdCIsImRpc2Nvbm5lY3REcmFnU291cmNlIiwiZGlzY29ubmVjdERyYWdQcmV2aWV3Il0sInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2hvb2tzL3VzZURyYWcvdXNlRHJhZ1NvdXJjZUNvbm5lY3Rvci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VNZW1vIH0gZnJvbSAncmVhY3QnXG5cbmltcG9ydCB7IFNvdXJjZUNvbm5lY3RvciB9IGZyb20gJy4uLy4uL2ludGVybmFscy9pbmRleC5qcydcbmltcG9ydCB0eXBlIHtcblx0RHJhZ1ByZXZpZXdPcHRpb25zLFxuXHREcmFnU291cmNlT3B0aW9ucyxcbn0gZnJvbSAnLi4vLi4vdHlwZXMvaW5kZXguanMnXG5pbXBvcnQgeyB1c2VEcmFnRHJvcE1hbmFnZXIgfSBmcm9tICcuLi91c2VEcmFnRHJvcE1hbmFnZXIuanMnXG5pbXBvcnQgeyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IH0gZnJvbSAnLi4vdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdC5qcydcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZURyYWdTb3VyY2VDb25uZWN0b3IoXG5cdGRyYWdTb3VyY2VPcHRpb25zOiBEcmFnU291cmNlT3B0aW9ucyB8IHVuZGVmaW5lZCxcblx0ZHJhZ1ByZXZpZXdPcHRpb25zOiBEcmFnUHJldmlld09wdGlvbnMgfCB1bmRlZmluZWQsXG4pOiBTb3VyY2VDb25uZWN0b3Ige1xuXHRjb25zdCBtYW5hZ2VyID0gdXNlRHJhZ0Ryb3BNYW5hZ2VyKClcblx0Y29uc3QgY29ubmVjdG9yID0gdXNlTWVtbyhcblx0XHQoKSA9PiBuZXcgU291cmNlQ29ubmVjdG9yKG1hbmFnZXIuZ2V0QmFja2VuZCgpKSxcblx0XHRbbWFuYWdlcl0sXG5cdClcblx0dXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG5cdFx0Y29ubmVjdG9yLmRyYWdTb3VyY2VPcHRpb25zID0gZHJhZ1NvdXJjZU9wdGlvbnMgfHwgbnVsbFxuXHRcdGNvbm5lY3Rvci5yZWNvbm5lY3QoKVxuXHRcdHJldHVybiAoKSA9PiBjb25uZWN0b3IuZGlzY29ubmVjdERyYWdTb3VyY2UoKVxuXHR9LCBbY29ubmVjdG9yLCBkcmFnU291cmNlT3B0aW9uc10pXG5cdHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuXHRcdGNvbm5lY3Rvci5kcmFnUHJldmlld09wdGlvbnMgPSBkcmFnUHJldmlld09wdGlvbnMgfHwgbnVsbFxuXHRcdGNvbm5lY3Rvci5yZWNvbm5lY3QoKVxuXHRcdHJldHVybiAoKSA9PiBjb25uZWN0b3IuZGlzY29ubmVjdERyYWdQcmV2aWV3KClcblx0fSwgW2Nvbm5lY3RvciwgZHJhZ1ByZXZpZXdPcHRpb25zXSlcblx0cmV0dXJuIGNvbm5lY3RvclxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxNQUFBLEdBQUFDLE9BQUE7QUFFQSxJQUFBQyxNQUFBLEdBQUFELE9BQUE7QUFLQSxJQUFBRSxtQkFBQSxHQUFBRixPQUFBO0FBQ0EsSUFBQUcsMEJBQUEsR0FBQUgsT0FBQTtBQUVPLFNBQVNJLHNCQUFzQkEsQ0FDckNDLGlCQUFnRCxFQUNoREMsa0JBQWtELEVBQ2hDO0VBQ2xCLE1BQU1DLE9BQU8sR0FBRyxJQUFBQyxzQ0FBa0IsR0FBRTtFQUNwQyxNQUFNQyxTQUFTLEdBQUcsSUFBQUMsY0FBTyxFQUN4QixNQUFNLElBQUlDLHNCQUFlLENBQUNKLE9BQU8sQ0FBQ0ssVUFBVSxFQUFFLENBQUMsRUFDL0MsQ0FBQ0wsT0FBTyxDQUFDLENBQ1Q7RUFDRCxJQUFBTSxvREFBeUIsRUFBQyxNQUFNO0lBQy9CSixTQUFTLENBQUNKLGlCQUFpQixHQUFHQSxpQkFBaUIsSUFBSSxJQUFJO0lBQ3ZESSxTQUFTLENBQUNLLFNBQVMsRUFBRTtJQUNyQixPQUFPLE1BQU1MLFNBQVMsQ0FBQ00sb0JBQW9CLEVBQUU7R0FDN0MsRUFBRSxDQUFDTixTQUFTLEVBQUVKLGlCQUFpQixDQUFDLENBQUM7RUFDbEMsSUFBQVEsb0RBQXlCLEVBQUMsTUFBTTtJQUMvQkosU0FBUyxDQUFDSCxrQkFBa0IsR0FBR0Esa0JBQWtCLElBQUksSUFBSTtJQUN6REcsU0FBUyxDQUFDSyxTQUFTLEVBQUU7SUFDckIsT0FBTyxNQUFNTCxTQUFTLENBQUNPLHFCQUFxQixFQUFFO0dBQzlDLEVBQUUsQ0FBQ1AsU0FBUyxFQUFFSCxrQkFBa0IsQ0FBQyxDQUFDO0VBQ25DLE9BQU9HLFNBQVMifQ==