4d3d9a8a551f6882932e1ffbe3aebdaa
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.adapter = exports.serializeDoctypeContent = void 0;
const parse5_1 = require("parse5");
const domhandler_1 = require("domhandler");
function createTextNode(value) {
  return new domhandler_1.Text(value);
}
function enquoteDoctypeId(id) {
  const quote = id.includes('"') ? "'" : '"';
  return quote + id + quote;
}
/** @internal */
function serializeDoctypeContent(name, publicId, systemId) {
  let str = '!DOCTYPE ';
  if (name) {
    str += name;
  }
  if (publicId) {
    str += ` PUBLIC ${enquoteDoctypeId(publicId)}`;
  } else if (systemId) {
    str += ' SYSTEM';
  }
  if (systemId) {
    str += ` ${enquoteDoctypeId(systemId)}`;
  }
  return str;
}
exports.serializeDoctypeContent = serializeDoctypeContent;
exports.adapter = {
  // Re-exports from domhandler
  isCommentNode: domhandler_1.isComment,
  isElementNode: domhandler_1.isTag,
  isTextNode: domhandler_1.isText,
  //Node construction
  createDocument() {
    const node = new domhandler_1.Document([]);
    node['x-mode'] = parse5_1.html.DOCUMENT_MODE.NO_QUIRKS;
    return node;
  },
  createDocumentFragment() {
    return new domhandler_1.Document([]);
  },
  createElement(tagName, namespaceURI, attrs) {
    const attribs = Object.create(null);
    const attribsNamespace = Object.create(null);
    const attribsPrefix = Object.create(null);
    for (let i = 0; i < attrs.length; i++) {
      const attrName = attrs[i].name;
      attribs[attrName] = attrs[i].value;
      attribsNamespace[attrName] = attrs[i].namespace;
      attribsPrefix[attrName] = attrs[i].prefix;
    }
    const node = new domhandler_1.Element(tagName, attribs, []);
    node.namespace = namespaceURI;
    node['x-attribsNamespace'] = attribsNamespace;
    node['x-attribsPrefix'] = attribsPrefix;
    return node;
  },
  createCommentNode(data) {
    return new domhandler_1.Comment(data);
  },
  //Tree mutation
  appendChild(parentNode, newNode) {
    const prev = parentNode.children[parentNode.children.length - 1];
    if (prev) {
      prev.next = newNode;
      newNode.prev = prev;
    }
    parentNode.children.push(newNode);
    newNode.parent = parentNode;
  },
  insertBefore(parentNode, newNode, referenceNode) {
    const insertionIdx = parentNode.children.indexOf(referenceNode);
    const {
      prev
    } = referenceNode;
    if (prev) {
      prev.next = newNode;
      newNode.prev = prev;
    }
    referenceNode.prev = newNode;
    newNode.next = referenceNode;
    parentNode.children.splice(insertionIdx, 0, newNode);
    newNode.parent = parentNode;
  },
  setTemplateContent(templateElement, contentElement) {
    exports.adapter.appendChild(templateElement, contentElement);
  },
  getTemplateContent(templateElement) {
    return templateElement.children[0];
  },
  setDocumentType(document, name, publicId, systemId) {
    const data = serializeDoctypeContent(name, publicId, systemId);
    let doctypeNode = document.children.find(node => (0, domhandler_1.isDirective)(node) && node.name === '!doctype');
    if (doctypeNode) {
      doctypeNode.data = data !== null && data !== void 0 ? data : null;
    } else {
      doctypeNode = new domhandler_1.ProcessingInstruction('!doctype', data);
      exports.adapter.appendChild(document, doctypeNode);
    }
    doctypeNode['x-name'] = name !== null && name !== void 0 ? name : undefined;
    doctypeNode['x-publicId'] = publicId !== null && publicId !== void 0 ? publicId : undefined;
    doctypeNode['x-systemId'] = systemId !== null && systemId !== void 0 ? systemId : undefined;
  },
  setDocumentMode(document, mode) {
    document['x-mode'] = mode;
  },
  getDocumentMode(document) {
    return document['x-mode'];
  },
  detachNode(node) {
    if (node.parent) {
      const idx = node.parent.children.indexOf(node);
      const {
        prev,
        next
      } = node;
      node.prev = null;
      node.next = null;
      if (prev) {
        prev.next = next;
      }
      if (next) {
        next.prev = prev;
      }
      node.parent.children.splice(idx, 1);
      node.parent = null;
    }
  },
  insertText(parentNode, text) {
    const lastChild = parentNode.children[parentNode.children.length - 1];
    if (lastChild && (0, domhandler_1.isText)(lastChild)) {
      lastChild.data += text;
    } else {
      exports.adapter.appendChild(parentNode, createTextNode(text));
    }
  },
  insertTextBefore(parentNode, text, referenceNode) {
    const prevNode = parentNode.children[parentNode.children.indexOf(referenceNode) - 1];
    if (prevNode && (0, domhandler_1.isText)(prevNode)) {
      prevNode.data += text;
    } else {
      exports.adapter.insertBefore(parentNode, createTextNode(text), referenceNode);
    }
  },
  adoptAttributes(recipient, attrs) {
    for (let i = 0; i < attrs.length; i++) {
      const attrName = attrs[i].name;
      if (typeof recipient.attribs[attrName] === 'undefined') {
        recipient.attribs[attrName] = attrs[i].value;
        recipient['x-attribsNamespace'][attrName] = attrs[i].namespace;
        recipient['x-attribsPrefix'][attrName] = attrs[i].prefix;
      }
    }
  },
  //Tree traversing
  getFirstChild(node) {
    return node.children[0];
  },
  getChildNodes(node) {
    return node.children;
  },
  getParentNode(node) {
    return node.parent;
  },
  getAttrList(element) {
    return element.attributes;
  },
  //Node data
  getTagName(element) {
    return element.name;
  },
  getNamespaceURI(element) {
    return element.namespace;
  },
  getTextNodeContent(textNode) {
    return textNode.data;
  },
  getCommentNodeContent(commentNode) {
    return commentNode.data;
  },
  getDocumentTypeNodeName(doctypeNode) {
    var _a;
    return (_a = doctypeNode['x-name']) !== null && _a !== void 0 ? _a : '';
  },
  getDocumentTypeNodePublicId(doctypeNode) {
    var _a;
    return (_a = doctypeNode['x-publicId']) !== null && _a !== void 0 ? _a : '';
  },
  getDocumentTypeNodeSystemId(doctypeNode) {
    var _a;
    return (_a = doctypeNode['x-systemId']) !== null && _a !== void 0 ? _a : '';
  },
  //Node types
  isDocumentTypeNode(node) {
    return (0, domhandler_1.isDirective)(node) && node.name === '!doctype';
  },
  // Source code location
  setNodeSourceCodeLocation(node, location) {
    if (location) {
      node.startIndex = location.startOffset;
      node.endIndex = location.endOffset;
    }
    node.sourceCodeLocation = location;
  },
  getNodeSourceCodeLocation(node) {
    return node.sourceCodeLocation;
  },
  updateNodeSourceCodeLocation(node, endLocation) {
    if (endLocation.endOffset != null) node.endIndex = endLocation.endOffset;
    node.sourceCodeLocation = Object.assign(Object.assign({}, node.sourceCodeLocation), endLocation);
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImFkYXB0ZXIiLCJzZXJpYWxpemVEb2N0eXBlQ29udGVudCIsInBhcnNlNV8xIiwicmVxdWlyZSIsImRvbWhhbmRsZXJfMSIsImNyZWF0ZVRleHROb2RlIiwiVGV4dCIsImVucXVvdGVEb2N0eXBlSWQiLCJpZCIsInF1b3RlIiwiaW5jbHVkZXMiLCJuYW1lIiwicHVibGljSWQiLCJzeXN0ZW1JZCIsInN0ciIsImlzQ29tbWVudE5vZGUiLCJpc0NvbW1lbnQiLCJpc0VsZW1lbnROb2RlIiwiaXNUYWciLCJpc1RleHROb2RlIiwiaXNUZXh0IiwiY3JlYXRlRG9jdW1lbnQiLCJub2RlIiwiRG9jdW1lbnQiLCJodG1sIiwiRE9DVU1FTlRfTU9ERSIsIk5PX1FVSVJLUyIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJjcmVhdGVFbGVtZW50IiwidGFnTmFtZSIsIm5hbWVzcGFjZVVSSSIsImF0dHJzIiwiYXR0cmlicyIsImNyZWF0ZSIsImF0dHJpYnNOYW1lc3BhY2UiLCJhdHRyaWJzUHJlZml4IiwiaSIsImxlbmd0aCIsImF0dHJOYW1lIiwibmFtZXNwYWNlIiwicHJlZml4IiwiRWxlbWVudCIsImNyZWF0ZUNvbW1lbnROb2RlIiwiZGF0YSIsIkNvbW1lbnQiLCJhcHBlbmRDaGlsZCIsInBhcmVudE5vZGUiLCJuZXdOb2RlIiwicHJldiIsImNoaWxkcmVuIiwibmV4dCIsInB1c2giLCJwYXJlbnQiLCJpbnNlcnRCZWZvcmUiLCJyZWZlcmVuY2VOb2RlIiwiaW5zZXJ0aW9uSWR4IiwiaW5kZXhPZiIsInNwbGljZSIsInNldFRlbXBsYXRlQ29udGVudCIsInRlbXBsYXRlRWxlbWVudCIsImNvbnRlbnRFbGVtZW50IiwiZ2V0VGVtcGxhdGVDb250ZW50Iiwic2V0RG9jdW1lbnRUeXBlIiwiZG9jdW1lbnQiLCJkb2N0eXBlTm9kZSIsImZpbmQiLCJpc0RpcmVjdGl2ZSIsIlByb2Nlc3NpbmdJbnN0cnVjdGlvbiIsInVuZGVmaW5lZCIsInNldERvY3VtZW50TW9kZSIsIm1vZGUiLCJnZXREb2N1bWVudE1vZGUiLCJkZXRhY2hOb2RlIiwiaWR4IiwiaW5zZXJ0VGV4dCIsInRleHQiLCJsYXN0Q2hpbGQiLCJpbnNlcnRUZXh0QmVmb3JlIiwicHJldk5vZGUiLCJhZG9wdEF0dHJpYnV0ZXMiLCJyZWNpcGllbnQiLCJnZXRGaXJzdENoaWxkIiwiZ2V0Q2hpbGROb2RlcyIsImdldFBhcmVudE5vZGUiLCJnZXRBdHRyTGlzdCIsImVsZW1lbnQiLCJhdHRyaWJ1dGVzIiwiZ2V0VGFnTmFtZSIsImdldE5hbWVzcGFjZVVSSSIsImdldFRleHROb2RlQ29udGVudCIsInRleHROb2RlIiwiZ2V0Q29tbWVudE5vZGVDb250ZW50IiwiY29tbWVudE5vZGUiLCJnZXREb2N1bWVudFR5cGVOb2RlTmFtZSIsIl9hIiwiZ2V0RG9jdW1lbnRUeXBlTm9kZVB1YmxpY0lkIiwiZ2V0RG9jdW1lbnRUeXBlTm9kZVN5c3RlbUlkIiwiaXNEb2N1bWVudFR5cGVOb2RlIiwic2V0Tm9kZVNvdXJjZUNvZGVMb2NhdGlvbiIsImxvY2F0aW9uIiwic3RhcnRJbmRleCIsInN0YXJ0T2Zmc2V0IiwiZW5kSW5kZXgiLCJlbmRPZmZzZXQiLCJzb3VyY2VDb2RlTG9jYXRpb24iLCJnZXROb2RlU291cmNlQ29kZUxvY2F0aW9uIiwidXBkYXRlTm9kZVNvdXJjZUNvZGVMb2NhdGlvbiIsImVuZExvY2F0aW9uIiwiYXNzaWduIl0sInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmFkYXB0ZXIgPSBleHBvcnRzLnNlcmlhbGl6ZURvY3R5cGVDb250ZW50ID0gdm9pZCAwO1xuY29uc3QgcGFyc2U1XzEgPSByZXF1aXJlKFwicGFyc2U1XCIpO1xuY29uc3QgZG9taGFuZGxlcl8xID0gcmVxdWlyZShcImRvbWhhbmRsZXJcIik7XG5mdW5jdGlvbiBjcmVhdGVUZXh0Tm9kZSh2YWx1ZSkge1xuICAgIHJldHVybiBuZXcgZG9taGFuZGxlcl8xLlRleHQodmFsdWUpO1xufVxuZnVuY3Rpb24gZW5xdW90ZURvY3R5cGVJZChpZCkge1xuICAgIGNvbnN0IHF1b3RlID0gaWQuaW5jbHVkZXMoJ1wiJykgPyBcIidcIiA6ICdcIic7XG4gICAgcmV0dXJuIHF1b3RlICsgaWQgKyBxdW90ZTtcbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmZ1bmN0aW9uIHNlcmlhbGl6ZURvY3R5cGVDb250ZW50KG5hbWUsIHB1YmxpY0lkLCBzeXN0ZW1JZCkge1xuICAgIGxldCBzdHIgPSAnIURPQ1RZUEUgJztcbiAgICBpZiAobmFtZSkge1xuICAgICAgICBzdHIgKz0gbmFtZTtcbiAgICB9XG4gICAgaWYgKHB1YmxpY0lkKSB7XG4gICAgICAgIHN0ciArPSBgIFBVQkxJQyAke2VucXVvdGVEb2N0eXBlSWQocHVibGljSWQpfWA7XG4gICAgfVxuICAgIGVsc2UgaWYgKHN5c3RlbUlkKSB7XG4gICAgICAgIHN0ciArPSAnIFNZU1RFTSc7XG4gICAgfVxuICAgIGlmIChzeXN0ZW1JZCkge1xuICAgICAgICBzdHIgKz0gYCAke2VucXVvdGVEb2N0eXBlSWQoc3lzdGVtSWQpfWA7XG4gICAgfVxuICAgIHJldHVybiBzdHI7XG59XG5leHBvcnRzLnNlcmlhbGl6ZURvY3R5cGVDb250ZW50ID0gc2VyaWFsaXplRG9jdHlwZUNvbnRlbnQ7XG5leHBvcnRzLmFkYXB0ZXIgPSB7XG4gICAgLy8gUmUtZXhwb3J0cyBmcm9tIGRvbWhhbmRsZXJcbiAgICBpc0NvbW1lbnROb2RlOiBkb21oYW5kbGVyXzEuaXNDb21tZW50LFxuICAgIGlzRWxlbWVudE5vZGU6IGRvbWhhbmRsZXJfMS5pc1RhZyxcbiAgICBpc1RleHROb2RlOiBkb21oYW5kbGVyXzEuaXNUZXh0LFxuICAgIC8vTm9kZSBjb25zdHJ1Y3Rpb25cbiAgICBjcmVhdGVEb2N1bWVudCgpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IG5ldyBkb21oYW5kbGVyXzEuRG9jdW1lbnQoW10pO1xuICAgICAgICBub2RlWyd4LW1vZGUnXSA9IHBhcnNlNV8xLmh0bWwuRE9DVU1FTlRfTU9ERS5OT19RVUlSS1M7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH0sXG4gICAgY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBkb21oYW5kbGVyXzEuRG9jdW1lbnQoW10pO1xuICAgIH0sXG4gICAgY3JlYXRlRWxlbWVudCh0YWdOYW1lLCBuYW1lc3BhY2VVUkksIGF0dHJzKSB7XG4gICAgICAgIGNvbnN0IGF0dHJpYnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBjb25zdCBhdHRyaWJzTmFtZXNwYWNlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgY29uc3QgYXR0cmlic1ByZWZpeCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJOYW1lID0gYXR0cnNbaV0ubmFtZTtcbiAgICAgICAgICAgIGF0dHJpYnNbYXR0ck5hbWVdID0gYXR0cnNbaV0udmFsdWU7XG4gICAgICAgICAgICBhdHRyaWJzTmFtZXNwYWNlW2F0dHJOYW1lXSA9IGF0dHJzW2ldLm5hbWVzcGFjZTtcbiAgICAgICAgICAgIGF0dHJpYnNQcmVmaXhbYXR0ck5hbWVdID0gYXR0cnNbaV0ucHJlZml4O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5vZGUgPSBuZXcgZG9taGFuZGxlcl8xLkVsZW1lbnQodGFnTmFtZSwgYXR0cmlicywgW10pO1xuICAgICAgICBub2RlLm5hbWVzcGFjZSA9IG5hbWVzcGFjZVVSSTtcbiAgICAgICAgbm9kZVsneC1hdHRyaWJzTmFtZXNwYWNlJ10gPSBhdHRyaWJzTmFtZXNwYWNlO1xuICAgICAgICBub2RlWyd4LWF0dHJpYnNQcmVmaXgnXSA9IGF0dHJpYnNQcmVmaXg7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH0sXG4gICAgY3JlYXRlQ29tbWVudE5vZGUoZGF0YSkge1xuICAgICAgICByZXR1cm4gbmV3IGRvbWhhbmRsZXJfMS5Db21tZW50KGRhdGEpO1xuICAgIH0sXG4gICAgLy9UcmVlIG11dGF0aW9uXG4gICAgYXBwZW5kQ2hpbGQocGFyZW50Tm9kZSwgbmV3Tm9kZSkge1xuICAgICAgICBjb25zdCBwcmV2ID0gcGFyZW50Tm9kZS5jaGlsZHJlbltwYXJlbnROb2RlLmNoaWxkcmVuLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAocHJldikge1xuICAgICAgICAgICAgcHJldi5uZXh0ID0gbmV3Tm9kZTtcbiAgICAgICAgICAgIG5ld05vZGUucHJldiA9IHByZXY7XG4gICAgICAgIH1cbiAgICAgICAgcGFyZW50Tm9kZS5jaGlsZHJlbi5wdXNoKG5ld05vZGUpO1xuICAgICAgICBuZXdOb2RlLnBhcmVudCA9IHBhcmVudE5vZGU7XG4gICAgfSxcbiAgICBpbnNlcnRCZWZvcmUocGFyZW50Tm9kZSwgbmV3Tm9kZSwgcmVmZXJlbmNlTm9kZSkge1xuICAgICAgICBjb25zdCBpbnNlcnRpb25JZHggPSBwYXJlbnROb2RlLmNoaWxkcmVuLmluZGV4T2YocmVmZXJlbmNlTm9kZSk7XG4gICAgICAgIGNvbnN0IHsgcHJldiB9ID0gcmVmZXJlbmNlTm9kZTtcbiAgICAgICAgaWYgKHByZXYpIHtcbiAgICAgICAgICAgIHByZXYubmV4dCA9IG5ld05vZGU7XG4gICAgICAgICAgICBuZXdOb2RlLnByZXYgPSBwcmV2O1xuICAgICAgICB9XG4gICAgICAgIHJlZmVyZW5jZU5vZGUucHJldiA9IG5ld05vZGU7XG4gICAgICAgIG5ld05vZGUubmV4dCA9IHJlZmVyZW5jZU5vZGU7XG4gICAgICAgIHBhcmVudE5vZGUuY2hpbGRyZW4uc3BsaWNlKGluc2VydGlvbklkeCwgMCwgbmV3Tm9kZSk7XG4gICAgICAgIG5ld05vZGUucGFyZW50ID0gcGFyZW50Tm9kZTtcbiAgICB9LFxuICAgIHNldFRlbXBsYXRlQ29udGVudCh0ZW1wbGF0ZUVsZW1lbnQsIGNvbnRlbnRFbGVtZW50KSB7XG4gICAgICAgIGV4cG9ydHMuYWRhcHRlci5hcHBlbmRDaGlsZCh0ZW1wbGF0ZUVsZW1lbnQsIGNvbnRlbnRFbGVtZW50KTtcbiAgICB9LFxuICAgIGdldFRlbXBsYXRlQ29udGVudCh0ZW1wbGF0ZUVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlRWxlbWVudC5jaGlsZHJlblswXTtcbiAgICB9LFxuICAgIHNldERvY3VtZW50VHlwZShkb2N1bWVudCwgbmFtZSwgcHVibGljSWQsIHN5c3RlbUlkKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBzZXJpYWxpemVEb2N0eXBlQ29udGVudChuYW1lLCBwdWJsaWNJZCwgc3lzdGVtSWQpO1xuICAgICAgICBsZXQgZG9jdHlwZU5vZGUgPSBkb2N1bWVudC5jaGlsZHJlbi5maW5kKChub2RlKSA9PiAoMCwgZG9taGFuZGxlcl8xLmlzRGlyZWN0aXZlKShub2RlKSAmJiBub2RlLm5hbWUgPT09ICchZG9jdHlwZScpO1xuICAgICAgICBpZiAoZG9jdHlwZU5vZGUpIHtcbiAgICAgICAgICAgIGRvY3R5cGVOb2RlLmRhdGEgPSBkYXRhICE9PSBudWxsICYmIGRhdGEgIT09IHZvaWQgMCA/IGRhdGEgOiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZG9jdHlwZU5vZGUgPSBuZXcgZG9taGFuZGxlcl8xLlByb2Nlc3NpbmdJbnN0cnVjdGlvbignIWRvY3R5cGUnLCBkYXRhKTtcbiAgICAgICAgICAgIGV4cG9ydHMuYWRhcHRlci5hcHBlbmRDaGlsZChkb2N1bWVudCwgZG9jdHlwZU5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGRvY3R5cGVOb2RlWyd4LW5hbWUnXSA9IG5hbWUgIT09IG51bGwgJiYgbmFtZSAhPT0gdm9pZCAwID8gbmFtZSA6IHVuZGVmaW5lZDtcbiAgICAgICAgZG9jdHlwZU5vZGVbJ3gtcHVibGljSWQnXSA9IHB1YmxpY0lkICE9PSBudWxsICYmIHB1YmxpY0lkICE9PSB2b2lkIDAgPyBwdWJsaWNJZCA6IHVuZGVmaW5lZDtcbiAgICAgICAgZG9jdHlwZU5vZGVbJ3gtc3lzdGVtSWQnXSA9IHN5c3RlbUlkICE9PSBudWxsICYmIHN5c3RlbUlkICE9PSB2b2lkIDAgPyBzeXN0ZW1JZCA6IHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIHNldERvY3VtZW50TW9kZShkb2N1bWVudCwgbW9kZSkge1xuICAgICAgICBkb2N1bWVudFsneC1tb2RlJ10gPSBtb2RlO1xuICAgIH0sXG4gICAgZ2V0RG9jdW1lbnRNb2RlKGRvY3VtZW50KSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudFsneC1tb2RlJ107XG4gICAgfSxcbiAgICBkZXRhY2hOb2RlKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUucGFyZW50KSB7XG4gICAgICAgICAgICBjb25zdCBpZHggPSBub2RlLnBhcmVudC5jaGlsZHJlbi5pbmRleE9mKG5vZGUpO1xuICAgICAgICAgICAgY29uc3QgeyBwcmV2LCBuZXh0IH0gPSBub2RlO1xuICAgICAgICAgICAgbm9kZS5wcmV2ID0gbnVsbDtcbiAgICAgICAgICAgIG5vZGUubmV4dCA9IG51bGw7XG4gICAgICAgICAgICBpZiAocHJldikge1xuICAgICAgICAgICAgICAgIHByZXYubmV4dCA9IG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgICAgICAgIG5leHQucHJldiA9IHByZXY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlLnBhcmVudC5jaGlsZHJlbi5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgIG5vZGUucGFyZW50ID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgaW5zZXJ0VGV4dChwYXJlbnROb2RlLCB0ZXh0KSB7XG4gICAgICAgIGNvbnN0IGxhc3RDaGlsZCA9IHBhcmVudE5vZGUuY2hpbGRyZW5bcGFyZW50Tm9kZS5jaGlsZHJlbi5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKGxhc3RDaGlsZCAmJiAoMCwgZG9taGFuZGxlcl8xLmlzVGV4dCkobGFzdENoaWxkKSkge1xuICAgICAgICAgICAgbGFzdENoaWxkLmRhdGEgKz0gdGV4dDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGV4cG9ydHMuYWRhcHRlci5hcHBlbmRDaGlsZChwYXJlbnROb2RlLCBjcmVhdGVUZXh0Tm9kZSh0ZXh0KSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGluc2VydFRleHRCZWZvcmUocGFyZW50Tm9kZSwgdGV4dCwgcmVmZXJlbmNlTm9kZSkge1xuICAgICAgICBjb25zdCBwcmV2Tm9kZSA9IHBhcmVudE5vZGUuY2hpbGRyZW5bcGFyZW50Tm9kZS5jaGlsZHJlbi5pbmRleE9mKHJlZmVyZW5jZU5vZGUpIC0gMV07XG4gICAgICAgIGlmIChwcmV2Tm9kZSAmJiAoMCwgZG9taGFuZGxlcl8xLmlzVGV4dCkocHJldk5vZGUpKSB7XG4gICAgICAgICAgICBwcmV2Tm9kZS5kYXRhICs9IHRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBleHBvcnRzLmFkYXB0ZXIuaW5zZXJ0QmVmb3JlKHBhcmVudE5vZGUsIGNyZWF0ZVRleHROb2RlKHRleHQpLCByZWZlcmVuY2VOb2RlKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYWRvcHRBdHRyaWJ1dGVzKHJlY2lwaWVudCwgYXR0cnMpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhdHRycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgYXR0ck5hbWUgPSBhdHRyc1tpXS5uYW1lO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiByZWNpcGllbnQuYXR0cmlic1thdHRyTmFtZV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgcmVjaXBpZW50LmF0dHJpYnNbYXR0ck5hbWVdID0gYXR0cnNbaV0udmFsdWU7XG4gICAgICAgICAgICAgICAgcmVjaXBpZW50Wyd4LWF0dHJpYnNOYW1lc3BhY2UnXVthdHRyTmFtZV0gPSBhdHRyc1tpXS5uYW1lc3BhY2U7XG4gICAgICAgICAgICAgICAgcmVjaXBpZW50Wyd4LWF0dHJpYnNQcmVmaXgnXVthdHRyTmFtZV0gPSBhdHRyc1tpXS5wcmVmaXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIC8vVHJlZSB0cmF2ZXJzaW5nXG4gICAgZ2V0Rmlyc3RDaGlsZChub2RlKSB7XG4gICAgICAgIHJldHVybiBub2RlLmNoaWxkcmVuWzBdO1xuICAgIH0sXG4gICAgZ2V0Q2hpbGROb2Rlcyhub2RlKSB7XG4gICAgICAgIHJldHVybiBub2RlLmNoaWxkcmVuO1xuICAgIH0sXG4gICAgZ2V0UGFyZW50Tm9kZShub2RlKSB7XG4gICAgICAgIHJldHVybiBub2RlLnBhcmVudDtcbiAgICB9LFxuICAgIGdldEF0dHJMaXN0KGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQuYXR0cmlidXRlcztcbiAgICB9LFxuICAgIC8vTm9kZSBkYXRhXG4gICAgZ2V0VGFnTmFtZShlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50Lm5hbWU7XG4gICAgfSxcbiAgICBnZXROYW1lc3BhY2VVUkkoZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudC5uYW1lc3BhY2U7XG4gICAgfSxcbiAgICBnZXRUZXh0Tm9kZUNvbnRlbnQodGV4dE5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHRleHROb2RlLmRhdGE7XG4gICAgfSxcbiAgICBnZXRDb21tZW50Tm9kZUNvbnRlbnQoY29tbWVudE5vZGUpIHtcbiAgICAgICAgcmV0dXJuIGNvbW1lbnROb2RlLmRhdGE7XG4gICAgfSxcbiAgICBnZXREb2N1bWVudFR5cGVOb2RlTmFtZShkb2N0eXBlTm9kZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiAoX2EgPSBkb2N0eXBlTm9kZVsneC1uYW1lJ10pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICcnO1xuICAgIH0sXG4gICAgZ2V0RG9jdW1lbnRUeXBlTm9kZVB1YmxpY0lkKGRvY3R5cGVOb2RlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIChfYSA9IGRvY3R5cGVOb2RlWyd4LXB1YmxpY0lkJ10pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICcnO1xuICAgIH0sXG4gICAgZ2V0RG9jdW1lbnRUeXBlTm9kZVN5c3RlbUlkKGRvY3R5cGVOb2RlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIChfYSA9IGRvY3R5cGVOb2RlWyd4LXN5c3RlbUlkJ10pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICcnO1xuICAgIH0sXG4gICAgLy9Ob2RlIHR5cGVzXG4gICAgaXNEb2N1bWVudFR5cGVOb2RlKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuICgwLCBkb21oYW5kbGVyXzEuaXNEaXJlY3RpdmUpKG5vZGUpICYmIG5vZGUubmFtZSA9PT0gJyFkb2N0eXBlJztcbiAgICB9LFxuICAgIC8vIFNvdXJjZSBjb2RlIGxvY2F0aW9uXG4gICAgc2V0Tm9kZVNvdXJjZUNvZGVMb2NhdGlvbihub2RlLCBsb2NhdGlvbikge1xuICAgICAgICBpZiAobG9jYXRpb24pIHtcbiAgICAgICAgICAgIG5vZGUuc3RhcnRJbmRleCA9IGxvY2F0aW9uLnN0YXJ0T2Zmc2V0O1xuICAgICAgICAgICAgbm9kZS5lbmRJbmRleCA9IGxvY2F0aW9uLmVuZE9mZnNldDtcbiAgICAgICAgfVxuICAgICAgICBub2RlLnNvdXJjZUNvZGVMb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgIH0sXG4gICAgZ2V0Tm9kZVNvdXJjZUNvZGVMb2NhdGlvbihub2RlKSB7XG4gICAgICAgIHJldHVybiBub2RlLnNvdXJjZUNvZGVMb2NhdGlvbjtcbiAgICB9LFxuICAgIHVwZGF0ZU5vZGVTb3VyY2VDb2RlTG9jYXRpb24obm9kZSwgZW5kTG9jYXRpb24pIHtcbiAgICAgICAgaWYgKGVuZExvY2F0aW9uLmVuZE9mZnNldCAhPSBudWxsKVxuICAgICAgICAgICAgbm9kZS5lbmRJbmRleCA9IGVuZExvY2F0aW9uLmVuZE9mZnNldDtcbiAgICAgICAgbm9kZS5zb3VyY2VDb2RlTG9jYXRpb24gPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG5vZGUuc291cmNlQ29kZUxvY2F0aW9uKSwgZW5kTG9jYXRpb24pO1xuICAgIH0sXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUNaQSxNQUFNLENBQUNDLGNBQWMsQ0FBQ0MsT0FBTyxFQUFFLFlBQVksRUFBRTtFQUFFQyxLQUFLLEVBQUU7QUFBSyxDQUFDLENBQUM7QUFDN0RELE9BQU8sQ0FBQ0UsT0FBTyxHQUFHRixPQUFPLENBQUNHLHVCQUF1QixHQUFHLEtBQUssQ0FBQztBQUMxRCxNQUFNQyxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxRQUFRLENBQUM7QUFDbEMsTUFBTUMsWUFBWSxHQUFHRCxPQUFPLENBQUMsWUFBWSxDQUFDO0FBQzFDLFNBQVNFLGNBQWNBLENBQUNOLEtBQUssRUFBRTtFQUMzQixPQUFPLElBQUlLLFlBQVksQ0FBQ0UsSUFBSSxDQUFDUCxLQUFLLENBQUM7QUFDdkM7QUFDQSxTQUFTUSxnQkFBZ0JBLENBQUNDLEVBQUUsRUFBRTtFQUMxQixNQUFNQyxLQUFLLEdBQUdELEVBQUUsQ0FBQ0UsUUFBUSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHO0VBQzFDLE9BQU9ELEtBQUssR0FBR0QsRUFBRSxHQUFHQyxLQUFLO0FBQzdCO0FBQ0E7QUFDQSxTQUFTUix1QkFBdUJBLENBQUNVLElBQUksRUFBRUMsUUFBUSxFQUFFQyxRQUFRLEVBQUU7RUFDdkQs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