{"version":3,"names":["_react","_interopRequireDefault","require","_reactDom","_enzymeAdapterUtils","obj","__esModule","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_inherits","subClass","superClass","create","constructor","value","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","arguments","apply","_possibleConstructorReturn","self","call","_typeof","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","getFiber","element","container","global","document","createElement","inst","Tester","_React$Component","_super","render","Component","_reactInternalFiber","child","getLazyFiber","LazyComponent","_React$Component2","_super2","SuspenseWrapper","_React$Component3","_super3","Suspense","fallback","detectFiberTags","supportsMode","StrictMode","supportsContext","createContext","supportsForwardRef","forwardRef","supportsMemo","memo","supportsProfiler","unstable_Profiler","Profiler","supportsSuspense","supportsLazy","lazy","Fn","Cls","_React$Component4","_super4","Ctx","FwdRef","ref","fakeDynamicImport","HostRoot","tag","ClassComponent","Fragment","FunctionalComponent","MemoSFC","MemoClass","HostPortal","createPortal","HostComponent","HostText","Mode","ContextConsumer","Consumer","ContextProvider","Provider","ForwardRef","id","onRender","Lazy","module","exports","default"],"sources":["../src/detectFiberTags.js"],"sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { fakeDynamicImport } from 'enzyme-adapter-utils';\n\nfunction getFiber(element) {\n  const container = global.document.createElement('div');\n  let inst = null;\n  class Tester extends React.Component {\n    render() {\n      inst = this;\n      return element;\n    }\n  }\n  ReactDOM.render(React.createElement(Tester), container);\n  return inst._reactInternalFiber.child;\n}\n\nfunction getLazyFiber(LazyComponent) {\n  const container = global.document.createElement('div');\n  let inst = null;\n  // eslint-disable-next-line react/prefer-stateless-function\n  class Tester extends React.Component {\n    render() {\n      inst = this;\n      return React.createElement(LazyComponent);\n    }\n  }\n  // eslint-disable-next-line react/prefer-stateless-function\n  class SuspenseWrapper extends React.Component {\n    render() {\n      return React.createElement(\n        React.Suspense,\n        { fallback: false },\n        React.createElement(Tester),\n      );\n    }\n  }\n  ReactDOM.render(React.createElement(SuspenseWrapper), container);\n  return inst._reactInternalFiber.child;\n}\n\nexport default function detectFiberTags() {\n  const supportsMode = typeof React.StrictMode !== 'undefined';\n  const supportsContext = typeof React.createContext !== 'undefined';\n  const supportsForwardRef = typeof React.forwardRef !== 'undefined';\n  const supportsMemo = typeof React.memo !== 'undefined';\n  const supportsProfiler = typeof React.unstable_Profiler !== 'undefined' || typeof React.Profiler !== 'undefined';\n  const supportsSuspense = typeof React.Suspense !== 'undefined';\n  const supportsLazy = typeof React.lazy !== 'undefined';\n\n  function Fn() {\n    return null;\n  }\n  // eslint-disable-next-line react/prefer-stateless-function\n  class Cls extends React.Component {\n    render() {\n      return null;\n    }\n  }\n  let Ctx = null;\n  let FwdRef = null;\n  let LazyComponent = null;\n  if (supportsContext) {\n    Ctx = React.createContext();\n  }\n  if (supportsForwardRef) {\n    // React will warn if we don't have both arguments.\n    // eslint-disable-next-line no-unused-vars\n    FwdRef = React.forwardRef((props, ref) => null);\n  }\n  if (supportsLazy) {\n    LazyComponent = React.lazy(() => fakeDynamicImport(() => null));\n  }\n\n  return {\n    HostRoot: getFiber('test').return.return.tag, // Go two levels above to find the root\n    ClassComponent: getFiber(React.createElement(Cls)).tag,\n    Fragment: getFiber([['nested']]).tag,\n    FunctionalComponent: getFiber(React.createElement(Fn)).tag,\n    MemoSFC: supportsMemo\n      ? getFiber(React.createElement(React.memo(Fn))).tag\n      : -1,\n    MemoClass: supportsMemo\n      ? getFiber(React.createElement(React.memo(Cls))).tag\n      : -1,\n    HostPortal: getFiber(ReactDOM.createPortal(null, global.document.createElement('div'))).tag,\n    HostComponent: getFiber(React.createElement('span')).tag,\n    HostText: getFiber('text').tag,\n    Mode: supportsMode\n      ? getFiber(React.createElement(React.StrictMode)).tag\n      : -1,\n    ContextConsumer: supportsContext\n      ? getFiber(React.createElement(Ctx.Consumer, null, () => null)).tag\n      : -1,\n    ContextProvider: supportsContext\n      ? getFiber(React.createElement(Ctx.Provider, { value: null }, null)).tag\n      : -1,\n    ForwardRef: supportsForwardRef\n      ? getFiber(React.createElement(FwdRef)).tag\n      : -1,\n    Profiler: supportsProfiler\n      ? getFiber(React.createElement((React.Profiler || React.unstable_Profiler), { id: 'mock', onRender() {} })).tag\n      : -1,\n    Suspense: supportsSuspense\n      ? getFiber(React.createElement(React.Suspense, { fallback: false })).tag\n      : -1,\n    Lazy: supportsLazy\n      ? getLazyFiber(LazyComponent).tag\n      : -1,\n  };\n}\n"],"mappings":"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"}