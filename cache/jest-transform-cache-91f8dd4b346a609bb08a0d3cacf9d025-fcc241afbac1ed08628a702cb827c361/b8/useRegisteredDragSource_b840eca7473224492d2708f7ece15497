9742c99df51049424a6633793ab98d70
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useRegisteredDragSource = useRegisteredDragSource;
var _index = require("../../internals/index.js");
var _useDragDropManager = require("../useDragDropManager.js");
var _useIsomorphicLayoutEffect = require("../useIsomorphicLayoutEffect.js");
var _useDragSource = require("./useDragSource.js");
var _useDragType = require("./useDragType.js");
function useRegisteredDragSource(spec, monitor, connector) {
  const manager = (0, _useDragDropManager.useDragDropManager)();
  const handler = (0, _useDragSource.useDragSource)(spec, monitor, connector);
  const itemType = (0, _useDragType.useDragType)(spec);
  (0, _useIsomorphicLayoutEffect.useIsomorphicLayoutEffect)(function registerDragSource() {
    if (itemType != null) {
      const [handlerId, unregister] = (0, _index.registerSource)(itemType, handler, manager);
      monitor.receiveHandlerId(handlerId);
      connector.receiveHandlerId(handlerId);
      return unregister;
    }
    return;
  }, [manager, monitor, connector, handler, itemType]);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW5kZXgiLCJyZXF1aXJlIiwiX3VzZURyYWdEcm9wTWFuYWdlciIsIl91c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IiwiX3VzZURyYWdTb3VyY2UiLCJfdXNlRHJhZ1R5cGUiLCJ1c2VSZWdpc3RlcmVkRHJhZ1NvdXJjZSIsInNwZWMiLCJtb25pdG9yIiwiY29ubmVjdG9yIiwibWFuYWdlciIsInVzZURyYWdEcm9wTWFuYWdlciIsImhhbmRsZXIiLCJ1c2VEcmFnU291cmNlIiwiaXRlbVR5cGUiLCJ1c2VEcmFnVHlwZSIsInVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QiLCJyZWdpc3RlckRyYWdTb3VyY2UiLCJoYW5kbGVySWQiLCJ1bnJlZ2lzdGVyIiwicmVnaXN0ZXJTb3VyY2UiLCJyZWNlaXZlSGFuZGxlcklkIl0sInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2hvb2tzL3VzZURyYWcvdXNlUmVnaXN0ZXJlZERyYWdTb3VyY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBTb3VyY2VDb25uZWN0b3IgfSBmcm9tICcuLi8uLi9pbnRlcm5hbHMvaW5kZXguanMnXG5pbXBvcnQgeyByZWdpc3RlclNvdXJjZSB9IGZyb20gJy4uLy4uL2ludGVybmFscy9pbmRleC5qcydcbmltcG9ydCB0eXBlIHsgRHJhZ1NvdXJjZU1vbml0b3IgfSBmcm9tICcuLi8uLi90eXBlcy9pbmRleC5qcydcbmltcG9ydCB0eXBlIHsgRHJhZ1NvdXJjZUhvb2tTcGVjIH0gZnJvbSAnLi4vdHlwZXMuanMnXG5pbXBvcnQgeyB1c2VEcmFnRHJvcE1hbmFnZXIgfSBmcm9tICcuLi91c2VEcmFnRHJvcE1hbmFnZXIuanMnXG5pbXBvcnQgeyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IH0gZnJvbSAnLi4vdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdC5qcydcbmltcG9ydCB7IHVzZURyYWdTb3VyY2UgfSBmcm9tICcuL3VzZURyYWdTb3VyY2UuanMnXG5pbXBvcnQgeyB1c2VEcmFnVHlwZSB9IGZyb20gJy4vdXNlRHJhZ1R5cGUuanMnXG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VSZWdpc3RlcmVkRHJhZ1NvdXJjZTxPLCBSLCBQPihcblx0c3BlYzogRHJhZ1NvdXJjZUhvb2tTcGVjPE8sIFIsIFA+LFxuXHRtb25pdG9yOiBEcmFnU291cmNlTW9uaXRvcjxPLCBSPixcblx0Y29ubmVjdG9yOiBTb3VyY2VDb25uZWN0b3IsXG4pOiB2b2lkIHtcblx0Y29uc3QgbWFuYWdlciA9IHVzZURyYWdEcm9wTWFuYWdlcigpXG5cdGNvbnN0IGhhbmRsZXIgPSB1c2VEcmFnU291cmNlKHNwZWMsIG1vbml0b3IsIGNvbm5lY3Rvcilcblx0Y29uc3QgaXRlbVR5cGUgPSB1c2VEcmFnVHlwZShzcGVjKVxuXG5cdHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoXG5cdFx0ZnVuY3Rpb24gcmVnaXN0ZXJEcmFnU291cmNlKCkge1xuXHRcdFx0aWYgKGl0ZW1UeXBlICE9IG51bGwpIHtcblx0XHRcdFx0Y29uc3QgW2hhbmRsZXJJZCwgdW5yZWdpc3Rlcl0gPSByZWdpc3RlclNvdXJjZShcblx0XHRcdFx0XHRpdGVtVHlwZSxcblx0XHRcdFx0XHRoYW5kbGVyLFxuXHRcdFx0XHRcdG1hbmFnZXIsXG5cdFx0XHRcdClcblx0XHRcdFx0bW9uaXRvci5yZWNlaXZlSGFuZGxlcklkKGhhbmRsZXJJZClcblx0XHRcdFx0Y29ubmVjdG9yLnJlY2VpdmVIYW5kbGVySWQoaGFuZGxlcklkKVxuXHRcdFx0XHRyZXR1cm4gdW5yZWdpc3RlclxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuXG5cdFx0fSxcblx0XHRbbWFuYWdlciwgbW9uaXRvciwgY29ubmVjdG9yLCBoYW5kbGVyLCBpdGVtVHlwZV0sXG5cdClcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0EsSUFBQUEsTUFBQSxHQUFBQyxPQUFBO0FBR0EsSUFBQUMsbUJBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLDBCQUFBLEdBQUFGLE9BQUE7QUFDQSxJQUFBRyxjQUFBLEdBQUFILE9BQUE7QUFDQSxJQUFBSSxZQUFBLEdBQUFKLE9BQUE7QUFFTyxTQUFTSyx1QkFBdUJBLENBQ3RDQyxJQUFpQyxFQUNqQ0MsT0FBZ0MsRUFDaENDLFNBQTBCLEVBQ25CO0VBQ1AsTUFBTUMsT0FBTyxHQUFHLElBQUFDLHNDQUFrQixHQUFFO0VBQ3BDLE1BQU1DLE9BQU8sR0FBRyxJQUFBQyw0QkFBYSxFQUFDTixJQUFJLEVBQUVDLE9BQU8sRUFBRUMsU0FBUyxDQUFDO0VBQ3ZELE1BQU1LLFFBQVEsR0FBRyxJQUFBQyx3QkFBVyxFQUFDUixJQUFJLENBQUM7RUFFbEMsSUFBQVMsb0RBQXlCLEVBQ3hCLFNBQVNDLGtCQUFrQkEsQ0FBQSxFQUFHO0lBQzdCLElBQUlILFFBQVEsSUFBSSxJQUFJLEVBQUU7TUFDckIsTUFBTSxDQUFDSSxTQUFTLEVBQUVDLFVBQVUsQ0FBQyxHQUFHLElBQUFDLHFCQUFjLEVBQzdDTixRQUFRLEVBQ1JGLE9BQU8sRUFDUEYsT0FBTyxDQUNQO01BQ0RGLE9BQU8sQ0FBQ2EsZ0JBQWdCLENBQUNILFNBQVMsQ0FBQztNQUNuQ1QsU0FBUyxDQUFDWSxnQkFBZ0IsQ0FBQ0gsU0FBUyxDQUFDO01BQ3JDLE9BQU9DLFVBQVU7O0lBRWxCO0dBQ0EsRUFDRCxDQUFDVCxPQUFPLEVBQUVGLE9BQU8sRUFBRUMsU0FBUyxFQUFFRyxPQUFPLEVBQUVFLFFBQVEsQ0FBQyxDQUNoRCJ9