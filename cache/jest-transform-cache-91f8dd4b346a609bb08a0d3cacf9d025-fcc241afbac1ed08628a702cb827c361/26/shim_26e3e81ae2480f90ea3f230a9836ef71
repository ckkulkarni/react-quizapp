bfdaa96cbd134810642f07151529146d
'use strict';

var supportsDescriptors = require('define-properties').supportsDescriptors;
var functionsHaveNames = require('functions-have-names')();
var getPolyfill = require('./polyfill');
var defineProperty = Object.defineProperty;
var TypeErr = TypeError;
module.exports = function shimName() {
  var polyfill = getPolyfill();
  if (functionsHaveNames) {
    return polyfill;
  }
  if (!supportsDescriptors) {
    throw new TypeErr('Shimming Function.prototype.name support requires ES5 property descriptor support.');
  }
  var functionProto = Function.prototype;
  defineProperty(functionProto, 'name', {
    configurable: true,
    enumerable: false,
    get: function () {
      var name = polyfill.call(this);
      if (this !== functionProto) {
        defineProperty(this, 'name', {
          configurable: true,
          enumerable: false,
          value: name,
          writable: false
        });
      }
      return name;
    }
  });
  return polyfill;
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzdXBwb3J0c0Rlc2NyaXB0b3JzIiwicmVxdWlyZSIsImZ1bmN0aW9uc0hhdmVOYW1lcyIsImdldFBvbHlmaWxsIiwiZGVmaW5lUHJvcGVydHkiLCJPYmplY3QiLCJUeXBlRXJyIiwiVHlwZUVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyIsInNoaW1OYW1lIiwicG9seWZpbGwiLCJmdW5jdGlvblByb3RvIiwiRnVuY3Rpb24iLCJwcm90b3R5cGUiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwibmFtZSIsImNhbGwiLCJ2YWx1ZSIsIndyaXRhYmxlIl0sInNvdXJjZXMiOlsic2hpbS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBzdXBwb3J0c0Rlc2NyaXB0b3JzID0gcmVxdWlyZSgnZGVmaW5lLXByb3BlcnRpZXMnKS5zdXBwb3J0c0Rlc2NyaXB0b3JzO1xudmFyIGZ1bmN0aW9uc0hhdmVOYW1lcyA9IHJlcXVpcmUoJ2Z1bmN0aW9ucy1oYXZlLW5hbWVzJykoKTtcbnZhciBnZXRQb2x5ZmlsbCA9IHJlcXVpcmUoJy4vcG9seWZpbGwnKTtcbnZhciBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBUeXBlRXJyID0gVHlwZUVycm9yO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNoaW1OYW1lKCkge1xuXHR2YXIgcG9seWZpbGwgPSBnZXRQb2x5ZmlsbCgpO1xuXHRpZiAoZnVuY3Rpb25zSGF2ZU5hbWVzKSB7XG5cdFx0cmV0dXJuIHBvbHlmaWxsO1xuXHR9XG5cdGlmICghc3VwcG9ydHNEZXNjcmlwdG9ycykge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyKCdTaGltbWluZyBGdW5jdGlvbi5wcm90b3R5cGUubmFtZSBzdXBwb3J0IHJlcXVpcmVzIEVTNSBwcm9wZXJ0eSBkZXNjcmlwdG9yIHN1cHBvcnQuJyk7XG5cdH1cblx0dmFyIGZ1bmN0aW9uUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGU7XG5cdGRlZmluZVByb3BlcnR5KGZ1bmN0aW9uUHJvdG8sICduYW1lJywge1xuXHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0XHRnZXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciBuYW1lID0gcG9seWZpbGwuY2FsbCh0aGlzKTtcblx0XHRcdGlmICh0aGlzICE9PSBmdW5jdGlvblByb3RvKSB7XG5cdFx0XHRcdGRlZmluZVByb3BlcnR5KHRoaXMsICduYW1lJywge1xuXHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0XHRcdFx0XHR2YWx1ZTogbmFtZSxcblx0XHRcdFx0XHR3cml0YWJsZTogZmFsc2Vcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbmFtZTtcblx0XHR9XG5cdH0pO1xuXHRyZXR1cm4gcG9seWZpbGw7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUVaLElBQUlBLG1CQUFtQixHQUFHQyxPQUFPLENBQUMsbUJBQW1CLENBQUMsQ0FBQ0QsbUJBQW1CO0FBQzFFLElBQUlFLGtCQUFrQixHQUFHRCxPQUFPLENBQUMsc0JBQXNCLENBQUMsRUFBRTtBQUMxRCxJQUFJRSxXQUFXLEdBQUdGLE9BQU8sQ0FBQyxZQUFZLENBQUM7QUFDdkMsSUFBSUcsY0FBYyxHQUFHQyxNQUFNLENBQUNELGNBQWM7QUFDMUMsSUFBSUUsT0FBTyxHQUFHQyxTQUFTO0FBRXZCQyxNQUFNLENBQUNDLE9BQU8sR0FBRyxTQUFTQyxRQUFRQSxDQUFBLEVBQUc7RUFDcEMsSUFBSUMsUUFBUSxHQUFHUixXQUFXLEVBQUU7RUFDNUIsSUFBSUQsa0JBQWtCLEVBQUU7SUFDdkIsT0FBT1MsUUFBUTtFQUNoQjtFQUNBLElBQUksQ0FBQ1gsbUJBQW1CLEVBQUU7SUFDekIsTUFBTSxJQUFJTSxPQUFPLENBQUMsb0ZBQW9GLENBQUM7RUFDeEc7RUFDQSxJQUFJTSxhQUFhLEdBQUdDLFFBQVEsQ0FBQ0MsU0FBUztFQUN0Q1YsY0FBYyxDQUFDUSxhQUFhLEVBQUUsTUFBTSxFQUFFO0lBQ3JDRyxZQUFZLEVBQUUsSUFBSTtJQUNsQkMsVUFBVSxFQUFFLEtBQUs7SUFDakJDLEdBQUcsRUFBRSxTQUFBQSxDQUFBLEVBQVk7TUFDaEIsSUFBSUMsSUFBSSxHQUFHUCxRQUFRLENBQUNRLElBQUksQ0FBQyxJQUFJLENBQUM7TUFDOUIsSUFBSSxJQUFJLEtBQUtQLGFBQWEsRUFBRTtRQUMzQlIsY0FBYyxDQUFDLElBQUksRUFBRSxNQUFNLEVBQUU7VUFDNUJXLFlBQVksRUFBRSxJQUFJO1VBQ2xCQyxVQUFVLEVBQUUsS0FBSztVQUNqQkksS0FBSyxFQUFFRixJQUFJO1VBQ1hHLFFBQVEsRUFBRTtRQUNYLENBQUMsQ0FBQztNQUNIO01BQ0EsT0FBT0gsSUFBSTtJQUNaO0VBQ0QsQ0FBQyxDQUFDO0VBQ0YsT0FBT1AsUUFBUTtBQUNoQixDQUFDIn0=