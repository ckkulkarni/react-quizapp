9ef063a5824f0d9bbb383dbc86f02394
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getActiveElement = getActiveElement;
var _isDisabled = require("../misc/isDisabled");
function getActiveElement(document) {
  const activeElement = document.activeElement;
  if (activeElement != null && activeElement.shadowRoot) {
    return getActiveElement(activeElement.shadowRoot);
  } else {
    // Browser does not yield disabled elements as document.activeElement - jsdom does
    if ((0, _isDisabled.isDisabled)(activeElement)) {
      return document.ownerDocument ?
      // TODO: verify behavior in ShadowRoot

      /* istanbul ignore next */
      document.ownerDocument.body : document.body;
    }
    return activeElement;
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImdldEFjdGl2ZUVsZW1lbnQiLCJfaXNEaXNhYmxlZCIsInJlcXVpcmUiLCJkb2N1bWVudCIsImFjdGl2ZUVsZW1lbnQiLCJzaGFkb3dSb290IiwiaXNEaXNhYmxlZCIsIm93bmVyRG9jdW1lbnQiLCJib2R5Il0sInNvdXJjZXMiOlsiZ2V0QWN0aXZlRWxlbWVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZ2V0QWN0aXZlRWxlbWVudCA9IGdldEFjdGl2ZUVsZW1lbnQ7XG5cbnZhciBfaXNEaXNhYmxlZCA9IHJlcXVpcmUoXCIuLi9taXNjL2lzRGlzYWJsZWRcIik7XG5cbmZ1bmN0aW9uIGdldEFjdGl2ZUVsZW1lbnQoZG9jdW1lbnQpIHtcbiAgY29uc3QgYWN0aXZlRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cbiAgaWYgKGFjdGl2ZUVsZW1lbnQgIT0gbnVsbCAmJiBhY3RpdmVFbGVtZW50LnNoYWRvd1Jvb3QpIHtcbiAgICByZXR1cm4gZ2V0QWN0aXZlRWxlbWVudChhY3RpdmVFbGVtZW50LnNoYWRvd1Jvb3QpO1xuICB9IGVsc2Uge1xuICAgIC8vIEJyb3dzZXIgZG9lcyBub3QgeWllbGQgZGlzYWJsZWQgZWxlbWVudHMgYXMgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAtIGpzZG9tIGRvZXNcbiAgICBpZiAoKDAsIF9pc0Rpc2FibGVkLmlzRGlzYWJsZWQpKGFjdGl2ZUVsZW1lbnQpKSB7XG4gICAgICByZXR1cm4gZG9jdW1lbnQub3duZXJEb2N1bWVudCA/IC8vIFRPRE86IHZlcmlmeSBiZWhhdmlvciBpbiBTaGFkb3dSb290XG5cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICBkb2N1bWVudC5vd25lckRvY3VtZW50LmJvZHkgOiBkb2N1bWVudC5ib2R5O1xuICAgIH1cblxuICAgIHJldHVybiBhY3RpdmVFbGVtZW50O1xuICB9XG59Il0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUVaQSxNQUFNLENBQUNDLGNBQWMsQ0FBQ0MsT0FBTyxFQUFFLFlBQVksRUFBRTtFQUMzQ0MsS0FBSyxFQUFFO0FBQ1QsQ0FBQyxDQUFDO0FBQ0ZELE9BQU8sQ0FBQ0UsZ0JBQWdCLEdBQUdBLGdCQUFnQjtBQUUzQyxJQUFJQyxXQUFXLEdBQUdDLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQztBQUUvQyxTQUFTRixnQkFBZ0JBLENBQUNHLFFBQVEsRUFBRTtFQUNsQyxNQUFNQyxhQUFhLEdBQUdELFFBQVEsQ0FBQ0MsYUFBYTtFQUU1QyxJQUFJQSxhQUFhLElBQUksSUFBSSxJQUFJQSxhQUFhLENBQUNDLFVBQVUsRUFBRTtJQUNyRCxPQUFPTCxnQkFBZ0IsQ0FBQ0ksYUFBYSxDQUFDQyxVQUFVLENBQUM7RUFDbkQsQ0FBQyxNQUFNO0lBQ0w7SUFDQSxJQUFJLENBQUMsQ0FBQyxFQUFFSixXQUFXLENBQUNLLFVBQVUsRUFBRUYsYUFBYSxDQUFDLEVBQUU7TUFDOUMsT0FBT0QsUUFBUSxDQUFDSSxhQUFhO01BQUc7O01BRWhDO01BQ0FKLFFBQVEsQ0FBQ0ksYUFBYSxDQUFDQyxJQUFJLEdBQUdMLFFBQVEsQ0FBQ0ssSUFBSTtJQUM3QztJQUVBLE9BQU9KLGFBQWE7RUFDdEI7QUFDRiJ9