{"version":3,"names":["Object","defineProperty","exports","value","default","_ImageBitmap","_interopRequireDefault","require","obj","__esModule","_default","jest","fn","createImageBitmap","img","sx","sy","sWidth","sHeight","options","length","arguments","Promise","resolve","reject","TypeError","validImage","HTMLImageElement","HTMLVideoElement","HTMLCanvasElement","Blob","constructor","name","ImageData","index","Number","isFinite","RangeError","Math","abs","width","height"],"sources":["createImageBitmap.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _ImageBitmap = _interopRequireDefault(require(\"../classes/ImageBitmap\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = jest.fn(function createImageBitmap(img, sx, sy, sWidth, sHeight, options) {\n  var length = arguments.length;\n  return new Promise((resolve, reject) => {\n    if (length === 0) return reject(new TypeError(\"Failed to execute 'createImageBitmap' on 'Window': 1 argument required, but only 0 present.\"));\n    if (length === 3 || length === 4) return reject(new TypeError(\"Failed to execute 'createImageBitmap' on 'Window': Valid arities are: [1, 2, 5, 6], but \" + length + ' arguments provided.'));\n    let validImage = false;\n    if (img instanceof HTMLImageElement) validImage = true;\n    if (img instanceof HTMLVideoElement) validImage = true;\n    if (img instanceof HTMLCanvasElement) validImage = true;\n    // checking constructor name is the only reliable way to verify the object's constructing class is \"blob-like\"\n    if (img instanceof Blob || img && img.constructor && img.constructor.name === 'Blob') validImage = true;\n    if (img instanceof _ImageBitmap.default) validImage = true;\n    if (img instanceof ImageData) validImage = true;\n    if (!validImage) return reject(new TypeError(\"Failed to execute 'createImageBitmap' on 'Window': The provided value is not of type '(HTMLImageElement or SVGImageElement or HTMLVideoElement or HTMLCanvasElement or Blob or ImageData or ImageBitmap or OffscreenCanvas)'\"));\n    if (length >= 2) {\n      let index = 6;\n      if (length === 2) {\n        index = 2;\n        options = sx;\n      }\n      if (length === 5) options = null;\n      if (options !== null && options !== void 0) {\n        if (typeof options !== 'object') throw new TypeError(\"Failed to execute 'createImageBitmap' on 'Window': parameter \" + index + \" ('options') is not an object.\");\n      }\n    }\n    if (length >= 5) {\n      sWidth = Number(sWidth);\n      sHeight = Number(sHeight);\n      if (sWidth === 0 || !Number.isFinite(sWidth)) return reject(new RangeError('The crop rect width is 0.'));\n      if (sHeight === 0 || !Number.isFinite(sHeight)) return reject(new RangeError('The crop rect height is 0.'));\n      sWidth = Math.abs(sWidth);\n      sHeight = Math.abs(sHeight);\n    } else {\n      sWidth = img.width || 1;\n      sHeight = img.height || 1;\n    }\n    return resolve(new _ImageBitmap.default(sWidth, sHeight));\n  });\n});\nexports.default = _default;"],"mappings":"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"}