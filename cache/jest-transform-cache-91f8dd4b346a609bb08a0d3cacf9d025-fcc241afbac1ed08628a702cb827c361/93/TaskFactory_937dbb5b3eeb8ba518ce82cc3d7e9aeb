4c4b5d0c3e9dc862f8cb3055562e6f3a
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.TaskFactory = void 0;
var _RawTask = require("./RawTask.js");
class TaskFactory {
  create(task) {
    const tasks = this.freeTasks;
    const t1 = tasks.length ? tasks.pop() : new _RawTask.RawTask(this.onError, t => tasks[tasks.length] = t);
    t1.task = task;
    return t1;
  }
  constructor(onError) {
    this.onError = onError;
    this.freeTasks = [];
  }
}
exports.TaskFactory = TaskFactory;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfUmF3VGFzayIsInJlcXVpcmUiLCJUYXNrRmFjdG9yeSIsImNyZWF0ZSIsInRhc2siLCJ0YXNrcyIsImZyZWVUYXNrcyIsInQxIiwibGVuZ3RoIiwicG9wIiwiUmF3VGFzayIsIm9uRXJyb3IiLCJ0IiwiY29uc3RydWN0b3IiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiLi4vc3JjL1Rhc2tGYWN0b3J5LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJhd1Rhc2sgfSBmcm9tICcuL1Jhd1Rhc2suanMnXG5pbXBvcnQgdHlwZSB7IFRhc2sgfSBmcm9tICcuL3R5cGVzLmpzJ1xuXG5leHBvcnQgY2xhc3MgVGFza0ZhY3Rvcnkge1xuXHRwcml2YXRlIGZyZWVUYXNrczogUmF3VGFza1tdID0gW11cblxuXHRwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSBvbkVycm9yOiAoZXJyOiBhbnkpID0+IHZvaWQpIHt9XG5cblx0cHVibGljIGNyZWF0ZSh0YXNrOiAoKSA9PiB2b2lkKTogVGFzayB7XG5cdFx0Y29uc3QgdGFza3MgPSB0aGlzLmZyZWVUYXNrc1xuXHRcdGNvbnN0IHQgPSB0YXNrcy5sZW5ndGhcblx0XHRcdD8gKHRhc2tzLnBvcCgpIGFzIFJhd1Rhc2spXG5cdFx0XHQ6IG5ldyBSYXdUYXNrKHRoaXMub25FcnJvciwgKHQpID0+ICh0YXNrc1t0YXNrcy5sZW5ndGhdID0gdCkpXG5cdFx0dC50YXNrID0gdGFza1xuXHRcdHJldHVybiB0XG5cdH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxPQUFBO0FBR08sTUFBTUMsV0FBVztFQUt2QkMsTUFBYUEsQ0FBQ0MsSUFBZ0IsRUFBUTtJQUNyQyxNQUFNQyxLQUFLLEdBQUcsSUFBSSxDQUFDQyxTQUFTO0lBQzVCLE1BQU1DLEVBQUMsR0FBR0YsS0FBSyxDQUFDRyxNQUFNLEdBQ2xCSCxLQUFLLENBQUNJLEdBQUcsRUFBRSxHQUNaLElBQUlDLGdCQUFPLENBQUMsSUFBSSxDQUFDQyxPQUFPLEVBQUdDLENBQUMsSUFBTVAsS0FBSyxDQUFDQSxLQUFLLENBQUNHLE1BQU0sQ0FBQyxHQUFHSSxDQUFDLENBQUU7SUFDOURMLEVBQUMsQ0FBQ0gsSUFBSSxHQUFHQSxJQUFJO0lBQ2IsT0FBT0csRUFBQzs7RUFSVE0sWUFBMkJGLE9BQTJCLEVBQUU7U0FBN0JBLE9BQTJCLEdBQTNCQSxPQUEyQjtTQUY5Q0wsU0FBUyxHQUFjLEVBQUU7OztBQVlqQ1EsT0FBQSxDQUFBWixXQUFBLEdBQUFBLFdBQUEifQ==