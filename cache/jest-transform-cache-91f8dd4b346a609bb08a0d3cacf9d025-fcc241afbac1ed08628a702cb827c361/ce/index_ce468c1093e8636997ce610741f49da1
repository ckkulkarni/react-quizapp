5d9044930cf46be0dc0d9e43e11bd195
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createNativeDragSource = createNativeDragSource;
exports.matchNativeItemType = matchNativeItemType;
var _NativeDragSource = require("./NativeDragSource.js");
var _nativeTypesConfig = require("./nativeTypesConfig.js");
function createNativeDragSource(type, dataTransfer) {
  const config = _nativeTypesConfig.nativeTypesConfig[type];
  if (!config) {
    throw new Error(`native type ${type} has no configuration`);
  }
  const result = new _NativeDragSource.NativeDragSource(config);
  result.loadDataTransfer(dataTransfer);
  return result;
}
function matchNativeItemType(dataTransfer) {
  if (!dataTransfer) {
    return null;
  }
  const dataTransferTypes = Array.prototype.slice.call(dataTransfer.types || []);
  return Object.keys(_nativeTypesConfig.nativeTypesConfig).filter(nativeItemType => {
    const typeConfig = _nativeTypesConfig.nativeTypesConfig[nativeItemType];
    if (!(typeConfig === null || typeConfig === void 0 ? void 0 : typeConfig.matchesTypes)) {
      return false;
    }
    return typeConfig.matchesTypes.some(t => dataTransferTypes.indexOf(t) > -1);
  })[0] || null;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfTmF0aXZlRHJhZ1NvdXJjZSIsInJlcXVpcmUiLCJfbmF0aXZlVHlwZXNDb25maWciLCJjcmVhdGVOYXRpdmVEcmFnU291cmNlIiwidHlwZSIsImRhdGFUcmFuc2ZlciIsImNvbmZpZyIsIm5hdGl2ZVR5cGVzQ29uZmlnIiwiRXJyb3IiLCJyZXN1bHQiLCJOYXRpdmVEcmFnU291cmNlIiwibG9hZERhdGFUcmFuc2ZlciIsIm1hdGNoTmF0aXZlSXRlbVR5cGUiLCJkYXRhVHJhbnNmZXJUeXBlcyIsIkFycmF5IiwicHJvdG90eXBlIiwic2xpY2UiLCJjYWxsIiwidHlwZXMiLCJPYmplY3QiLCJrZXlzIiwiZmlsdGVyIiwibmF0aXZlSXRlbVR5cGUiLCJ0eXBlQ29uZmlnIiwibWF0Y2hlc1R5cGVzIiwic29tZSIsInQiLCJpbmRleE9mIl0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL05hdGl2ZURyYWdTb3VyY2VzL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5hdGl2ZURyYWdTb3VyY2UgfSBmcm9tICcuL05hdGl2ZURyYWdTb3VyY2UuanMnXG5pbXBvcnQgeyBuYXRpdmVUeXBlc0NvbmZpZyB9IGZyb20gJy4vbmF0aXZlVHlwZXNDb25maWcuanMnXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVOYXRpdmVEcmFnU291cmNlKFxuXHR0eXBlOiBzdHJpbmcsXG5cdGRhdGFUcmFuc2Zlcj86IERhdGFUcmFuc2Zlcixcbik6IE5hdGl2ZURyYWdTb3VyY2Uge1xuXHRjb25zdCBjb25maWcgPSBuYXRpdmVUeXBlc0NvbmZpZ1t0eXBlXVxuXHRpZiAoIWNvbmZpZykge1xuXHRcdHRocm93IG5ldyBFcnJvcihgbmF0aXZlIHR5cGUgJHt0eXBlfSBoYXMgbm8gY29uZmlndXJhdGlvbmApXG5cdH1cblx0Y29uc3QgcmVzdWx0ID0gbmV3IE5hdGl2ZURyYWdTb3VyY2UoY29uZmlnKVxuXHRyZXN1bHQubG9hZERhdGFUcmFuc2ZlcihkYXRhVHJhbnNmZXIpXG5cdHJldHVybiByZXN1bHRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hdGNoTmF0aXZlSXRlbVR5cGUoXG5cdGRhdGFUcmFuc2ZlcjogRGF0YVRyYW5zZmVyIHwgbnVsbCxcbik6IHN0cmluZyB8IG51bGwge1xuXHRpZiAoIWRhdGFUcmFuc2Zlcikge1xuXHRcdHJldHVybiBudWxsXG5cdH1cblxuXHRjb25zdCBkYXRhVHJhbnNmZXJUeXBlcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRhdGFUcmFuc2Zlci50eXBlcyB8fCBbXSlcblx0cmV0dXJuIChcblx0XHRPYmplY3Qua2V5cyhuYXRpdmVUeXBlc0NvbmZpZykuZmlsdGVyKChuYXRpdmVJdGVtVHlwZSkgPT4ge1xuXHRcdFx0Y29uc3QgdHlwZUNvbmZpZyA9IG5hdGl2ZVR5cGVzQ29uZmlnW25hdGl2ZUl0ZW1UeXBlXVxuXHRcdFx0aWYgKCF0eXBlQ29uZmlnPy5tYXRjaGVzVHlwZXMpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdHlwZUNvbmZpZy5tYXRjaGVzVHlwZXMuc29tZShcblx0XHRcdFx0KHQpID0+IGRhdGFUcmFuc2ZlclR5cGVzLmluZGV4T2YodCkgPiAtMSxcblx0XHRcdClcblx0XHR9KVswXSB8fCBudWxsXG5cdClcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLElBQUFBLGlCQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxrQkFBQSxHQUFBRCxPQUFBO0FBRU8sU0FBU0Usc0JBQXNCQSxDQUNyQ0MsSUFBWSxFQUNaQyxZQUEyQixFQUNSO0VBQ25CLE1BQU1DLE1BQU0sR0FBR0Msb0NBQWlCLENBQUNILElBQUksQ0FBQztFQUN0QyxJQUFJLENBQUNFLE1BQU0sRUFBRTtJQUNaLE1BQU0sSUFBSUUsS0FBSyxDQUFFLGVBQWNKLElBQUssdUJBQXNCLENBQUM7O0VBRTVELE1BQU1LLE1BQU0sR0FBRyxJQUFJQyxrQ0FBZ0IsQ0FBQ0osTUFBTSxDQUFDO0VBQzNDRyxNQUFNLENBQUNFLGdCQUFnQixDQUFDTixZQUFZLENBQUM7RUFDckMsT0FBT0ksTUFBTTs7QUFHUCxTQUFTRyxtQkFBbUJBLENBQ2xDUCxZQUFpQyxFQUNqQjtFQUNoQixJQUFJLENBQUNBLFlBQVksRUFBRTtJQUNsQixPQUFPLElBQUk7O0VBR1osTUFBTVEsaUJBQWlCLEdBQUdDLEtBQUssQ0FBQ0MsU0FBUyxDQUFDQyxLQUFLLENBQUNDLElBQUksQ0FBQ1osWUFBWSxDQUFDYSxLQUFLLElBQUksRUFBRSxDQUFDO0VBQzlFLE9BQ0NDLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDYixvQ0FBaUIsQ0FBQyxDQUFDYyxNQUFNLENBQUVDLGNBQWMsSUFBSztJQUN6RCxNQUFNQyxVQUFVLEdBQUdoQixvQ0FBaUIsQ0FBQ2UsY0FBYyxDQUFDO0lBQ3BELElBQUksRUFBQ0MsVUFBVSxhQUFWQSxVQUFVLFdBQWMsR0FBeEIsTUFBd0IsR0FBeEJBLFVBQVUsQ0FBRUMsWUFBWSxHQUFFO01BQzlCLE9BQU8sS0FBSzs7SUFFYixPQUFPRCxVQUFVLENBQUNDLFlBQVksQ0FBQ0MsSUFBSSxDQUNqQ0MsQ0FBQyxJQUFLYixpQkFBaUIsQ0FBQ2MsT0FBTyxDQUFDRCxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FDeEM7R0FDRCxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSJ9