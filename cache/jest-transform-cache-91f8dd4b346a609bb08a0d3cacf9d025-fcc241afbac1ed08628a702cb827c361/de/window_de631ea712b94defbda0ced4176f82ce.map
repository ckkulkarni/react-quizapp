{"version":3,"names":["Object","defineProperty","exports","value","default","_Path2D","_interopRequireDefault","require","_CanvasGradient","_CanvasPattern","_CanvasRenderingContext2D","_DOMMatrix","_ImageData","_TextMetrics","_ImageBitmap","_prototype","_createImageBitmap","obj","__esModule","_default","win","d","document","f","createElement","Path2D","CanvasGradient","CanvasPattern","CanvasRenderingContext2D","DOMMatrix","ImageData","TextMetrics","ImageBitmap","createImageBitmap"],"sources":["window.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _Path2D = _interopRequireDefault(require(\"./classes/Path2D\"));\nvar _CanvasGradient = _interopRequireDefault(require(\"./classes/CanvasGradient\"));\nvar _CanvasPattern = _interopRequireDefault(require(\"./classes/CanvasPattern\"));\nvar _CanvasRenderingContext2D = _interopRequireDefault(require(\"./classes/CanvasRenderingContext2D\"));\nvar _DOMMatrix = _interopRequireDefault(require(\"./classes/DOMMatrix\"));\nvar _ImageData = _interopRequireDefault(require(\"./classes/ImageData\"));\nvar _TextMetrics = _interopRequireDefault(require(\"./classes/TextMetrics\"));\nvar _ImageBitmap = _interopRequireDefault(require(\"./classes/ImageBitmap\"));\nvar _prototype = _interopRequireDefault(require(\"./mock/prototype\"));\nvar _createImageBitmap = _interopRequireDefault(require(\"./mock/createImageBitmap\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n/**\n * Created by hustcc 17/12/25.\n * Contract: i@hust.cc\n */\nvar _default = win => {\n  const d = win.document;\n  const f = win.document.createElement;\n\n  // jsdom@11.6.2 || jest@^22.0.0, console.error in Function getContext();\n  // https://github.com/jsdom/jsdom/blob/4c7698f760fc64f20b2a0ddff450eddbdd193176/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js#L55-L58\n  // console.error will make ci error.\n  // try {\n  //   // get the context 2d.\n  //   const ctx = d.createElement('canvas').getContext('2d');\n  //\n  //   // if canvas and context2d all exist, means mock is not needed.\n  //   if (ctx) {\n  //     console.warn('Context 2d of canvas is exist! No need to mock');\n  //     return win;\n  //   }\n  // } catch (_) {\n  //   // catch the throw `Error: Not implemented: HTMLCanvasElement.prototype.getContext`\n  //   // https://github.com/jsdom/jsdom/blob/4c7698f760fc64f20b2a0ddff450eddbdd193176/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js\n  //   // when throw error, means mock is needed.\n  //   // code continue\n  // }\n  // if ctx not exist, mock it.\n  // just mock canvas creator.\n  /*\n  win.document.createElement = param => param.toString().toLowerCase() === 'canvas'\n    ? createCanvas('canvas')\n    : f.call(d, param);\n  */\n  // if not exist, then mock it.\n  if (!win.Path2D) win.Path2D = _Path2D.default;\n  if (!win.CanvasGradient) win.CanvasGradient = _CanvasGradient.default;\n  if (!win.CanvasPattern) win.CanvasPattern = _CanvasPattern.default;\n  if (!win.CanvasRenderingContext2D) win.CanvasRenderingContext2D = _CanvasRenderingContext2D.default;\n  if (!win.DOMMatrix) win.DOMMatrix = _DOMMatrix.default;\n  if (!win.ImageData) win.ImageData = _ImageData.default;\n  if (!win.TextMetrics) win.TextMetrics = _TextMetrics.default;\n  if (!win.ImageBitmap) win.ImageBitmap = _ImageBitmap.default;\n  if (!win.createImageBitmap) win.createImageBitmap = _createImageBitmap.default;\n  (0, _prototype.default)(win);\n  return win;\n};\nexports.default = _default;"],"mappings":"AAAA,YAAY;;AAEZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAC3CC,KAAK,EAAE;AACT,CAAC,CAAC;AACFD,OAAO,CAACE,OAAO,GAAG,KAAK,CAAC;AACxB,IAAIC,OAAO,GAAGC,sBAAsB,CAACC,OAAO,CAAC,kBAAkB,CAAC,CAAC;AACjE,IAAIC,eAAe,GAAGF,sBAAsB,CAACC,OAAO,CAAC,0BAA0B,CAAC,CAAC;AACjF,IAAIE,cAAc,GAAGH,sBAAsB,CAACC,OAAO,CAAC,yBAAyB,CAAC,CAAC;AAC/E,IAAIG,yBAAyB,GAAGJ,sBAAsB,CAACC,OAAO,CAAC,oCAAoC,CAAC,CAAC;AACrG,IAAII,UAAU,GAAGL,sBAAsB,CAACC,OAAO,CAAC,qBAAqB,CAAC,CAAC;AACvE,IAAIK,UAAU,GAAGN,sBAAsB,CAACC,OAAO,CAAC,qBAAqB,CAAC,CAAC;AACvE,IAAIM,YAAY,GAAGP,sBAAsB,CAACC,OAAO,CAAC,uBAAuB,CAAC,CAAC;AAC3E,IAAIO,YAAY,GAAGR,sBAAsB,CAACC,OAAO,CAAC,uBAAuB,CAAC,CAAC;AAC3E,IAAIQ,UAAU,GAAGT,sBAAsB,CAACC,OAAO,CAAC,kBAAkB,CAAC,CAAC;AACpE,IAAIS,kBAAkB,GAAGV,sBAAsB,CAACC,OAAO,CAAC,0BAA0B,CAAC,CAAC;AACpF,SAASD,sBAAsBA,CAACW,GAAG,EAAE;EAAE,OAAOA,GAAG,IAAIA,GAAG,CAACC,UAAU,GAAGD,GAAG,GAAG;IAAEb,OAAO,EAAEa;EAAI,CAAC;AAAE;AAC9F;AACA;AACA;AACA;AACA,IAAIE,QAAQ,GAAGC,GAAG,IAAI;EACpB,MAAMC,CAAC,GAAGD,GAAG,CAACE,QAAQ;EACtB,MAAMC,CAAC,GAAGH,GAAG,CAACE,QAAQ,CAACE,aAAa;;EAEpC;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACF;AACA;AACA;AACA;EACE;EACA,IAAI,CAACJ,GAAG,CAACK,MAAM,EAAEL,GAAG,CAACK,MAAM,GAAGpB,OAAO,CAACD,OAAO;EAC7C,IAAI,CAACgB,GAAG,CAACM,cAAc,EAAEN,GAAG,CAACM,cAAc,GAAGlB,eAAe,CAACJ,OAAO;EACrE,IAAI,CAACgB,GAAG,CAACO,aAAa,EAAEP,GAAG,CAACO,aAAa,GAAGlB,cAAc,CAACL,OAAO;EAClE,IAAI,CAACgB,GAAG,CAACQ,wBAAwB,EAAER,GAAG,CAACQ,wBAAwB,GAAGlB,yBAAyB,CAACN,OAAO;EACnG,IAAI,CAACgB,GAAG,CAACS,SAAS,EAAET,GAAG,CAACS,SAAS,GAAGlB,UAAU,CAACP,OAAO;EACtD,IAAI,CAACgB,GAAG,CAACU,SAAS,EAAEV,GAAG,CAACU,SAAS,GAAGlB,UAAU,CAACR,OAAO;EACtD,IAAI,CAACgB,GAAG,CAACW,WAAW,EAAEX,GAAG,CAACW,WAAW,GAAGlB,YAAY,CAACT,OAAO;EAC5D,IAAI,CAACgB,GAAG,CAACY,WAAW,EAAEZ,GAAG,CAACY,WAAW,GAAGlB,YAAY,CAACV,OAAO;EAC5D,IAAI,CAACgB,GAAG,CAACa,iBAAiB,EAAEb,GAAG,CAACa,iBAAiB,GAAGjB,kBAAkB,CAACZ,OAAO;EAC9E,CAAC,CAAC,EAAEW,UAAU,CAACX,OAAO,EAAEgB,GAAG,CAAC;EAC5B,OAAOA,GAAG;AACZ,CAAC;AACDlB,OAAO,CAACE,OAAO,GAAGe,QAAQ"}